{"aid": "40152869", "title": "Flexible Node.js AI-assisted crawler library", "url": "https://github.com/coder-hxl/x-crawl", "domain": "github.com/coder-hxl", "votes": 1, "user": "coderhxl", "posted_at": "2024-04-25 02:59:18", "comments": 2, "source_title": "GitHub - coder-hxl/x-crawl: Flexible Node.js AI-assisted crawler library", "source_text": "GitHub - coder-hxl/x-crawl: Flexible Node.js AI-assisted crawler library\n\nSkip to content\n\n## Navigation Menu\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\ncoder-hxl / x-crawl Public\n\n  * Notifications\n  * Fork 66\n  * Star 1.1k\n\nFlexible Node.js AI-assisted crawler library\n\ncoder-hxl.github.io/x-crawl/\n\n### License\n\nMIT license\n\n1.1k stars 66 forks Branches Tags Activity\n\nStar\n\nNotifications\n\n# coder-hxl/x-crawl\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n11 Branches\n\n65 Tags\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\ncoder-hxldocs: delete display imageApr 22, 20246f5f431 \u00b7 Apr 22, 2024Apr 22,\n2024\n\n## History\n\n460 Commits  \n  \n### .github\n\n|\n\n### .github\n\n| Merge pull request #103 from coder-hxl/renovate/actions-configure-pag...|\nApr 17, 2024  \n  \n### .vscode\n\n|\n\n### .vscode\n\n| Update: Internal type adjustments to catch errors in crawlPage API| Mar 19,\n2023  \n  \n### assets\n\n|\n\n### assets\n\n| docs: compression to reduce duplicate frames| Apr 10, 2024  \n  \n### docs\n\n|\n\n### docs\n\n| docs: delete display image| Apr 22, 2024  \n  \n### packages\n\n|\n\n### packages\n\n| feat: color output| Apr 10, 2024  \n  \n### publish\n\n|\n\n### publish\n\n| feat: version update| Apr 10, 2024  \n  \n### script\n\n|\n\n### script\n\n| test: change of name| Apr 8, 2024  \n  \n### test\n\n|\n\n### test\n\n| test: test| Apr 10, 2024  \n  \n### .editorconfig\n\n|\n\n### .editorconfig\n\n| \u57fa\u672c\u7ed3\u6784| Jan 22, 2023  \n  \n### .eslintignore\n\n|\n\n### .eslintignore\n\n| \u5176\u4ed6| Jan 28, 2023  \n  \n### .eslintrc.js\n\n|\n\n### .eslintrc.js\n\n| feat: ESM is used in full| Apr 5, 2024  \n  \n### .gitignore\n\n|\n\n### .gitignore\n\n| feat(docs): create website documents using vitepress| Apr 7, 2024  \n  \n### .prettierignore\n\n|\n\n### .prettierignore\n\n| \u57fa\u672c\u7ed3\u6784| Jan 22, 2023  \n  \n### .prettierrc\n\n|\n\n### .prettierrc\n\n| Docs: Description, Characteristics and Types| Apr 12, 2023  \n  \n### CHANGELOG.md\n\n|\n\n### CHANGELOG.md\n\n| feat: version update| Apr 10, 2024  \n  \n### CODE_OF_CONDUCT.md\n\n|\n\n### CODE_OF_CONDUCT.md\n\n| Create CODE_OF_CONDUCT.md| Mar 1, 2023  \n  \n### CONTRIBUTING.md\n\n|\n\n### CONTRIBUTING.md\n\n| Update CONTRIBUTING.md| Mar 1, 2023  \n  \n### LICENSE\n\n|\n\n### LICENSE\n\n| \u57fa\u672c\u7ed3\u6784| Jan 22, 2023  \n  \n### README.md\n\n|\n\n### README.md\n\n| docs: delete display image| Apr 22, 2024  \n  \n### SECURITY.md\n\n|\n\n### SECURITY.md\n\n| Add security| Mar 1, 2023  \n  \n### package.json\n\n|\n\n### package.json\n\n| Merge pull request #100 from coder-hxl/renovate/eslint-9.x| Apr 13, 2024  \n  \n### pnpm-lock.yaml\n\n|\n\n### pnpm-lock.yaml\n\n| Merge pull request #100 from coder-hxl/renovate/eslint-9.x| Apr 13, 2024  \n  \n### renovate.json\n\n|\n\n### renovate.json\n\n| Add renovate.json| Mar 20, 2023  \n  \n### rollup.config.js\n\n|\n\n### rollup.config.js\n\n| feat: switch to esm| Apr 4, 2024  \n  \n### tsconfig.json\n\n|\n\n### tsconfig.json\n\n| feat: src was renamed packages| Mar 31, 2024  \n  \n### vitest.config.ts\n\n|\n\n### vitest.config.ts\n\n| test: open Watch to view the ui| Apr 8, 2024  \n  \n## Repository files navigation\n\n# x-crawl \u00b7\n\nEnglish | \u7b80\u4f53\u4e2d\u6587\n\nx-crawl is a flexible Node.js AI-assisted crawler library. Flexible usage and\npowerful AI assistance functions make crawler work more efficient, intelligent\nand convenient.\n\nIt consists of two parts:\n\n  * Crawler: It consists of a crawler API and various functions that can work normally even without relying on AI.\n  * AI: Currently based on the large AI model provided by OpenAI, AI simplifies many tedious operations.\n\n> If you find x-crawl helpful, or you like x-crawl, you can give x-crawl\n> repository a like on GitHub A star. Your support is the driving force for\n> our continuous improvement! thank you for your support!\n\n## Features\n\n  * \ud83e\udd16 AI Assistance - Powerful AI assistance function makes crawler work more efficient, intelligent and convenient.\n  * \ud83d\udd8b\ufe0f Flexible writing - A single crawling API is suitable for multiple configurations, and each configuration method has its own advantages.\n  * \u2699\ufe0fMultiple uses - Supports crawling dynamic pages, static pages, interface data and file data.\n  * \u2692\ufe0f Control page - Crawling dynamic pages supports automated operations, keyboard input, event operations, etc.\n  * \ud83d\udc40 Device Fingerprinting - Zero configuration or custom configuration to avoid fingerprint recognition to identify and track us from different locations.\n  * \ud83d\udd25 Asynchronous Sync - Asynchronous or synchronous crawling mode without switching crawling API.\n  * \u23f1\ufe0f Interval crawling - no interval, fixed interval and random interval, determine whether to crawl with high concurrency.\n  * \ud83d\udd04 Failed Retry - Customize the number of retries to avoid crawling failures due to temporary problems.\n  * \u27a1\ufe0f Rotation proxy - Automatic proxy rotation with failed retries, custom error times and HTTP status codes.\n  * \ud83d\ude80 Priority Queue - Based on the priority of a single crawl target, it can be crawled ahead of other targets.\n  * \ud83e\uddfe Crawl information - Controllable crawl information, which will output colored string information in the terminal.\n  * \ud83e\uddbe TypeScript - Own types and implement complete types through generics.\n\n## AI assisted crawler\n\nWith the rapid development of network technology, website updates have become\nmore frequent, and changes in class names or structures often bring\nconsiderable challenges to crawlers that rely on these elements. Against this\nbackground, crawlers combined with AI technology have become a powerful weapon\nto meet this challenge.\n\nFirst of all, changes in class names or structures after website updates may\ncause traditional crawler strategies to fail. This is because crawlers often\nrely on fixed class names or structures to locate and extract the required\ninformation. Once these elements change, the crawler may not be able to\naccurately find the required data, thus affecting the effectiveness and\naccuracy of data crawling.\n\nHowever, crawlers combined with AI technology are better able to cope with\nthis change. AI can also understand and parse the semantic information of web\npages through natural language processing and other technologies to more\naccurately extract the required data.\n\nTo sum up, crawlers combined with AI technology can better cope with the\nproblem of class name or structure changes after website updates.\n\n## Example\n\nThe combination of crawler and AI allows the crawler and AI to obtain pictures\nof high-rated vacation rentals according to our instructions:\n\n    \n    \n    import { createCrawl, createCrawlOpenAI } from 'x-crawl' //Create a crawler application const crawlApp = createCrawl({ maxRetry: 3, intervalTime: { max: 2000, min: 1000 } }) //Create AI application const crawlOpenAIApp = createCrawlOpenAI({ clientOptions: { apiKey: process.env['OPENAI_API_KEY'] }, defaultModel: { chatModel: 'gpt-4-turbo-preview' } }) // crawlPage is used to crawl pages crawlApp.crawlPage('https://www.airbnb.cn/s/select_homes').then(async (res) => { const { page, browser } = res.data // Wait for the element to appear on the page and get the HTML const targetSelector = '[data-tracking-id=\"TOP_REVIEWED_LISTINGS\"]' await page.waitForSelector(targetSelector) const highlyHTML = await page.$eval(targetSelector, (el) => el.innerHTML) // Let the AI get the image link and de-duplicate it (the more detailed the description, the better) const srcResult = await crawlOpenAIApp.parseElements( highlyHTML, `Get the image link, don't source it inside, and de-duplicate it` ) browser.close() // crawlFile is used to crawl file resources crawlApp.crawlFile({ targets: srcResult.elements.map((item) => item.src), storeDirs: './upload' }) })\n\nCan even send the whole HTML to the AI to help us operate, because the website\ncontent is more complex you also need to describe the location to get more\naccurately, and will consume a lot of Tokens.\n\nEven if the subsequent update of the website causes the class name or\nstructure to change, it can climb to the data normally, because we no longer\nrely on the fixed class name or structure to locate and extract the required\ninformation, but let the AI understand and parse the semantic information of\nthe web page, so as to extract the required data more efficiently,\nintelligently and conveniently.\n\nRun:\n\nwarning: x-crawl is for legal use only. Any illegal activity using this tool\nis prohibited. Please be sure to comply with the robots.txt file regulations\nof the target website. This example is only used to demonstrate the use of\nx-crawl and is not targeted at a specific website.\n\n## Document\n\nx-crawl latest version documentation:\n\nEnglish | \u7b80\u4f53\u4e2d\u6587\n\nx-crawl v9 documentation:\n\nEnglish | \u7b80\u4f53\u4e2d\u6587\n\n## About\n\nFlexible Node.js AI-assisted crawler library\n\ncoder-hxl.github.io/x-crawl/\n\n### Topics\n\nnodejs javascript crawler typescript ai spider flexible fingerprint chromium\ncrawl multifunction puppeteer ai-crawl\n\n### Resources\n\nReadme\n\n### License\n\nMIT license\n\n### Code of conduct\n\nCode of conduct\n\n### Security policy\n\nSecurity policy\n\nActivity\n\n### Stars\n\n1.1k stars\n\n### Watchers\n\n13 watching\n\n### Forks\n\n66 forks\n\nReport repository\n\n## Releases 65\n\nv10.0.1 Latest\n\nApr 10, 2024\n\n\\+ 64 releases\n\n## Packages 0\n\nNo packages published\n\n## Contributors 4\n\n  * coder-hxl CoderHXL\n  * renovate[bot]\n  * ImgBotApp Imgbot\n  * dependabot[bot]\n\n## Languages\n\n  * TypeScript 98.1%\n  * JavaScript 1.9%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
