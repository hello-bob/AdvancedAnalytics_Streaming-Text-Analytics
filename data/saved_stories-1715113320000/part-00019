{"aid": "40284295", "title": "Chkbit: Check the data integrity of your files over time", "url": "https://github.com/laktak/chkbit-py", "domain": "github.com/laktak", "votes": 1, "user": "laktak", "posted_at": "2024-05-07 11:24:42", "comments": 0, "source_title": "GitHub - laktak/chkbit-py: Check the data integrity of your files over time", "source_text": "GitHub - laktak/chkbit-py: Check the data integrity of your files over time\n\nSkip to content\n\n## Navigation Menu\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\nlaktak / chkbit-py Public\n\n  * Notifications\n  * Fork 6\n  * Star 64\n\nCheck the data integrity of your files over time\n\n### License\n\nMIT license\n\n64 stars 6 forks Branches Tags Activity\n\nStar\n\nNotifications\n\n# laktak/chkbit-py\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n2 Branches\n\n1 Tags\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\nlaktakreadmeJan 22, 2024a6c4aae \u00b7 Jan 22, 2024Jan 22, 2024\n\n## History\n\n52 Commits  \n  \n### .github/workflows\n\n|\n\n### .github/workflows\n\n| publish1| Jan 13, 2024  \n  \n### chkbit\n\n|\n\n### chkbit\n\n| pyinstaller| Jan 12, 2024  \n  \n### chkbit_cli\n\n|\n\n### chkbit_cli\n\n| pyinstaller| Jan 12, 2024  \n  \n### .editorconfig\n\n|\n\n### .editorconfig\n\n| update description, output| Nov 18, 2020  \n  \n### .gitignore\n\n|\n\n### .gitignore\n\n| pyinstaller| Jan 12, 2024  \n  \n### LICENSE\n\n|\n\n### LICENSE\n\n| initial| Sep 23, 2019  \n  \n### Pipfile\n\n|\n\n### Pipfile\n\n| pyinstaller| Jan 12, 2024  \n  \n### Pipfile.lock\n\n|\n\n### Pipfile.lock\n\n| refactor/rewrite the cli| Dec 21, 2023  \n  \n### README.md\n\n|\n\n### README.md\n\n| readme| Jan 22, 2024  \n  \n### pyproject.toml\n\n|\n\n### pyproject.toml\n\n| dist| Jan 13, 2024  \n  \n### requirements.txt\n\n|\n\n### requirements.txt\n\n| pyinstaller| Jan 12, 2024  \n  \n### run.py\n\n|\n\n### run.py\n\n| pyinstaller| Jan 12, 2024  \n  \n## Repository files navigation\n\n# chkbit\n\nchkbit is a tool that ensures the safety of your files by checking if their\ndata integrity remains intact over time, especially during transfers and\nbackups. It helps detect issues like disk damage, filesystem errors, and\nmalware interference.\n\n  * How it works\n  * Installation\n  * Usage\n  * Repair\n  * Ignore files\n  * FAQ\n  * Development\n\n## How it works\n\n  * On your Disk: chkbit starts by creating checksums for each folder on your main disk. It alerts you to potential problems such as damage on the disk, filesystem errors, and malware attacks that could alter your files.\n\n  * On your Backup: Regardless of your storage media, chkbit stores indexes in hidden files alongside your data during backups. When you run chkbit on your backup, it verifies that every byte was accurately transferred. If issues like bitrot/data degradation occur, chkbit helps identify damaged files, alerting you to replace them with other backups.\n\n  * For Data in the Cloud: chkbit is useful for cloud-stored data, alerting you to any changes introduced by cloud providers like video re-encoding or image compression. It ensures your files remain unchanged in the cloud.\n\nRemember to always maintain multiple backups for comprehensive data\nprotection.\n\n## Installation\n\n  * Download for Linux, macOS or Windows.\n  * Linux packages for Arch, Debian, Fedora, Suse and Ubuntu via the Open Build Service\n  * Get it with pipx: pipx install chkbit\n\nHomebrew is delayed until we reach their >=75 stars rule.\n\n## Usage\n\nRun chkbit -u PATH to create/update the chkbit index.\n\nchkbit will\n\n  * create a .chkbit index in every subdirectory of the path it was given.\n  * update the index with blake3 (see --algo) hashes for every file.\n  * report damage for files that failed the integrity check since the last run (check the exit status).\n\nRun chkbit PATH to verify only.\n\n    \n    \n    usage: chkbit [-h] [-u] [--show-ignored-only] [--algo ALGO] [-f] [-s] [-l FILE] [--log-verbose] [--index-name NAME] [--ignore-name NAME] [-w N] [--plain] [-q] [-v] [PATH ...] Checks the data integrity of your files. See https://github.com/laktak/chkbit-py positional arguments: PATH directories to check options: -h, --help show this help message and exit -u, --update update indices (without this chkbit will verify files in readonly mode) --show-ignored-only only show ignored files --algo ALGO hash algorithm: md5, sha512, blake3 (default: blake3) -f, --force force update of damaged items -s, --skip-symlinks do not follow symlinks -l FILE, --log-file FILE write to a logfile if specified --log-verbose verbose logging --index-name NAME filename where chkbit stores its hashes, needs to start with '.' (default: .chkbit) --ignore-name NAME filename that chkbit reads its ignore list from, needs to start with '.' (default: .chkbitignore) -w N, --workers N number of workers to use (default: 5) --plain show plain status instead of being fancy -q, --quiet quiet, don't show progress/information -v, --verbose verbose output .chkbitignore rules: each line should contain exactly one name you may use Unix shell-style wildcards (see README) lines starting with `#` are skipped lines starting with `/` are only applied to the current directory Status codes: DMG: error, data damage detected EIX: error, index damaged old: warning, file replaced by an older version new: new file upd: file updated ok : check ok ign: ignored (see .chkbitignore) EXC: internal exception\n\nchkbit is set to use only 5 workers by default so it will not slow your system\nto a crawl. You can specify a higher number to make it a lot faster if the IO\nthroughput can also keep up.\n\n## Repair\n\nchkbit is designed to detect \"damage\". To repair your files you need to think\nahead:\n\n  * backup regularly\n  * run chkbit before each backup\n  * run chkbit after a backup on the backup media (readonly)\n  * in case of any issues, restore from a checked backup medium.\n\n## Ignore files\n\nAdd a .chkbitignore file containing the names of the files/directories you\nwish to ignore\n\n  * each line should contain exactly one name\n  * you may use Unix shell-style wildcards\n\n    * * matches everything\n    * ? matches any single character\n    * [seq] matches any character in seq\n    * [!seq] matches any character not in seq\n  * lines starting with # are skipped\n  * lines starting with / are only applied to the current directory\n  * you can use path/sub/name to ignore a file/directory in a sub path\n  * hidden files (starting with a .) are ignored by default\n\n## FAQ\n\n### Should I run chkbit on my whole drive?\n\nYou would typically run it only on content that you keep for a long time (e.g.\nyour pictures, music, videos).\n\n### Why is chkbit placing the index in .chkbit files (vs a database)?\n\nThe advantage of the .chkbit files is that\n\n  * when you move a directory the index moves with it\n  * when you make a backup the index is also backed up\n\nThe disadvantage is obviously that you get hidden .chkbit files in your\ncontent folders.\n\n### How does chkbit work?\n\nchkbit operates on files.\n\nWhen run for the first time it records a hash of the file contents as well as\nthe file modification time.\n\nWhen you run it again it first checks the modification time,\n\n  * if the time changed (because you made an edit) it records a new hash.\n  * otherwise it will compare the current hash to the recorded value and report an error if they do not match.\n\n### I wish to use a different hash algorithm\n\nchkbit now uses blake3 by default. You can also specify --algo sha512 or\n--algo md5.\n\nNote that existing index files will use the hash that they were created with.\nIf you wish to update all hashes you need to delete your existing indexes\nfirst. A conversion mode may be added later (PR welcome).\n\n### How can I delete the index files?\n\nList them with\n\n    \n    \n    find . -name .chkbit\n\nand add -delete to delete.\n\n### Can I test if chkbit is working correctly?\n\nOn Linux/macOS you can try:\n\nCreate test and set the modified time:\n\n    \n    \n    $ echo foo1 > test; touch -t 201501010000 test $ chkbit -u . new ./test Processed 1 file. - 0:00:00 elapsed - 192.31 files/second - 0.00 MB/second - 1 directory was updated - 1 file hash was added - 0 file hashes were updated\n\nnew indicates a new file was added.\n\nNow update test with a new modified:\n\n    \n    \n    $ echo foo2 > test; touch -t 201501010001 test # update test & modified $ chkbit -u . upd ./test Processed 1 file. - 0:00:00 elapsed - 191.61 files/second - 0.00 MB/second - 1 directory was updated - 0 file hashes were added - 1 file hash was updated\n\nupd indicates the file was updated.\n\nNow update test with the same modified to simulate damage:\n\n    \n    \n    $ echo foo3 > test; touch -t 201501010001 test $ chkbit -u . DMG ./test Processed 1 file. - 0:00:00 elapsed - 173.93 files/second - 0.00 MB/second chkbit detected damage in these files: ./test error: detected 1 file with damage!\n\nDMG indicates damage.\n\n## Development\n\nWith pipenv (install with pipx install pipenv):\n\n    \n    \n    # setup pipenv install # run chkbit pipenv run python3 run.py\n\nTo build a source distribution package from pyproject.toml\n\n    \n    \n    pipx run build\n\nYou can then install your own package with\n\n    \n    \n    pipx install dist/chkbit-*.tar.gz\n\nThe binaries are created using pyinstaller via Github actions.\n\n## About\n\nCheck the data integrity of your files over time\n\n### Topics\n\nbackup data-integrity cloud-backup storage-media disk-check data-degradation\nbitrot-detection\n\n### Resources\n\nReadme\n\n### License\n\nMIT license\n\nActivity\n\n### Stars\n\n64 stars\n\n### Watchers\n\n6 watching\n\n### Forks\n\n6 forks\n\nReport repository\n\n## Releases 1\n\nv4.1.0 Latest\n\nJan 13, 2024\n\n## Contributors 4\n\n  * laktak Christian Zangl\n  * pmjdebruijn Pascal de Bruijn\n  * jminor Joshua Minor\n  * spock Bogdan\n\n## Languages\n\n  * Python 100.0%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
