{"aid": "40153471", "title": "Exploring the Latest Security Features in Ubuntu 24.04", "url": "https://mondoo.com/blog/exploring-the-latest-security-features-in-ubuntu-24-04", "domain": "mondoo.com", "votes": 1, "user": "botanical", "posted_at": "2024-04-25 04:38:15", "comments": 0, "source_title": "Exploring the Latest Security Features in Ubuntu 24.04 | Mondoo", "source_text": "Exploring the Latest Security Features in Ubuntu 24.04 | Mondoo\n\nThis website stores cookies on your computer. These cookies are used to\ncollect information about how you interact with our website and allow us to\nremember you. We use this information in order to improve and customize your\nbrowsing experience and for analytics and metrics about our visitors both on\nthis website and other media. To find out more about the cookies we use, see\nour Privacy Policy\n\nIf you decline, your information won\u2019t be tracked when you visit this website.\nA single cookie will be used in your browser to remember your preference not\nto be tracked.\n\nAccept Decline\n\nLog in\n\nGet started\n\nBack to blog\n\nLinux\n\n# Exploring the Latest Security Features in Ubuntu 24.04\n\nTim Smith\n\nApril 19, 2024\n\n7 min read\n\nIn the mere two years since the previous LTS release of Ubuntu shipped, the\ntechnology landscape has changed in profound ways. Because we\u2019ve seen an\nexplosion of ransomware attacks and critical Linux CVEs, it\u2019s more important\nthan ever to secure Linux systems. Thankfully, the industry has responded with\na focus on security in Linux core components. That emphasis makes Ubuntu 24.04\nperhaps the most important Ubuntu release ever for those concerned with\nsecuring their systems. We\u2019ve combed through various Linux project changelogs,\nDebian package maintainer mailing lists, and piles of pages on Canonical's\nLaunchpad system to bring you a definitive list of everything new in security\nin Ubuntu 24.04. Think we missed something important? Let us know at\nhello@mondoo.com.\n\n## Kernel 6.8\n\nKernel updates aren\u2019t just about finally fixing your flakey WIFI or getting a\nfew more FPS out of Tux Racer; they come with serious security improvements.\nAnd with Ubuntu 24.04, the Linux kernel takes the leap from 5.15 all the way\nto 6.8. Those two years of kernel development come with significant security\nimprovements, from CPU-enabled security to hypervisor security, all with the\naim of protecting your systems from attackers.\n\n### Hardware-based security\n\nRecently it seems there\u2019s been an endless stream of hardware attacks, from\nMeltdown and Spectre to the most recent M1/M2 processor attacks. Mitigations\nto those vulnerabilities have had a costly performance impact on systems, but\nthere\u2019s finally relief in the form of improved hardware security to stop many\nof these attacks from occurring in the future. The best part is that it\ndoesn\u2019t matter if you\u2019re team AMD or team Intel: There\u2019s something for\neveryone in these latest kernel releases.\n\n#### Intel-specific improvements\n\n  * Indirect Branch Tracking (IBT) on Intel\u2019s latest CPUs is a new Control-Flow Enforcement Technology (CET) method. It provides hardware-based protection against jump/call-oriented programming (JOP/COP) attacks on Tiger Lake and later processors. See the LWN article for more details.\n  * Support for Intel\u2019s Software Guard Extensions 2 (SGX2) hardware secure memory feature (which was introduced in the Gemini Lake/Ice Lake processors) introduces an improved secure memory enclave that allows processes to encrypt memory space in order to prevent snooping. One particularly interesting use of this technology is encrypting VM memory space to prevent other system processes or VMs from reading the contents.\n  * Intel Linear Address Masking safely reserves a portion of pointer address space for metadata. Note that this LAM implementation is specific to Intel processors and differs from AMD\u2019s implementation, which shipped in 2019. See the LWN article for more details.\n  * Intel Control-Flow Enforcement Technology (CET) is a marketing name for Intel\u2019s implementation of a shadow stack system. In this system, a second shadow stack that cannot be directly modified is maintained for parity purposes. The processor pushes return addresses to both the standard stack and the shadow stack and then compares return values to make sure they match. By raising an error if the stack addresses differ, the processor can prevent control flow hijack attacks. To learn more, read Intel\u2019s lengthy PDF description of how this system works.\n  * Mitigation for the Gather Data Sampling (GDS) hardware vulnerability allows unprivileged speculative access to data that was previously stored in vector registers. See the Intel GDS article for a very lengthy description of this vulnerability.\n\n#### AMD-specific improvements\n\n  * There is now mitigation for the Speculative Return Stack Overflow (SRSO) vulnerabilities in AMD processors (CVE-2023-20569). See the Kernel SRSO docs for more information on how the mitigation was achieved.\n  * Support for the AMD Zen 4\u2019s Automatic IBRS (Indirect Branch Restricted Speculation) provides mitigation for Spectre v2 without the performance impact of software-only measures. See Phoronix.com performance testing for in-depth benchmarking.\n\n#### Something for everyone\n\n  * Straight-line speculation attack mitigation delivers kernel-level mitigation against the Spectre variant straight-line speculation CPU attack that was originally reported by ARM (but is present in multiple other CPU architectures).\n  * Kernel Control Flow Integrity (KCFI) support is one of the more interesting kernel security features that has recently been introduced. This new CFI implementation is easier to enable, hardening the kernel against attacks that modify kernel control flow. See this excellent LWN.net article for a detailed look at how CFI protects the kernel.\n\n### Hypervisor security\n\n  * Secure virtualization with new CPU support from AMD and Intel protects guest VMs from hypervisor-based attacks. AMD\u2019s Secure Nested Paging (SEV-SNP) provides memory integrity protection. Intel\u2019s Trust Domain Extensions (TDX) provides both memory integrity and encryption.\n  * Hyper-V Virtual Trust Level (VTL) support provides 16 trust access levels for VMs to isolate memory, virtual CPUs, and interrupts based on trust level. See Microsoft\u2019s Virtual Secure Mode documentation for more information.\n  * Hyper-V Confidential VM support is expanded to include PCI pass-thru support.\n  * Memory acceptance (as defined in UEFI Specification version 2.9) supports secure VMs with Intel\u2019sl TDX and AMD\u2019s SEV-SNP. This allows the VM to boot with a minimum amount of memory and later securely accept additional memory as it\u2019s required instead of when the hypervisor provides it. See the LWN article for information on how this feature eventually shipped.\n\n### Cryptography improvements\n\n  * Better random number generation not only improves cryptography but also increases performance.\n  * Support for HCTR2, which is a length-preserving (plain text size == encrypted size) encryption method, works well with hardware acceleration in x86 and ARM processors.\n  * Hardware acceleration for AES cipher in GCM mode on ARM increases performance by ~75% in testing.\n  * There's also hardware acceleration for the ARIA cipher on Intel AVX2 and AVX-512 capable processors.\n  * DES-based encryption for NFS connections are disabled by default, with the ability to also disable SHA-1.\n  * Ubuntu 24.04 removes support for insecure X.509 MD4/MD5/SHA1.\n  * The release includes FIPS 202 SHA-3 support.\n\n### Networking security\n\n  * NFSD has added support for RPC-with-TLS.\n  * Support for TCP Authentication Option (TCP-AO, as defined in RFC5925) provides a new, more secure method of verifying TCP segments between hosts than the older TCP-MD5.\n  * Netfilter egress hooks classify and potentially reroute traffic egressing your host based on rules to mitigate data exfiltration.\n\n### Memory security\n\n  * Randomized slab caches prevent memory heap spraying attacks. Learn about this mitigation technique in the kernel.org git commit.\n  * Ubuntu 24.04 has secret memory support with a new memfd_secret system call. Using this new syscall, a process can write data to system memory that only that process can read. This can prevent processes from snooping keys from memory.\n\n### Time for SELinux\n\nLast, but not certainly not least, this is the first release of Ubuntu in\nwhich SELinux cannot be disabled at runtime. 2024 is finally the year to learn\nhow to make your app run properly with SELinux enabled because it\u2019s no longer\na choice.\n\n#### Monitor your infrastructure for security misconfigurations and maps those\nchecks automatically to top compliance frameworks.\n\nGet started\n\n## Sudo 1.9.15\n\nSudo 1.9.15, included in Ubuntu 24.04, has several useful security\nimprovements that help users better control who can use sudo and how\nauthentication behaves. Here are some of the key changes:\n\n  * The use_pty sudoers option is now set by default to protect against privilege escalations and command injection.\n  * POSIX regular expressions are now supported in the sudoers file to replace unsafe * matches, which could allow users to execute commands not intended by administrators.\n  * Custom sudo prompts can also be employed when using the sudo Kerberos module.\n  * Commands can be forced to run under AppArmor profiles that further lock down security with a new APPARMOR_PROFILE sudoers configuration option.\n  * Base sudo configuration files can now be stored on read-only systems while still specifying a writable directory for overrides.\n\n## apt 2.7.10\n\nIt may feel like apt functionality is set in stone, but this release of Ubuntu\nupgrades apt from 2.4.11 to 2.7.10 with three nice security additions:\n\n  * Packages with the same version are now validated additionally using SHA-256 hashes.\n  * Failures running apt on FIPS-enabled systems have been resolved.\n  * Repositories (and PPAs) must now use 2048-bit RSA or greater signing.\n\n## Coreutils 9.4\n\nThe coreutils package includes such favorites as ls, mv, tr, and chksm. If it\nfeels like 70s UNIX, it probably comes as part of the coreutils package.\nUbuntu 24.04 upgrades coreutils from 8.32 to 9.4 with a few notable security\nimprovements when writing scripts:\n\n  * Skip using individual binaries for each checksum format and instead use chksum -a ALGORITHM to validate checksums.\n  * chksum -a now supports the SM3 algorithm.\n\n  * chksum --check now autodetects checksum formats so you don\u2019t have to worry about what format is provided.\n  * chksum \u2013check now supports CRLF line endings in checksum files.\n  * checksum CRC support is now 4-8x faster.\n\n## sssd 2.9.4\n\nsssd, which provides authentication against remote directory servers, was\nupgraded from 2.6.3 to 2.94 with a few notable new features, specifically for\nenterprise workstation deployments. It now supports:\n\n  * Passkey authentication for use with FIDO2 compliant devices\n  * OAuth2 authentication against the latest releases of FreeIPA\n\n## systemd 255\n\nsystemd, the heart of modern Linux systems, has a large impact on the overall\nsecurity of hosts. The new release, systemd 255, includes improvements to\nbetter secure individual unit files (such as services), encrypt disks using\nkeys in TPM2 chips, and improve the overall security of the system.\n\n### Unit file improvements for secure services\n\n  * New systemd unit configuration options allow users to limit the filesystem and network access of services. This is particularly useful in limiting the attack surface if a service is compromised by attackers.\n  * Credentials used by services at startup can now be encrypted and stored locally or within TPM2 chips using a systemd-creds command. These credentials are decrypted and made available to the service at startup but no longer need to be stored in configuration files that could be read by users.\n  * New unit configuration options, ReloadLimitIntervalSec and ReloadLimitBurst, let you control how rapidly services attempt to restart. These are great configuration options to prevent system denial of service attacks through service crashing.\n\n### TPM2 and full disk encryption (FDE) improvements\n\n  * Communication between systemd and TPM2 devices is now conducted using a bind key for improved security.\n  * The systemd-cryptenroll command includes improved support for unlocking using FIDO2 tokens.\n  * A new tool, ukify, for building Unified Kernel Images, can pull full disk encryption (FDE) keys from the TPM2 store when dual booting Linux with encrypted Windows drives.\n  * systemd-cryptenroll now allows enrollment without access to the actual TPM2 hardware using the --tpm2-device-key switch and the public key. This can be used to seal LUKS images offline for a specific TPM2 chip.\n  * systemd-cryptenroll can now specify a TPM2 key handle instead of using the default Storage Roto Key (SRK).\n  * A TPM2 Storage Root Key will now be set up at boot (if not already present) via the systemd-tpm2-setup service.\n\n### Virtual machine security\n\n  * VM bootstrap configuration data can now be passed to systemd without the need for cloud-init by passing data using the DMI type 11 field.\n  * Unit files can now detect when running on confidential virtual machines with a new cvm value in the ConditionSecurity configuration.\n\n### Overall system security\n\n  * For users sharing a system with other users, systemd-homed has been improved to keep user data safe between sessions. systemd-homed now repeatedly attempts to unmount the user\u2019s home directory on logout to prevent the next user from accessing sensitive data.\n  * systemd-resolved now continues to use DNS over TLS even if it has been restarted. It also no longer hard-fails if the nameserver is using an unrecognized protocol.\n  * Networkd now supports passing values to the kernel netlabel modules via a new NetLabel= config option.\n  * The /etc/os-release spec now includes an optional SUPPORT_END field to expose distro EOL dates to tools like Mondoo. Thank you, systemd team!\n  * Process spawning has been improved to not inherit the memory space of the manager before the exec.\n  * System and service credentials are now stored in a tmpfs volume with the noswap option to allow ACL support and size limit enforcement.\n\n## cryptsetup 2.7.0\n\ncryptsetup is a utility generally used to setup LUKS (Linux Unified Key Setup)\ndisk encryption, along with other formats supported by dm-crypt. Ubuntu 24.04\nupdates cryptsetup from 2.4.3 to 2.7.0 bringing many useful new features to\nthe world of full disk encryption:\n\n  * Remove encryption from a volume with a new --decryption flag.\n  * Add a new --force-offline-reencrypt flag to force the offline re-encryption process.\n  * Don\u2019t allow users to accidentally create volumes with nested encryption\n  * Add support for FileVault2 encryption on HFS+ volumes. Note: This is not more modern FileVault support on APFS.\n  * Improve detection of FIPS support on the system.\n  * Support hardware OPAL disk encryption on self encrypting disks (SEDs).\n\n## There's even more\n\nRemarkably, this isn't the full extent of security improvements in Ubuntu\n24.04. But these are the features that most excite us. The Linux community has\ngrown serious about providing as many advantages as possible for protecting\nsystems, and it's reflected in this new Ubuntu LTS release.\n\nWhile all of these enhancements give you the ability to better secure your\nenvironments, you still need to make smart configuration decisions and stay on\ntop of new vulnerabilities that arise every day. Mondoo is a unified platform\nthat prioritizes the security issues that are most important to fix. Instead\nof drowning you with a fire-hose stream of low-risk and irrelevant findings,\nMondoo reveals the security problems that are most critical in the context of\nyour unique infrastructure. To learn more, read about Firewatch, our newest\nset of prioritization features.\n\nTim Smith\n\nTim Smith is a Product Manager at Mondoo. He\u2019s been working in web operations\nand software development roles since 2007, port scanning class As since 1994,\nand downloaded his first Linux distro on a 14.4 modem. He most recently held\npositions at Limelight Networks, Cozy Co, and Chef Software.\n\n### You might also like\n\nReleases\n\n###### Mondoo Firewatch\n\nDominik Richter\n\nApril 17, 2024\n\nReleases\n\n###### Mondoo March 2024 Release Highlights\n\nLetha Dunn,\n\nTim Smith\n\nApril 12, 2024\n\nVulnerabilities\n\n###### Patching Made Easy: Introducing Guided Remediation in Mondoo\n\nChip Johnson\n\nApril 10, 2024\n\n# Stay informed with our news and new articles\n\nThank you! Your submission has been received!\n\nOops! Something went wrong while submitting the form.\n\nProduct\n\nMondoo PlatformFeatures and CapabilitiesIntegrationsPricing\n\nSolutions\n\nFinancial ServicesManufacturingHealthcare\n\nOpen Source\n\ncnquerycnspec\n\nResources\n\nBlogWhitepaperSupport\n\nCompany\n\nAboutContactNewsroom\n\n\u00a9 2024 Mondoo Inc.\n\nMade by tonik\n\nPrivacy PolicyTerms of ServiceCookie Settings\n\n\u00a9 2023 Mondoo Inc.\n\nMade by tonik\n\n", "frontpage": false}
