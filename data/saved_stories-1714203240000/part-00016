{"aid": "40175038", "title": "How to modernize your captive network (2020)", "url": "https://developer.apple.com/news/?id=q78sq5rv", "domain": "developer.apple.com", "votes": 1, "user": "LeoPanthera", "posted_at": "2024-04-26 22:32:15", "comments": 0, "source_title": "How to modernize your captive network - Discover - Apple Developer", "source_text": "How to modernize your captive network - Discover - Apple Developer\n\nView in English\n\n## How to modernize your captive network\n\nJune 22, 2020\n\nIf you\u2019ve ever used Wi-Fi on an airplane, in a cafe, or at a hotel, you're\nprobably familiar with the experience of navigating through a set of\nagreements, watching an advertisement, or purchasing a plan to get on the\nInternet. These \u201ccaptive\u201d networks are important ways to get online, but all\ntoo often they lead to headaches. \u201cHow do I get to the login page? How much\ntime do I have left before my plan runs out?\u201d\n\nGood news: You can make this process smoother and more consistent for people\nusing your network with iOS 14 and macOS Big Sur. If you run a captive Wi-Fi\nnetwork, or if you build captive network solutions, now is the time to start\nupdating \u2014 and here\u2019s everything you need to know to get started.\n\n### Advertise a captive network\n\nTraditionally, captive networks rely on intercepting traffic from the person\nconnected. By default, iOS and macOS automatically send a probe when joining\nyour network for the first time to detect this interception, and display the\ncaptive portal login page. If the session expires, however, this interception\ncan interfere with pages someone accesses in Safari and other apps: Safari\nmight load the wrong page, or display a security warning.\n\nYou can make this experience better for everyone by integrating the DHCP or\nIPv6 Router Advertisement (RA) options for Captive Portals on iOS 14 and macOS\nBig Sur. These options are part of a new standard that allows your access\npoint to advertise that it is \u201ccaptive\u201d when a device first joins, rather than\nrely on traffic interception.\n\nWhile the experience looks the same for legacy captive networks and networks\nthat adopt these standards, updating gives your network a more reliable way to\ncommunicate captivity status to someone\u2019s device, and lays the groundwork for\nnew functionality supported by the standards.\n\nIf your network supports these options, iOS and macOS will begin processing\nthe captive network status automatically. Within each option is a URL that\nprovides the status of a captive network session as JSON. Note that if you use\nmultiple methods to advertise the captive network, such as both DHCP and IPv6\nRA, the URLs must match.\n\n    \n    \n    DHCP Option: 114 (Captive-Portal) Length: 38 Value: https://example.org/captive-portal/api DHCPv6 Option: 103 (Captive-Portal) Length: 38 Value: https://example.org/captive-portal/api IPv6 RA Option: 37 (Captive-Portal) Length: 38 Value: https://example.org/captive-portal/api\n\n### Provide session status updates\n\nWhen you adopt this standard, your captive network can also provide detailed\nstatus information about the connection to your devices through a JSON API.\nThis lets the devices know whether or not they can access the Internet, which\nwebpage to present to the user, and how much time is left in a session.\n\n    \n    \n    HTTP/1.1 200 OK Cache-Control: private Date: Mon, 22 Jun 2020 05:08:13 GMT Content-Type: application/captive+json { \"captive\": false, \"user-portal-url\": \"https://example.org/portal.html\", \"venue-info-url\": \"https://flight.example.com/entertainment\", \"seconds-remaining\": 326, \"can-extend-session\": true }\n\nYour Captive Portal API server must be running on a host with TLS encryption.\nThis ensures that your communication to client devices can\u2019t be modified or\nintercepted.\n\n### Connecting in 3, 2, 1\n\nIf you build captive network solutions, start supporting the latest standards\nto advertise your captive network and provide session status updates. Try it\nout with iOS 14 and macOS Big Sur. And if your company deploys captive network\nportals, contact your router vendor to make sure they\u2019re ready to deploy the\nlatest standards for captive networks.\n\n### Resources\n\nSpecification for Captive Portal Advertisement\n\nSpecification for Captive Portal JSON API\n\nManage captive Wi-Fi networks\n\nNEHotspotHelper\n\n## Developer Footer\n\nGet the Apple Developer app.\n\nCopyright \u00a9 2024 Apple Inc. All rights reserved.\n\nTerms of Use Privacy Policy Agreements and Guidelines\n\n", "frontpage": false}
