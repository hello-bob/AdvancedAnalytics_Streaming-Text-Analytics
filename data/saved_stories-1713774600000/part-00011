{"aid": "40110267", "title": "Next.js Turbopack", "url": "https://nextjs.org/docs/architecture/turbopack", "domain": "nextjs.org", "votes": 1, "user": "bpierre", "posted_at": "2024-04-21 23:54:41", "comments": 0, "source_title": "Architecture: Turbopack | Next.js", "source_text": "Architecture: Turbopack | Next.js\n\nSkip to content\n\nArchitectureTurbopack\n\n# Turbopack\n\nTurbopack (beta) is an incremental bundler optimized for JavaScript and\nTypeScript, written in Rust, and built into Next.js.\n\n## Usage\n\nTurbopack can be used in Next.js in both the pages and app directories for\nfaster local development. To enable Turbopack, use the --turbo flag when\nrunning the Next.js development server.\n\npackage.json\n\n    \n    \n    { \"scripts\": { \"dev\": \"next dev --turbo\", \"build\": \"next build\", \"start\": \"next start\", \"lint\": \"next lint\" } }\n\n## Supported features\n\nTurbopack in Next.js requires zero-configuration for most users and can be\nextended for more advanced use cases. To learn more about the currently\nsupported features for Turbopack, view the API Reference.\n\n## Unsupported features\n\nTurbopack currently only supports next dev and does not support next build. We\nare currently working on support for builds as we move closer towards\nstability.\n\nThese features are currently not supported:\n\n  * webpack() configuration in next.config.js\n\n    * Turbopack replaces Webpack, this means that webpack configuration is not supported.\n    * To configure Turbopack, see the documentation.\n    * A subset of Webpack loaders are supported in Turbopack.\n  * Babel (.babelrc)\n\n    * Turbopack leverages the SWC compiler for all transpilation and optimizations. This means that Babel is not included by default.\n    * If you have a .babelrc file, you might no longer need it because Next.js includes common Babel plugins as SWC transforms that can be enabled. You can read more about this in the compiler documentation.\n    * If you still need to use Babel after verifying your particular use case is not covered, you can leverage Turbopack's support for custom webpack loaders to include babel-loader.\n  * Creating a root layout automatically in App Router.\n\n    * This behavior is currently not supported since it changes input files, instead, an error will be shown for you manually add a root layout in the desired location.\n  * @next/font (legacy font support).\n\n    * @next/font is deprecated in favor of next/font. next/font is fully supported with Turbopack.\n  * new Worker('file', import.meta.url).\n\n    * We are planning to implement this in the future.\n  * Relay transforms\n\n    * We are planning to implement this in the future.\n  * experimental.nextScriptWorkers\n\n    * We are planning to implement this in the future.\n  * AMP.\n\n    * We are currently not planning to support AMP in Next.js with Turbopack.\n  * Yarn PnP\n\n    * We are currently not planning to support Yarn PnP in Next.js with Turbopack.\n  * experimental.urlImports\n\n    * We are currently not planning to support experimental.urlImports in Next.js with Turbopack.\n\n## Generating Trace Files\n\nTrace files allow the Next.js team to investigate and improve performance\nmetrics and memory usage. To generate a trace file, append\nNEXT_TURBOPACK_TRACING=1 to the next dev --turbo command, this will generate a\n.next/trace.log file.\n\nWhen reporting issues related to Turbopack performance and memory usage,\nplease include the trace file in your GitHub issue.\n\nWas this helpful?\n\n#### Resources\n\nDocsLearnShowcaseBlogAnalyticsNext.js ConfDX Platform\n\n#### More\n\nNext.js CommerceContact SalesGitHubReleasesTelemetryGovernance\n\n#### About Vercel\n\nNext.js + VercelOpen Source SoftwareGitHubX\n\n#### Legal\n\nPrivacy Policy\n\n#### Subscribe to our newsletter\n\nStay updated on new releases and features, guides, and case studies.\n\n\u00a9 2024 Vercel, Inc.\n\n", "frontpage": false}
