{"aid": "40188097", "title": "A UI for restic: Backrest is a web UI and orchestrator for restic backup", "url": "https://github.com/garethgeorge/backrest", "domain": "github.com/garethgeorge", "votes": 1, "user": "dp-hackernews", "posted_at": "2024-04-28 12:26:31", "comments": 0, "source_title": "GitHub - garethgeorge/backrest: Backrest is a web UI and orchestrator for restic backup.", "source_text": "GitHub - garethgeorge/backrest: Backrest is a web UI and orchestrator for\nrestic backup.\n\nSkip to content\n\n## Navigation Menu\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\ngarethgeorge / backrest Public\n\n  * Notifications\n  * Fork 25\n  * Star 553\n\nBackrest is a web UI and orchestrator for restic backup.\n\n### License\n\nGPL-3.0 license\n\n553 stars 25 forks Branches Tags Activity\n\nStar\n\nNotifications\n\n# garethgeorge/backrest\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n4 Branches\n\n31 Tags\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\nzolfariotandLorenzo Zolfanellifix: use int64 for large values in structs for\ncompatibility with 32b...Apr 27, 202484b4b68 \u00b7 Apr 27, 2024Apr 27, 2024\n\n## History\n\n312 Commits  \n  \n### .devcontainer\n\n|\n\n### .devcontainer\n\n| chore: add devcontainer and vscode launch configurations (#128)| Feb 28,\n2024  \n  \n### .github\n\n|\n\n### .github\n\n| chore: fix github actions workflow for docs site| Apr 18, 2024  \n  \n### .vscode\n\n|\n\n### .vscode\n\n| chore: add devcontainer and vscode launch configurations (#128)| Feb 28,\n2024  \n  \n### docs\n\n|\n\n### docs\n\n| docs: update README.md and docs wiki| Apr 18, 2024  \n  \n### gen/go\n\n|\n\n### gen/go\n\n| feat: allow hook exit codes to control backup execution (e.g fail, sk...|\nApr 12, 2024  \n  \n### internal\n\n|\n\n### internal\n\n| fix: bug in new task queue implementation| Apr 14, 2024  \n  \n### pkg/restic\n\n|\n\n### pkg/restic\n\n| fix: use int64 for large values in structs for compatibility with 32b...|\nApr 27, 2024  \n  \n### proto\n\n|\n\n### proto\n\n| feat: allow hook exit codes to control backup execution (e.g fail, sk...|\nApr 12, 2024  \n  \n### scripts\n\n|\n\n### scripts\n\n| docs: migrate wiki content to docs site (#230)| Apr 18, 2024  \n  \n### test/helpers\n\n|\n\n### test/helpers\n\n| fix: improve restic pkg's output handling and buffering| Apr 13, 2024  \n  \n### webui\n\n|\n\n### webui\n\n| feat: allow hook exit codes to control backup execution (e.g fail, sk...|\nApr 12, 2024  \n  \n### .gitignore\n\n|\n\n### .gitignore\n\n| chore: add devcontainer and vscode launch configurations (#128)| Feb 28,\n2024  \n  \n### .goreleaser.yaml\n\n|\n\n### .goreleaser.yaml\n\n| fix: armv7 support for docker releases| Apr 17, 2024  \n  \n### CHANGELOG.md\n\n|\n\n### CHANGELOG.md\n\n| chore(main): release 0.17.2 (#218)| Apr 18, 2024  \n  \n### CONTRIBUTING.md\n\n|\n\n### CONTRIBUTING.md\n\n| feat: add release artifacts for arm32| Feb 29, 2024  \n  \n### Dockerfile.alpine\n\n|\n\n### Dockerfile.alpine\n\n| fix: add tini to docker images to reap rclone processes left behind b...|\nApr 18, 2024  \n  \n### Dockerfile.scratch\n\n|\n\n### Dockerfile.scratch\n\n| fix: add tini to docker images to reap rclone processes left behind b...|\nApr 18, 2024  \n  \n### LICENSE\n\n|\n\n### LICENSE\n\n| chore: add GNU license| Nov 17, 2023  \n  \n### README.md\n\n|\n\n### README.md\n\n| docs: update README.md and docs wiki| Apr 18, 2024  \n  \n### backrest.go\n\n|\n\n### backrest.go\n\n| chore: improve log messages| Apr 8, 2024  \n  \n### go.mod\n\n|\n\n### go.mod\n\n| fix: improve restic pkg's output handling and buffering| Apr 13, 2024  \n  \n### go.sum\n\n|\n\n### go.sum\n\n| fix: improve restic pkg's output handling and buffering| Apr 13, 2024  \n  \n### install.sh\n\n|\n\n### install.sh\n\n| fix: Linux ./install.sh script fails when used for updating backrest (...|\nApr 17, 2024  \n  \n### uninstall.sh\n\n|\n\n### uninstall.sh\n\n| chore: update install / download scripts| Apr 7, 2024  \n  \n## Repository files navigation\n\nOverview\n\nBackrest is a web-accessible backup solution built on top of restic. Backrest\nprovides a WebUI which wraps the restic CLI and makes it easy to create repos,\nbrowse snapshots, and restore files. Additionally, Backrest can run in the\nbackground and take an opinionated approach to scheduling snapshots and\norchestrating repo health operations.\n\nBy building on restic, Backrest leverages restic's mature feature set. Restic\nprovides fast, reliable, and secure backup operations.\n\nBackrest itself is built in Golang (matching restic's implementation) and is\nshipped as a self-contained and light weight binary with no dependecies other\nthan restic. This project aims to be the easiest way to setup and get started\nwith backups on any system. You can expect to be able to perform all\noperations from the web interface but should you ever need more control, you\nare free to browse your repo and perform operations using the restic cli.\nAdditionally, Backrest can safely detect and import your existing snapshots\n(or externally created snapshots on an ongoing basis).\n\nPreview\n\nPlatform Support\n\n  * Docker\n  * Linux\n  * MacOS\n  * Windows\n  * FreeBSD\n\nFeatures\n\n  * WebUI supports local and remote access (e.g. run on a NAS and access from your desktop)\n  * Multi-platform support (Linux, MacOS, Windows, FreeBSD, Docker)\n  * Import your existing restic repositories\n  * Cron scheduled backups and health operations (e.g. prune and forget)\n  * UI for browing and restoring files from snapshots\n  * Configurable backup notifications (e.g. Discord, Slack, Shoutrrr, Gotify)\n  * Add shell command hooks to run before and after backup operations.\n  * Compatible with rclone remotes\n  * Backup to any restic supported storage (e.g. S3, B2, Azure, GCS, local, SFTP, and all rclone remotes)\n\n# User Guide\n\nSee the backrest docs.\n\n# Installation\n\nBackrest is packaged as a single executable. It can be run directly on Linux,\nMacOS, and Windows. restic will be downloaded and installed in the data\ndirectory on first run.\n\nDownload options\n\n  * Download and run a release from the releases page.\n  * Build from source (see below).\n  * Run with docker: garethgeorge/backrest:latest (see on dockerhub) or garethgeorge/backrest:latest-alpine for an image that includes rclone and common unix utilities.\n\nBackrest is accessible from a web browser. By default it binds to 0.0.0.0:9898\nand can be accessed at http://localhost:9898. Change the port with the\nBACKREST_PORT environment variable e.g. BACKREST_PORT=127.0.0.1 backrest to\nlisten only on local interfaces. On first startup backrest will prompt you to\ncreate a default username and password, this can be changed later in the\nsettings page.\n\nNote: backrest installs a specific restic version to ensure that the version\nof restic matches the version backrest is tested against. This provides the\nbest guarantees for stability. If you wish to use a different version of\nrestic OR if you would prefer to install restic manually you may do so by\nsetting the BACKREST_RESTIC_COMMAND environment variable to the path of the\nrestic binary you wish to use.\n\n## Running with Docker Compose\n\nDocker image: https://hub.docker.com/r/garethgeorge/backrest\n\nExample compose file:\n\n    \n    \n    version: \"3.2\" services: backrest: image: garethgeorge/backrest container_name: backrest hostname: backrest #Use this to set the hostname instead of container ID to the config.json and WebUI. volumes: - ./backrest/data:/data - ./backrest/config:/config - ./backrest/cache:/cache - /MY-BACKUP-DATA:/userdata # mount your directories to backup somewhere in the filesystem - /MY-REPOS:/repos # (optional) mount your restic repositories somewhere in the filesystem. environment: - BACKREST_DATA=/data # path for backrest data. restic binary and the database are placed here. - BACKREST_CONFIG=/config/config.json # path for the backrest config file. - XDG_CACHE_HOME=/cache # path for the restic cache which greatly improves performance. restart: unless-stopped ports: - 9898:9898\n\n## Running on Linux\n\n### Arch Linux\n\n> Note: Backrest on AUR is not maintained by the backrest official and has\n> made minor adjustments to the recommended services. Please refer to here for\n> details. In backrest@.service, use restic from the Arch Linux official\n> repository by setting BACKREST_RESTIC_COMMAND. And for information on\n> enable/starting/stopping services, please refer to Systemd#Using_units.\n    \n    \n    ## install backrest from AUR paru -Sy backrest # or: yay -Sy backrest ## enable backrest service for current user sudo systemctl enable --now backrest@$USER.service\n\n### Download release\n\nDownload a release from the releases page\n\n#### Using systemd with the install script (Recommended)\n\nExtract the release you downloaded and run the install script:\n\n    \n    \n    # extract the release to a subfolder of the current directory mkdir backrest && tar -xzvf backrest_Linux_x86_64.tar.gz -C backrest # run the install script cd backrest && ./install.sh\n\nThe install script will:\n\n  * Move the backrest binary to /usr/local/bin\n  * Create a systemd service file at /etc/systemd/system/backrest.service\n  * Enable and start the service\n\nRead the script before running it to make sure you are comfortable with these\noperations.\n\n#### Run on startup with cron (Basic)\n\nMove the backrest binary to /usr/local/bin:\n\n    \n    \n    sudo mv backrest /usr/local/bin/backrest\n\nAdd the following line to your crontab (e.g. crontab -e):\n\n    \n    \n    @reboot /usr/local/bin/backrest\n\n#### Run on startup with systemd manually\n\n    \n    \n    sudo mv backrest /usr/local/bin/backrest\n\nCreate a systemd service file at /etc/systemd/system/backrest.service with the\nfollowing contents:\n\n    \n    \n    [Unit] Description=ResticWeb After=network.target [Service] Type=simple User=<your linux user> Group=<your linux group> ExecStart=/usr/local/bin/backrest Environment=\"BACKREST_PORT=127.0.0.1:9898\" [Install] WantedBy=multi-user.target\n\nThen run the following commands to enable and start the service:\n\n    \n    \n    sudo systemctl enable backrest sudo systemctl start backrest\n\nNote: you can set the linux user and group to your primary user (e.g. whoami\nwhen logged in).\n\n## Running on MacOS\n\n#### Using Brew (Recommended)\n\nBackrest is provided as a homebrew tap. To install with brew run:\n\n    \n    \n    brew tap garethgeorge/homebrew-backrest-tap brew install backrest\n\nThis tap uses Brew services to launch and manage Backrest's lifecycle.\nBackrest will launch on startup and run on port ':9898` by default.\n\n#### Manually using the install script (Recommended)\n\nDownload a Darwin release from the releases page and install it to\n/usr/local/bin.\n\nExtract the release you downloaded and run the install script:\n\n    \n    \n    # extract the release to a subfolder of the current directory mkdir backrest && tar -xzvf backrest_Darwin_arm64.tar.gz -C backrest # run the install script cd backrest && ./install.sh\n\nThe install script will:\n\n  * Move the backrest binary to /usr/local/bin\n  * Create a launch agent file at ~/Library/LaunchAgents/com.backrest.plist\n  * Load the launch agent\n\nRead the script before running it to make sure you are comfortable with these\noperations.\n\n#### Manually\n\nIf setting up backrest manually it's recommended to install the binary to\n/usr/local/bin and run it manually. You can also create a launch agent to run\nit on startup or may run it manually when needed.\n\n## Running on Windows\n\nDownload a Windows release from the releases page and install it to C:\\Program\nFiles\\Backrest\\backrest.exe (create the path if it does not exist). The binary\nshould be run as administrator on first launch, otherwise the restic\ninstallation will fail and the process will terminate.\n\nTo run the binary on login, create a shortcut to the binary and place it in\nthe shell:startup folder. See this windows support article for more details.\n\nwarning: If you get filesystem errors you may need to run Backrest as\nadministrator for full filesystem access.\n\nwarning: Backrest is not tested on Windows to the same bar as Linux and MacOS.\nSome features may not work as expected.\n\n# Configuration\n\n## Environment Variables\n\n  * BACKREST_PORT - the port to bind to. Defaults to 9898.\n  * BACKREST_CONFIG - the path to the config file. Defaults to $HOME/.config/backrest/config.json or if $XDG_CONFIG_HOME is set, $XDG_CONFIG_HOME/backrest/config.json.\n  * BACKREST_DATA - the path to the data directory. Defaults to $HOME/.local/share/backrest or if $XDG_DATA_HOME is set, $XDG_DATA_HOME/backrest.\n  * BACKREST_RESTIC_COMMAND - the path to the restic binary. Defaults managed version of restic which will be downloaded and installed in the data directory.\n  * XDG_CACHE_HOME -- the path to the cache directory. This is propagated to restic.\n\n## About\n\nBackrest is a web UI and orchestrator for restic backup.\n\n### Topics\n\nbackups webui restic-backups restic\n\n### Resources\n\nReadme\n\n### License\n\nGPL-3.0 license\n\nActivity\n\n### Stars\n\n553 stars\n\n### Watchers\n\n6 watching\n\n### Forks\n\n25 forks\n\nReport repository\n\n## Releases 20\n\nv0.17.2 Latest\n\nApr 18, 2024\n\n\\+ 19 releases\n\n## Packages 0\n\nNo packages published\n\n## Contributors 14\n\n## Languages\n\n  * TypeScript 49.6%\n  * Go 48.5%\n  * Shell 1.6%\n  * Other 0.3%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
