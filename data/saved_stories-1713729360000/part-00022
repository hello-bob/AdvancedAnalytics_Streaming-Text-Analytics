{"aid": "40105482", "title": "Makefile-graph: Parse Make's internal database and generate a graph", "url": "https://github.com/dnaeon/makefile-graph", "domain": "github.com/dnaeon", "votes": 1, "user": "donatj", "posted_at": "2024-04-21 13:07:23", "comments": 0, "source_title": "GitHub - dnaeon/makefile-graph: Turn your Makefile into a graph", "source_text": "GitHub - dnaeon/makefile-graph: Turn your Makefile into a graph\n\nSkip to content\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\ndnaeon / makefile-graph Public\n\n  * Sponsor\n  * Notifications\n  * Fork 0\n  * Star 5\n\nTurn your Makefile into a graph\n\n### License\n\nBSD-2-Clause license\n\n5 stars 0 forks Branches Tags Activity\n\nStar\n\nNotifications\n\n# dnaeon/makefile-graph\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n1 Branch\n\n2 Tags\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\ndnaeonMove fixtures package to pkg/fixturesApr 21, 20246279068 \u00b7 Apr 21,\n2024Apr 21, 2024\n\n## History\n\n21 Commits  \n  \n### .github\n\n|\n\n### .github\n\n| Use codecov-action@v4.0.1| Apr 21, 2024  \n  \n### cmd\n\n|\n\n### cmd\n\n| cmd: ignore exit code 1 and 2| Apr 21, 2024  \n  \n### examples\n\n|\n\n### examples\n\n| Update documentation and add example Makefile| Apr 21, 2024  \n  \n### images\n\n|\n\n### images\n\n| images: change direction to top-to-bottom (TB)| Apr 21, 2024  \n  \n### pkg\n\n|\n\n### pkg\n\n| Move fixtures package to pkg/fixtures| Apr 21, 2024  \n  \n### .gitignore\n\n|\n\n### .gitignore\n\n| Ignore coverage.txt| Apr 21, 2024  \n  \n### LICENSE\n\n|\n\n### LICENSE\n\n| Commit LICENSE file| Apr 20, 2024  \n  \n### Makefile\n\n|\n\n### Makefile\n\n| Makefile: ignore fixtures package during tests| Apr 20, 2024  \n  \n### README.md\n\n|\n\n### README.md\n\n| README: typo fixes and add contributing section| Apr 21, 2024  \n  \n### go.mod\n\n|\n\n### go.mod\n\n| Initial commit of go.{mod,sum}| Apr 20, 2024  \n  \n### go.sum\n\n|\n\n### go.sum\n\n| Initial commit of go.{mod,sum}| Apr 20, 2024  \n  \n## Repository files navigation\n\n# makefile-graph\n\nmakefile-graph is a Go module and CLI application, which parses GNU Make's\ninternal database and generates a graph representing the relationships between\nthe discovered Makefile targets.\n\n## Requirements\n\n  * GNU Make\n  * Go version 1.21.x or later\n\n## Installation\n\nYou can install the CLI application using one of the following ways.\n\nIf you have cloned the repository you can build the CLI app using the provided\nMakefile target.\n\n    \n    \n    make build\n\nThe resulting binary will be located in bin/makefile-graph.\n\nInstall the CLI application using go build.\n\n    \n    \n    go build -o $(go env GOBIN)/makefile-graph github.com/dnaeon/makefile-graph/cmd\n\nIn order to install the parser package and use it in your own Go code run the\nfollowing command within your Go module.\n\n    \n    \n    go get -v github.com/dnaeon/makefile-graph/pkg/parser\n\n## Usage\n\nLet's use the following example Makefile from GNU make's documentation.\n\n    \n    \n    edit : main.o kbd.o command.o display.o \\ insert.o search.o files.o utils.o cc -o edit main.o kbd.o command.o display.o \\ insert.o search.o files.o utils.o main.o : main.c defs.h cc -c main.c kbd.o : kbd.c defs.h command.h cc -c kbd.c command.o : command.c defs.h command.h cc -c command.c display.o : display.c defs.h buffer.h cc -c display.c insert.o : insert.c defs.h buffer.h cc -c insert.c search.o : search.c defs.h buffer.h cc -c search.c files.o : files.c defs.h buffer.h command.h cc -c files.c utils.o : utils.c defs.h cc -c utils.c clean : rm edit main.o kbd.o command.o display.o \\ insert.o search.o files.o utils.o\n\nYou can also find this example Makefile in the examples directory of this\nrepo.\n\nRunning the following command will generate the Dot representation for the\nMakefile targets and their dependencies from our example Makefile.\n\n    \n    \n    makefile-graph --makefile examples/Makefile --direction TB\n\nIn order to render the graph you can pipe it directly to the dot command, e.g.\n\n    \n    \n    makefile-graph --makefile examples/Makefile --direction TB | dot -Tsvg -o graph.svg\n\nThis is what the graph looks like when we render it using dot(1).\n\nSometimes when rendering large graphs it may not be obvious at first glance\nwhat are the dependencies for a specific target. In order to help with such\nsituations makefile-graph supports a flag which allows you to highlight\nspecific targets and their dependencies.\n\nThe following command will highlight the files.o target along with it's\ndependencies.\n\n    \n    \n    makefile-graph \\ --makefile examples/Makefile \\ --direction TB \\ --target files.o \\ --highlight \\ --highlight-color lightgreen\n\nWhen we render the output from above command we will see this graph\nrepresentation.\n\nIf we want to focus on a specific target and it's dependencies only we can use\nthe following command, which will generate a graph only for the target and\nit's dependencies.\n\n    \n    \n    makefile-graph \\ --makefile examples/Makefile \\ --direction TB \\ --target files.o \\ --related-only\n\nThis is what the resulting graph looks like.\n\nThe --direction option is used for specifying the direction of graph layout.\nYou can set it to TB, BT, LR or RL.\n\nThe --format option is used for specifying the output format for the graph. By\ndefault it will produce the dot representation for the graph.\n\nYou can also view the topological order for a given target by setting the\nformat to tsort, e.g.\n\n    \n    \n    makefile-graph \\ --makefile examples/Makefile \\ --target files.o \\ --related-only \\ --format tsort\n\nRunning above command produces the following output, which represents the\ntopological order for the files.o target.\n\n    \n    \n    defs.h buffer.h command.h files.c files.o\n\n## Tests\n\nRun the tests.\n\n    \n    \n    make test\n\nRun test coverage.\n\n    \n    \n    make test-cover\n\n## Contributing\n\nmakefile-graph is hosted on Github. Please contribute by reporting issues,\nsuggesting features or by sending patches using pull requests.\n\n## License\n\nmakefile-graph is Open Source and licensed under the BSD License.\n\n## About\n\nTurn your Makefile into a graph\n\n### Topics\n\ngo golang graphviz graph makefile make\n\n### Resources\n\nReadme\n\n### License\n\nBSD-2-Clause license\n\nActivity\n\n### Stars\n\n5 stars\n\n### Watchers\n\n2 watching\n\n### Forks\n\n0 forks\n\nReport repository\n\n## Releases\n\n2 tags\n\n## Sponsor this project\n\ndnaeon Marin Atanasov Nikolov\n\nSponsor\n\nLearn more about GitHub Sponsors\n\n## Packages 0\n\nNo packages published\n\n## Languages\n\n  * Go 97.0%\n  * Makefile 3.0%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
