{"aid": "40196926", "title": "Malicow Dockerized: `version` is obsolete warning", "url": "https://github.com/mailcow/mailcow-dockerized/issues/5797", "domain": "github.com/mailcow", "votes": 1, "user": "kaypee901", "posted_at": "2024-04-29 11:19:17", "comments": 0, "source_title": "docker-compose.yml: `version` is obsolete \u00b7 Issue #5797 \u00b7 mailcow/mailcow-dockerized", "source_text": "docker-compose.yml: `version` is obsolete \u00b7 Issue #5797 \u00b7 mailcow/mailcow-\ndockerized \u00b7 GitHub\n\nSkip to content\n\n## Navigation Menu\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\nmailcow / mailcow-dockerized Public\n\n  * Notifications\n  * Fork 1.1k\n  * Star 8k\n\nJump to bottom\n\n# docker-compose.yml: version is obsolete #5797\n\nOpen\n\n5 tasks done\n\nbersierj opened this issue Mar 20, 2024 \u00b7 11 comments\n\nOpen\n\n5 tasks done\n\n# docker-compose.yml: version is obsolete #5797\n\nbersierj opened this issue Mar 20, 2024 \u00b7 11 comments\n\nLabels\n\nbug\n\n## Comments\n\n###\n\nbersierj commented Mar 20, 2024\n\n### Contribution guidelines\n\n  * I've read the contribution guidelines and wholeheartedly agree\n\n### I've found a bug and checked that ...\n\n  * ... I understand that not following the below instructions will result in immediate closure and/or deletion of my issue.\n  * ... I have understood that this bug report is dedicated for bugs, and not for support-related inquiries.\n  * ... I have understood that answers are voluntary and community-driven, and not commercial support.\n  * ... I have verified that my issue has not been already answered in the past. I also checked previous issues.\n\n### Description\n\n    \n    \n    With docker version 25.05 the version 2.1 in docker-compose.yml will be obsolete\n\n### Logs:\n\n    \n    \n    docker-compose.yml: `version` is obsolete\n\n### Steps to reproduce:\n\n    \n    \n    N/A\n\n### Which branch are you using?\n\nmaster\n\n### Which architecture are you using?\n\nx86\n\n### Operating System:\n\nrocky linux 9\n\n### Server/VM specifications:\n\n12GB/4 Core\n\n### Is Apparmor, SELinux or similar active?\n\nyes\n\n### Virtualization technology:\n\nkvm\n\n### Docker version:\n\n25.0.5\n\n### docker-compose version or docker compose version:\n\nv2.25.0\n\n### mailcow version:\n\n2024-02\n\n### Reverse proxy:\n\nNginx\n\n### Logs of git diff:\n\n    \n    \n    N/A\n\n### Logs of iptables -L -vn:\n\n    \n    \n    N/A\n\n### Logs of ip6tables -L -vn:\n\n    \n    \n    N/A\n\n### Logs of iptables -L -vn -t nat:\n\n    \n    \n    N/A\n\n### Logs of ip6tables -L -vn -t nat:\n\n    \n    \n    N/A\n\n### DNS check:\n\n    \n    \n    N/A  \n  \n---  \nThe text was updated successfully, but these errors were encountered:  \n  \nbersierj added the bug label Mar 20, 2024\n\n###\n\nnabeeltahir785 commented Mar 20, 2024\n\nPlease remove the version line from the docker-compose.yml file and verify\nthat everything still works correctly on your end. Docker has made this line\nobsolete, which is likely the reason you're facing this issue  \n---  \n  \n###\n\nconjunrad commented Mar 20, 2024\n\n@nabeeltahir785 from which version of docker this line obsolete?  \n---  \n  \nAuthor\n\n###\n\nbersierj commented Mar 21, 2024\n\nIf line is removed the warning go away. the warning start with version 25.05  \n---  \n  \n###\n\nCl-Chris commented Mar 21, 2024\n\nCompose doesn't use version to select an exact schema to validate the Compose\nfile. See https://github.com/compose-spec/compose-spec/blob/master/04-version-\nand-name.md So removing the first line version: '2.1' at the beginning of\ndocker-compose.yml and docker-compose.override.yml (if exist) solve the\nproblem. This not specific to MailCow.  \n---  \n  \nEduardo-Morales-Alberti mentioned this issue Mar 22, 2024\n\nRemove version from docker as it is deprecated Metadrop/drupal-boilerplate#136\n\nMerged\n\nBatwam mentioned this issue Mar 25, 2024\n\ndocker-compose.yml: version is obsolete immich-app/immich#8256\n\nClosed\n\n3 tasks\n\nJordyEGNL mentioned this issue Mar 25, 2024\n\nfeat(docs): removed deprecated version line in docker compose files immich-\napp/immich#8276\n\nMerged\n\n###\n\ndamianszczepanik commented Mar 26, 2024\n\nIs there any way to ignore this particular warning as long as I upgrade all\ndocker-compose.yml files? Any flag for that?  \n---  \n  \nAuthor\n\n###\n\nbersierj commented Mar 26, 2024\n\n> Is there any way to ignore this particular warning as long as I upgrade all\n> docker-compose.yml files? Any flag for that?\n\nYes you can comment out the line or remove the line  \n---  \n  \nMember\n\n###\n\nMAGICCC commented Mar 26, 2024\n\nSeems we can remove this @DerLinkman. Seeing on\nhttps://docs.docker.com/compose/compose-file/04-version-and-name/#version-top-\nlevel-element-optional it's optional (now).  \n---  \n  \nseungwonleee added a commit to Toollit/client that referenced this issue Mar\n28, 2024\n\nFix: docker compose level=warning msg=\"/home/***/app/docker-compose.p...\n\nb0cd912\n\n    \n    \n    ...rod.yml: `version` is obsolete\" error - docker-compose.prod.yml delete version line - reference: mailcow/mailcow-dockerized#5797 (comment)\n\n###\n\nabferm commented Mar 28, 2024\n\nSome of my compose files need to remain compatible with older versions of\ndocker/docker-compose. Is there any way to silence the warning without\nmodifying the compose files?  \n---  \n  \n###\n\ncaoliang1918 commented Mar 31, 2024\n\nmay be this issues can help you, jasonacox/Powerwall-Dashboard#453 (comment)  \n---  \n  \nPhoenix500526 mentioned this issue Mar 31, 2024\n\nRefactor: Test Framework and Update Docker Compose Configuration xline-\nkv/Xline#701\n\nOpen\n\n###\n\nmelroy89 commented Apr 1, 2024\n\n> @nabeeltahir785 from which version of docker this line obsolete?\n    \n    \n    version: \"x.x.x\"  \n  \n---  \n  \nLucasDetre mentioned this issue Apr 2, 2024\n\nFeat/modification formulaire mission-apprentissage/tjp-pilotage#298\n\nMerged\n\nMaxXor mentioned this issue Apr 4, 2024\n\nINFO: docker-compose.yml: \"version\" -> obsolete #5823\n\nOpen\n\n5 tasks\n\npuckpuck mentioned this issue Apr 7, 2024\n\nnetwork opentelemetry-demo was found but has incorrect label\ncom.docker.compose.network set to \"opentelemetry-demo\" open-\ntelemetry/opentelemetry-demo#1496\n\nOpen\n\n###\n\nelnath78 commented Apr 11, 2024\n\n@Cl-Chris\n\n> Compose doesn't use version to select an exact schema to validate the\n> Compose file. See https://github.com/compose-spec/compose-\n> spec/blob/master/04-version-and-name.md So removing the first line version:\n> '2.1' at the beginning of docker-compose.yml and docker-compose.override.yml\n> (if exist) solve the problem. This not specific to MailCow.\n\nWhy the examples still have the Version lines then? Also on Gitpod is not\ngiving this problem.  \n---  \n  \nj3soon mentioned this issue Apr 13, 2024\n\nClean Up Codebase j3soon/ros2-essentials#29\n\nOpen\n\nooooo-create mentioned this issue Apr 14, 2024\n\nremove version top-level element in the compose.yml file\ninfiniflow/ragflow#349\n\nMerged\n\n1 task\n\njakubboucek mentioned this issue Apr 14, 2024\n\ndocker-compose.yml: 'version' is obsolete jakubboucek/docker-lamp-devstack#66\n\nMerged\n\nKevinHuSh pushed a commit to infiniflow/ragflow that referenced this issue Apr\n15, 2024\n\nremove version top-level element in the compose.yml file (#349)\n\n446195f\n\n    \n    \n    ### What problem does this PR solve? ![image](https://github.com/infiniflow/ragflow/assets/106524776/56eec972-e92a-4cd2-92cc-4c20ba478a52) - remove version top-level element in the compose.yml file when use command `docker compose -f docker-compose-CN.yml up -d` ,it will waring,[maybe it appear after v25,5](mailcow/mailcow-dockerized#5797 (comment)) ![image](https://github.com/infiniflow/ragflow/assets/106524776/e42ebfb7-d51e-4423-b6dd-3a7568a6be4f) ref to https://docs.docker.com/compose/intro/history/#docker-compose-cli-versioning > Version one of the Docker Compose command-line binary was first released in 2014. It was written in Python, and is invoked with docker-compose. Typically, Compose V1 projects include a top-level version element in the compose.yml file, with values ranging from 2.0 to 3.8, which refer to the specific [file formats](https://docs.docker.com/compose/intro/history/#compose-file-format-versioning). > Version two of the Docker Compose command-line binary was announced in 2020, is written in Go, and is invoked with docker compose. Compose V2 ignores the version top-level element in the compose.yml file. Also in `README.MD` show `Docker >= 24.0.0 & Docker Compose >= v2.26.1`. so i want to remove the version. ### Type of change - [x] Other (please describe): remove warning\n\niamspido mentioned this issue Apr 16, 2024\n\nremove version from docker-compose.yml #5845\n\nOpen\n\no0mohd0o mentioned this issue Apr 20, 2024\n\nRemove obsolete version directive from docker compose files markshust/docker-\nmagento#1135\n\nClosed\n\nsavareyhano mentioned this issue Apr 28, 2024\n\nfix(docker-compose): version is obsolete nilsherzig/LLocalSearch#103\n\nOpen\n\nhifly81 mentioned this issue Apr 29, 2024\n\nRemove \"version\" from docker-compose files confluentinc/jmx-monitoring-\nstacks#220\n\nOpen\n\nSign up for free to join this conversation on GitHub. Already have an account?\nSign in to comment\n\nLabels\n\nbug\n\n10 participants\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
