{"aid": "40175191", "title": "Debian Image for SG200x-Based Boards: Milk-V Duo256/DuoS and Sipeed LicheeRVNano", "url": "https://github.com/Fishwaldo/sophgo-sg200x-debian", "domain": "github.com/fishwaldo", "votes": 1, "user": "lupyuen", "posted_at": "2024-04-26 22:51:47", "comments": 0, "source_title": "GitHub - Fishwaldo/sophgo-sg200x-debian: Debian Image for SG200x based boards such as Milk Duo256/DuoS and Sipeed LicheeRVNano", "source_text": "GitHub - Fishwaldo/sophgo-sg200x-debian: Debian Image for SG200x based boards\nsuch as Milk Duo256/DuoS and Sipeed LicheeRVNano\n\nSkip to content\n\n## Navigation Menu\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\nFishwaldo / sophgo-sg200x-debian Public\n\n  * Notifications\n  * Fork 1\n  * Star 10\n\nDebian Image for SG200x based boards such as Milk Duo256/DuoS and Sipeed\nLicheeRVNano\n\n10 stars 1 fork Branches Tags Activity\n\nStar\n\nNotifications\n\n# Fishwaldo/sophgo-sg200x-debian\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n1 Branch\n\n2 Tags\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\nFishwaldoUpdate main.ymlApr 24, 20249d19b49 \u00b7 Apr 24, 2024Apr 24, 2024\n\n## History\n\n7 Commits  \n  \n### .github/workflows\n\n|\n\n### .github/workflows\n\n| Update main.yml| Apr 24, 2024  \n  \n### configs\n\n|\n\n### configs\n\n| Add DuoS support (not EMMC version yet)| Apr 24, 2024  \n  \n### scripts\n\n|\n\n### scripts\n\n| Add DuoS support (not EMMC version yet)| Apr 24, 2024  \n  \n### .gitignore\n\n|\n\n### .gitignore\n\n| first commit| Apr 10, 2024  \n  \n### README.md\n\n|\n\n### README.md\n\n| Add DuoS support (not EMMC version yet)| Apr 24, 2024  \n  \n### build_docker.sh\n\n|\n\n### build_docker.sh\n\n| first commit| Apr 10, 2024  \n  \n### build_image.sh\n\n|\n\n### build_image.sh\n\n| first commit| Apr 10, 2024  \n  \n## Repository files navigation\n\n# Debian Images for Sophgo cv181x/sg200x based boards\n\nThis repository builds debian sid images for Sophgo cv181x/sg200x based boards\nsuch as MilkV Duo256/DuoS (SD Version only) and Sipeed LicheeRvNano.\n\n(Note, we don't support the MilkV Duo, as it does not have enough ram to run\nDebian)\n\nThe images aim to be as close to possible to debian best practices as possible\n\n## Image Info\n\nLogins: root/rv and debain/rv\n\n(root login is disabled via SSH, login via debian, and SU to root if needed)\n\nby default, a rndis interface is started on the USB port, and the IP address\nis 10.42.0.1 - It also starts a DHCP Server on that interface, so your PC\nshould automatically get an IP address in the 10.42.0.x range\n\nTo Disable the rndis interface, you can run the following command:\n\n    \n    \n    systemctl disable usb-gadget-rndis\n\nThere is also a option to start a serial port (ACM) interface instead of the\nrndis interface, to do this, you can run the following command:\n\n    \n    \n    systemctl disable usb-gadget-rndis systemctl enable usb-gadget-acm\n\nAfter executing these commands, you need to reboot.\n\nFor the LicheeRVNano board, Wifi is enabled. To connect to your wifi network,\nexecute the following command and select \"Activate a connection\" and select\nyour wifi network:\n\n    \n    \n    nmtui\n\nfor Boards with eithernet, they should automatically get a IP address if your\nnetwork has a DHCP Server.\n\nThe images are based on the vendor 5.10 kernel, but exclude the following\ndrivers:\n\n  * mipi-rx/csi drivers\n  * mipi-tx/dsi drivers\n  * TPU Drivers\n  * Any of the Video Encoding Drivers\n\n(this is mainly due to compatibility reasons with the glibc version in debian\nand musl version used in the vendor images)\n\nThe images, by default, do not allocate any memory for the ION heap, as they\nare unused in this image, so you get the full memory of each device\n\nThe images also include the remoteproc and mailbox drivers so you can load up\nardunio/freertos images on the small C906 core.\n\nThis image also adds the debian repository for\nhttps://github.com/Fishwaldo/sophgo-sg200x-packages so you can install\nadditional repositories. The debian repository is hosted at https://sophgo.my-\nho.st:8443/ which pulls down the compiled debian packages from the above\ngithub repository occasionally.\n\n## Building the Image\n\nTo build a stock image with no modifications:\n\n    \n    \n    podman run --privileged -it --rm -v ./configs/:/configs -v ./image:/output ghcr.io/fishwaldo/sophgo-sg200x-debian:master make BOARD=licheervnano image\n\nReplace the licheervnano with the board you want to build for:\n\n  * duo256\n  * licheervnano\n\nThe Docker image will build the image and place it in the image directory\n\n## Flashing the Image\n\nTo flash from linux, either build your own image, or download a image from the\nreleases page, and then run the following command:\n\n    \n    \n    sudo dd if=image/licheervnano_sd.img of=/dev/sdX bs=4M status=progress\n\nFrom windows, you can use tools such as balena etcher\n\nwhere the licheervnano_sd.img is the image file you want to flash, and\n/dev/sdX is the device you want to flash to. (if you build for a different\nboard, the image file name will be different)\n\naddition make targets are available when building:\n\n  * image - builds the image\n  * clean - cleans the build directory\n  * linux - build a kernel debian package\n  * fsbl - build the fsbl debain package (that includes cvitek-fsbl, opensbi and u-boot)\n\n## Customizing the Image\n\nThe configs directory contains patches, configuration and device tree files\nthat are used to build the image.\n\nThe configs/common directory contains the common configuration for all boards,\nand the configs/licheervnano and configs/duo256 directories contain the board\nspecific configuration.\n\nTo add packages to the image, either add the package name in PACKAGES variable\nof configs/settings.mk or if the packae is specific to a board, add it to the\nconfigs/<board>/settings.mk file\n\nPatches for the kernel, opensbi, u-boot or fsbl can be placed in\nconfigs/common/patches/ or configs/<board>/patches/ depending what they are\nfor.\n\nTo assist with developing the image, you can get a shell in the docker\ncontainer by running:\n\n    \n    \n    docker run --privileged -it --rm -v ./configs/:/configs -v ./image:/output -v ./scripts/:/builder builder /bin/bash\n\ninside the container, packages are build in the /builder/ directory, and the\nrootfs is placed at /rootfs/ directory\n\n# TODO\n\n  * Add support for the DuoS EMMC Board\n  * DeviceTree Overlay Support\n  * Add support for the MIPI-CSI/DSI drivers (Sample applications would be in the sophgo-sg200x-packages repository if they do not depend upon a musl libc version)\n  * Add support for the TPU drivers\n  * Possibly mainline kernel support via the sophgo linux for-next repositories\n\n## About\n\nDebian Image for SG200x based boards such as Milk Duo256/DuoS and Sipeed\nLicheeRVNano\n\n### Topics\n\nduo sg200x licheervnano milkv duo256 sophgo\n\n### Resources\n\nReadme\n\nActivity\n\n### Stars\n\n10 stars\n\n### Watchers\n\n6 watching\n\n### Forks\n\n1 fork\n\nReport repository\n\n## Releases 2\n\nDuoS support Latest\n\nApr 24, 2024\n\n\\+ 1 release\n\n## Packages 1\n\n  * sophgo-sg200x-debian\n\n## Languages\n\n  * Python 40.8%\n  * Makefile 25.5%\n  * Shell 19.0%\n  * C 12.5%\n  * Dockerfile 2.2%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
