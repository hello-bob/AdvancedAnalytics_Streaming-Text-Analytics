{"aid": "40283832", "title": "How to Run Complex Queries with SQL in Vector Databases", "url": "https://thenewstack.io/how-to-run-complex-queries-with-sql-in-vector-databases/", "domain": "thenewstack.io", "votes": 1, "user": "Bella-Xiang", "posted_at": "2024-05-07 09:45:41", "comments": 0, "source_title": "How To Run Complex Queries With SQL in Vector Databases", "source_text": "How To Run Complex Queries With SQL in Vector Databases - The New Stack\n\nTNS\n\nSUBSCRIBE\n\nJoin our community of software engineering leaders and aspirational\ndevelopers. Always stay in-the-know by getting the most important news and\nexclusive content delivered fresh to your inbox to learn more about at-scale\nsoftware development.\n\nREQUIRED\n\nIt seems that you've previously unsubscribed from our newsletter in the past.\nClick the button below to open the re-subscribe form in a new tab. When you're\ndone, simply close that tab and continue with this form to complete your\nsubscription.\n\nThe New Stack does not sell your information or share it with unaffiliated\nthird parties. By continuing, you agree to our Terms of Use and Privacy\nPolicy.\n\nWelcome and thank you for joining The New Stack community!\n\nPlease answer a few simple questions to help us deliver the news and resources\nyou are interested in.\n\nREQUIRED\n\nREQUIRED\n\nREQUIRED\n\nREQUIRED\n\nREQUIRED\n\nGreat to meet you!\n\nTell us a bit about your job so we can cover the topics you find most\nrelevant.\n\nREQUIRED\n\nREQUIRED\n\nREQUIRED\n\nREQUIRED\n\nREQUIRED\n\nREQUIRED\n\nWelcome!\n\nWe\u2019re so glad you\u2019re here. You can expect all the best TNS content to arrive\nMonday through Friday to keep you on top of the news and at the top of your\ngame.\n\nWhat\u2019s next?\n\nCheck your inbox for a confirmation email where you can adjust your\npreferences and even join additional groups.\n\nFollow TNS on your favorite social media networks.\n\nBecome a TNS follower on LinkedIn.\n\nCheck out the latest featured and trending stories while you wait for your\nfirst TNS newsletter.\n\nPREV\n\n1 of 2\n\nNEXT\n\nVOXPOP\n\nShould IBM Open Source Terraform?\n\nShould IBM donate the soon-to-be-acquired HashiCorp Terraform to the Linux\nFoundation?\n\n\u2713\n\nYes, a vendor-neutral group like the Linux Foundation is the way to go.\n\n0%\n\n\u2713\n\nYes, but to Apache, FSF or another less corporate-friendly open source\ngoverning body.\n\n0%\n\n\u2713\n\nNo, IBM just spent $6.4 billion on HashiCorp. Why give away the code for free?\n\n0%\n\n\u2713\n\nNo, The Linux Foundation already has the code (\"OpenTofu\")\n\n0%\n\n\u2713\n\nI don\u2019t use Terraform. It\u2019s none of my business where the code goes.\n\n0%\n\nThanks for your opinion! Subscribe below to get the final results, published\nexclusively in our TNS Update newsletter:\n\nARCHITECTURE\n\nOpen Source Cloud Native Ecosystem Containers Edge Computing Microservices\nNetworking Serverless Storage\n\nENGINEERING\n\nAI Large Language Models Frontend Development Software Development API\nManagement Python JavaScript TypeScript WebAssembly Cloud Services Data\nSecurity\n\nOPERATIONS\n\nPlatform Engineering Operations CI/CD Tech Careers Tech Culture DevOps\nKubernetes Observability Service Mesh\n\nCHANNELS\n\nPodcasts Ebooks Events Newsletter TNS RSS Feeds\n\nTHE NEW STACK\n\nAbout / Contact Sponsors Sponsorship Contributions\n\nPODCASTS EBOOKS EVENTS NEWSLETTER\n\nARCHITECTURE ENGINEERING OPERATIONS\n\nOpen Source Cloud Native Ecosystem Containers Edge Computing Microservices\nNetworking Serverless Storage\n\nOpenTofu Amiable to a Terraform Reconciliation\n\nMay 2nd 2024 9:09am, by Joab Jackson\n\nValkey: A Redis Fork With a Future\n\nMay 2nd 2024 7:50am, by Alex Williams\n\nCould Terraform Return to Open Source Under IBM\u2019s Ownership?\n\nMay 1st 2024 8:08am, by B. Cameron Gain\n\nNew Spotify Portal for Backstage Eases Platform Engineering\n\nApr 30th 2024 11:21am, by Jennifer Riggins\n\nGQL: A New ISO Standard for Querying Graph Databases\n\nApr 29th 2024 11:40am, by Joab Jackson\n\nHow To Build a Scalable Platform Architecture for Real-Time Data\n\nMay 3rd 2024 8:35am, by Christina Lin\n\nHow Giant Swarm Is Helping to Support the Future of Flux\n\nApr 22nd 2024 7:59am, by Heather Joslyn\n\nWhat\u2019s Next for Companies Built on Open Source?\n\nApr 18th 2024 7:13am, by Heather Joslyn\n\nYour Engineering Organization Is Too Expensive\n\nApr 17th 2024 11:19am, by Luca Galante\n\nTetrate Enterprise Gateway for Envoy Graduates\n\nApr 10th 2024 9:00am, by Steven J. Vaughan-Nichols\n\nKubernetes Gets Back to Scaling with Virtual Clusters\n\nApr 25th 2024 7:01am, by Alex Williams\n\nWhat Does WebAssembly Mean for the Server and GenAI?\n\nApr 23rd 2024 10:03am, by Ryan Wallner\n\nHow to Use Low-CVE Chainguard Container Images on Docker Hub\n\nApr 19th 2024 8:04am, by B. Cameron Gain\n\nKubernetes vs. YARN for Resource Management: How to Choose\n\nApr 10th 2024 8:16am, by Jacob Simkovich\n\nUse Podman to Create and Work with Virtual Machines\n\nApr 6th 2024 6:00am, by Jack Wallen\n\nAmbient AI? Humane's 'Ai Pin' Embarks on a Dream's Long Road\n\nApr 21st 2024 6:00am, by David Cassel\n\nChipmakers Putting a Laser Focus on Edge AI\n\nApr 12th 2024 10:06am, by Jeffrey Burt\n\nThe Future of AI: Hybrid Edge Deployments Are Indispensable\n\nMar 22nd 2024 10:00am, by Luis Ceze\n\nHow RapidAI Uses Edge, Kubernetes and AI to Boost Stroke Care\n\nMar 15th 2024 10:30am, by Charles Humble\n\nTrusted Boot: What to Know About Securing Devices at the Edge\n\nMar 14th 2024 7:15am, by Ettore di Giacinto\n\nAPI Design Is Pretty Bad \u2014 Here's How to Fix It\n\nApr 3rd 2024 6:01am, by Lebin Cheng\n\nWill Spotify Open Source its Microservices Framework?\n\nApr 2nd 2024 7:45am, by Loraine Lawson\n\nEnhancing Business Security and Compliance with Service Mesh\n\nApr 1st 2024 10:00am, by Ninad Desai\n\n10 Ways Kubernetes Observability Boosts Productivity, Cuts Costs\n\nMar 27th 2024 6:08am, by Eric Schabell\n\nEvolve Manual and Templated Dockerfiles with Automation\n\nMar 26th 2024 10:33am, by Rak Siva\n\nCilium's Past Points to Its Future\n\nMay 3rd 2024 5:00am, by B. Cameron Gain\n\nGuider Daemon Automates Linux Performance Monitoring\n\nApr 19th 2024 11:16am, by Joab Jackson\n\nEnhancing Kubernetes Network Security with Microsegmentation\n\nApr 11th 2024 6:23am, by Dhiraj Sehgal\n\nTetrate Enterprise Gateway for Envoy Graduates\n\nApr 10th 2024 9:00am, by Steven J. Vaughan-Nichols\n\nZero Trust for Legacy Apps: Load Balancer Layer Can Be a Solution\n\nApr 10th 2024 7:22am, by Prabhat Dixit\n\nHow to Conquer Cold Starts for Better Performance\n\nApr 25th 2024 9:17am, by Henry Hamid Safi\n\nMeet DBOS: A Database Alternative to Kubernetes\n\nMar 12th 2024 4:00am, by Joab Jackson\n\nPulumi Templates for GenAI Stacks: Pinecone, LangChain First\n\nFeb 21st 2024 9:00am, by Joab Jackson\n\nCNCF CloudEvents: A Li'l Message Envelope That Travels Far\n\nJan 31st 2024 4:00am, by Joab Jackson\n\nBringing the AWS Serverless Strategy to Azure\n\nJan 19th 2024 6:00am, by Rak Siva\n\nValkey: A Redis Fork With a Future\n\nMay 2nd 2024 7:50am, by Alex Williams\n\nHow to Get Peak Performance without a Vast Amount of Memory\n\nApr 9th 2024 10:17am, by Behrad Babaee\n\nFrom Postgres to ScyllaDB NoSQL, with a 349x Speed Boost\n\nApr 1st 2024 11:27am, by Cynthia Dunlop\n\nThe Architect\u2019s Guide: A Modern Data Lake Reference Architecture\n\nMar 26th 2024 9:17am, by Keith Pijanowski\n\nCloud Data Migration or Cloud Data Tiering?\n\nMar 25th 2024 10:00am, by Kumar Goswami\n\nAI Large Language Models Frontend Development Software Development API\nManagement Python JavaScript TypeScript WebAssembly Cloud Services Data\nSecurity\n\nHow To Run Complex Queries With SQL in Vector Databases\n\nMay 6th 2024 6:31am, by Jianmei Zhang\n\nDev News: Google Dev Layoffs, Flow Updates, Jira AI Assistant\n\nMay 4th 2024 4:00am, by Loraine Lawson\n\nHow Andela Built Its AI-Based Platform Without an LLM\n\nMay 3rd 2024 10:27am, by Fabio Soares\n\nHow RAG Architecture Overcomes LLM Limitations\n\nMay 3rd 2024 6:27am, by Naren Narendran\n\nHow Mobile App Quality Can Be Improved With AI\n\nMay 2nd 2024 10:05am, by Loraine Lawson\n\nHow To Run Complex Queries With SQL in Vector Databases\n\nMay 6th 2024 6:31am, by Jianmei Zhang\n\nSQL Schema Generation With Large Language Models\n\nMay 4th 2024 5:00am, by David Eastman\n\nHow Andela Built Its AI-Based Platform Without an LLM\n\nMay 3rd 2024 10:27am, by Fabio Soares\n\nClean Data, Trusted Model: Ensure Good Data Hygiene for Your LLMs\n\nMay 3rd 2024 10:00am, by Chase Lee\n\nHow RAG Architecture Overcomes LLM Limitations\n\nMay 3rd 2024 6:27am, by Naren Narendran\n\nDev News: Google Dev Layoffs, Flow Updates, Jira AI Assistant\n\nMay 4th 2024 4:00am, by Loraine Lawson\n\nAutomatically Generate Types for Your PostgreSQL Database\n\nMay 1st 2024 7:00am, by Paul Scanlon\n\nRyan Dahl: From Node.js and Deno to the \u2018Modern\u2019 JSR Registry\n\nMay 1st 2024 6:00am, by David Cassel\n\nNode.js 22 Release Improves Developer Experience\n\nApr 30th 2024 11:10am, by Loraine Lawson\n\nHow to Stop Duplicate Orders in Web Applications\n\nApr 29th 2024 10:23am, by Loraine Lawson\n\nHow Mobile App Quality Can Be Improved With AI\n\nMay 2nd 2024 10:05am, by Loraine Lawson\n\nFlaw in R Creates Supply Chain Security Risks\n\nMay 2nd 2024 7:06am, by Jeffrey Burt\n\nGolang: How To Use the Go Install Command\n\nMay 1st 2024 5:00pm, by Jack Wallen\n\nSpring Forward: Broadcom's App Advisor Eases Spring Upgrades\n\nMay 1st 2024 9:36am, by Darryl K. Taft\n\nRyan Dahl: From Node.js and Deno to the \u2018Modern\u2019 JSR Registry\n\nMay 1st 2024 6:00am, by David Cassel\n\n5 Lessons From LinkedIn\u2019s First Foray Into GenAI Development\n\nMay 2nd 2024 3:00am, by Joab Jackson\n\nAPI Trends: Platform Engineering, the Unbundling and AI\u2019s Role\n\nMay 1st 2024 10:58am, by Lori Marshall\n\nHow to Stop Duplicate Orders in Web Applications\n\nApr 29th 2024 10:23am, by Loraine Lawson\n\nGraphQL Growth Explodes but so Do Problems Federated Graphs Solve\n\nApr 26th 2024 9:16am, by B. Cameron Gain\n\nApplication Delivery Controllers: A Key to App Modernization\n\nApr 25th 2024 8:26am, by Charles Humble\n\nWhat Are Loop Controls in Python and How Do You Use Them?\n\nApr 26th 2024 4:00am, by Jack Wallen\n\nApache NiFi 2.0.0: Building Python Processors\n\nApr 25th 2024 1:14pm, by Robert Kimani\n\nHow to Use Low-CVE Chainguard Container Images on Docker Hub\n\nApr 19th 2024 8:04am, by B. Cameron Gain\n\nWhat Are Python 'Sets' and How Do You Use Them?\n\nApr 17th 2024 6:17am, by Jack Wallen\n\nPython Tutorial: Use TensorFlow to Generate Predictive Text\n\nApr 16th 2024 11:00am, by Ryan Cartwright\n\nDev News: Google Dev Layoffs, Flow Updates, Jira AI Assistant\n\nMay 4th 2024 4:00am, by Loraine Lawson\n\nNode.js 22 Release Improves Developer Experience\n\nApr 30th 2024 11:10am, by Loraine Lawson\n\nDev News: React 19 Beta and Redwood Tests React Server Components\n\nApr 27th 2024 4:00am, by Loraine Lawson\n\nCancel Asynchronous React App Requests with AbortController\n\nApr 24th 2024 8:58am, by Adam Labaran\n\nHow to Simplify Global State Management in React Using Jotai\n\nApr 24th 2024 7:29am, by Paul Scanlon\n\nDev News: React 19 Beta and Redwood Tests React Server Components\n\nApr 27th 2024 4:00am, by Loraine Lawson\n\nDev News: Deno Supports Open Source Repository JSR and an Offline AI\n\nMar 30th 2024 4:00am, by Loraine Lawson\n\nAdvanced OOP in TypeScript: Interfaces and Abstract Classes\n\nMar 22nd 2024 10:30am, by Bob Reselman\n\nHow to Get Advantages of TypeScript in JavaScript\n\nOct 27th 2023 10:51am, by Phil Nash\n\nDev News: Udemy's New Docker Program, Plus TypeScript Beta\n\nOct 7th 2023 5:01am, by Loraine Lawson\n\nWebAssembly Adoption: It's Complicated, Says CNCF Survey\n\nMay 1st 2024 8:28am, by Lawrence E Hecht\n\nNode.js 22 Release Improves Developer Experience\n\nApr 30th 2024 11:10am, by Loraine Lawson\n\nWebAssembly, Large Language Models, and Kubernetes Matter\n\nApr 30th 2024 7:51am, by Torsten Volk\n\nWhat Does WebAssembly Mean for the Server and GenAI?\n\nApr 23rd 2024 10:03am, by Ryan Wallner\n\nNew Wasm Project Brings Web Components to Backend Languages\n\nApr 18th 2024 9:36am, by Loraine Lawson\n\nHow to Conquer Cold Starts for Better Performance\n\nApr 25th 2024 9:17am, by Henry Hamid Safi\n\nIBM Purchases HashiCorp for Multicloud IT Automation\n\nApr 24th 2024 3:23pm, by Joab Jackson\n\nWhy Observability Was Key to Citigroup\u2019s Cloud Native Transition\n\nApr 19th 2024 10:29am, by Eric Newcomer\n\nAnswers to the 5 Most Common Cloud Cost-Optimization Questions\n\nApr 17th 2024 7:38am, by Roman Yegorov\n\nKey Infrastructure Takeaways from Google Cloud Next 2024\n\nApr 16th 2024 12:00pm, by Chris J. Preimesberger\n\nHow To Run Complex Queries With SQL in Vector Databases\n\nMay 6th 2024 6:31am, by Jianmei Zhang\n\nSQL Schema Generation With Large Language Models\n\nMay 4th 2024 5:00am, by David Eastman\n\nClean Data, Trusted Model: Ensure Good Data Hygiene for Your LLMs\n\nMay 3rd 2024 10:00am, by Chase Lee\n\nHow To Build a Scalable Platform Architecture for Real-Time Data\n\nMay 3rd 2024 8:35am, by Christina Lin\n\nHow RAG Architecture Overcomes LLM Limitations\n\nMay 3rd 2024 6:27am, by Naren Narendran\n\nClean Data, Trusted Model: Ensure Good Data Hygiene for Your LLMs\n\nMay 3rd 2024 10:00am, by Chase Lee\n\nRethinking Identity and Access for Cloud Native\n\nMay 2nd 2024 8:42am, by Matt Moore\n\nFlaw in R Creates Supply Chain Security Risks\n\nMay 2nd 2024 7:06am, by Jeffrey Burt\n\nAPI Trends: Platform Engineering, the Unbundling and AI\u2019s Role\n\nMay 1st 2024 10:58am, by Lori Marshall\n\nRyan Dahl: From Node.js and Deno to the \u2018Modern\u2019 JSR Registry\n\nMay 1st 2024 6:00am, by David Cassel\n\nPlatform Engineering Operations CI/CD Tech Careers Tech Culture DevOps\nKubernetes Observability Service Mesh\n\nPlatform Engineering for a Mainframe: Design Thinking Drives Change\n\nMay 3rd 2024 1:13pm, by Jennifer Riggins\n\nAPI Trends: Platform Engineering, the Unbundling and AI\u2019s Role\n\nMay 1st 2024 10:58am, by Lori Marshall\n\nThis Is Why Infra Teams Should Care About Platform Engineering\n\nMay 1st 2024 6:30am, by Luca Galante\n\nNew Spotify Portal for Backstage Eases Platform Engineering\n\nApr 30th 2024 11:21am, by Jennifer Riggins\n\nPlatform Engineering: What Does 'Good' Look Like?\n\nApr 30th 2024 6:23am, by Dormain Drewitz\n\nRethinking Identity and Access for Cloud Native\n\nMay 2nd 2024 8:42am, by Matt Moore\n\nGolang: How To Use the Go Install Command\n\nMay 1st 2024 5:00pm, by Jack Wallen\n\nThis Is Why Infra Teams Should Care About Platform Engineering\n\nMay 1st 2024 6:30am, by Luca Galante\n\nEgress Gateway: Assign Stable IPs To Traffic Leaving K8s Clusters\n\nApr 30th 2024 9:02am, by Dhiraj Sehgal\n\nPlatform Engineering: What Does 'Good' Look Like?\n\nApr 30th 2024 6:23am, by Dormain Drewitz\n\nCI/CD Observability: A Rich New Opportunity for OpenTelemetry\n\nApr 30th 2024 10:00am, by Giordano Ricci and Dimitris Sotirakis\n\nThe Lazy Developer\u2019s Guide to Creating AI Chatbots\n\nApr 26th 2024 11:21am, by April Cho\n\nPreventing Scope Creep: Guide for Managing Outsourced Teams\n\nApr 25th 2024 7:57am, by Liz Ryan\n\nCreating an EKS Cluster with No Manual Coding\n\nApr 19th 2024 8:53am, by Edan Evantal\n\nHow an AI Chatbot Can Boost Developer Productivity\n\nApr 19th 2024 6:27am, by Asmitha Rathis\n\nDealing With Chaos: A Guide for Leaders Feeling Overwhelmed at Work\n\nMay 2nd 2024 10:00am, by Lena Reinhard\n\n3 Reasons Data Engineers Are the Unsung Heroes of GenAI\n\nMay 1st 2024 10:00am, by Barr Moses\n\nHow to Land a New Dev or IT Job: Advice from HR Professionals\n\nApr 29th 2024 7:44am, by Jeff James\n\nDevEx Success: How Pfizer Scaled to 1,000 Engineers\n\nApr 29th 2024 6:17am, by Jennifer Riggins\n\nPreparing for Crunch Times: Tips for Fast-Scaling Companies\n\nApr 26th 2024 10:00am, by Jack Tam\n\n7 Tips for Fostering Stronger Communication in Outsourced Projects\n\nMay 2nd 2024 7:24am, by Liz Ryan\n\n\u2018Opinionated\u2019? You Should Contribute to The New Stack\n\nApr 30th 2024 1:19pm, by Heather Joslyn\n\nHappy Birthday! The New Stack Turns 10 and Judy Retires\n\nApr 29th 2024 8:25am, by Alex Williams\n\nDevEx Success: How Pfizer Scaled to 1,000 Engineers\n\nApr 29th 2024 6:17am, by Jennifer Riggins\n\nPreparing for Crunch Times: Tips for Fast-Scaling Companies\n\nApr 26th 2024 10:00am, by Jack Tam\n\n7 Tips for Fostering Stronger Communication in Outsourced Projects\n\nMay 2nd 2024 7:24am, by Liz Ryan\n\nPlatform Engineering: What Does 'Good' Look Like?\n\nApr 30th 2024 6:23am, by Dormain Drewitz\n\nDevEx Success: How Pfizer Scaled to 1,000 Engineers\n\nApr 29th 2024 6:17am, by Jennifer Riggins\n\nTop 10 Tools for Kafka Engineers\n\nApr 26th 2024 8:02am, by St\u00e9phane Derosiaux\n\nVulnerabilities Versus Intentionally Malicious Software Components\n\nApr 24th 2024 6:49am, by Aaron Linskens\n\nCilium's Past Points to Its Future\n\nMay 3rd 2024 5:00am, by B. Cameron Gain\n\nEgress Gateway: Assign Stable IPs To Traffic Leaving K8s Clusters\n\nApr 30th 2024 9:02am, by Dhiraj Sehgal\n\nWebAssembly, Large Language Models, and Kubernetes Matter\n\nApr 30th 2024 7:51am, by Torsten Volk\n\nKubernetes Gets Back to Scaling with Virtual Clusters\n\nApr 25th 2024 7:01am, by Alex Williams\n\neBPF: Reliable Policy Setting and Enforcement\n\nApr 24th 2024 4:00am, by B. Cameron Gain\n\nApache Flink Gets Some Observability With Datorios\n\nApr 30th 2024 1:03pm, by Joab Jackson\n\nImproving LLM Output by Combining RAG and Fine-Tuning\n\nApr 30th 2024 10:50am, by Haijie Wu and Junhwi Kim\n\nCI/CD Observability: A Rich New Opportunity for OpenTelemetry\n\nApr 30th 2024 10:00am, by Giordano Ricci and Dimitris Sotirakis\n\nLinux: Deploy the Netdata Server Performance Monitor\n\nApr 27th 2024 6:00am, by Jack Wallen\n\nGuider Daemon Automates Linux Performance Monitoring\n\nApr 19th 2024 11:16am, by Joab Jackson\n\nEnhancing Business Security and Compliance with Service Mesh\n\nApr 1st 2024 10:00am, by Ninad Desai\n\nSome Linkerd Users Must Pay: Fear and Anger Explained\n\nFeb 28th 2024 9:21am, by B. Cameron Gain\n\nBuoyant Revises Release Model for the Linkerd Service Mesh\n\nFeb 21st 2024 9:30am, by Joab Jackson\n\nIstio Advisor Plus GPT: Expert System Meets AI for Service Mesh\n\nDec 14th 2023 12:15pm, by Steven J. Vaughan-Nichols\n\nUsing JWTs to Authenticate Services Unravels API Gateways\n\nNov 8th 2023 6:53am, by Christian Posta and Peter Jausovec\n\n2024-05-06 06:31:02\n\nHow To Run Complex Queries With SQL in Vector Databases\n\nsponsor-myscale,sponsored-post-contributed,\n\nAI / Data / Large Language Models\n\n# How To Run Complex Queries With SQL in Vector Databases\n\nLearn how to use common table expressions, subqueries and joins to perform\ncomplex SQL and vector search queries in MyScaleDB.\n\nMay 6th, 2024 6:31am by Jianmei Zhang\n\nFeatured image by Benjamin Ashton on Unsplash.\n\nVOXPOP\n\nTry our new 5 second poll. It's fast. And it's fun!\n\nShould IBM Open Source Terraform?\n\nShould IBM donate the soon-to-be-acquired HashiCorp Terraform to the Linux\nFoundation?\n\nYes, a vendor-neutral group like the Linux Foundation is the way to go.\n\nYes, but to Apache, FSF or another less corporate-friendly open source\ngoverning body.\n\nNo, IBM just spent $6.4 billion on HashiCorp. Why give away the code for free?\n\nNo, The Linux Foundation already has the code (\"OpenTofu\")\n\nI don\u2019t use Terraform. It\u2019s none of my business where the code goes.\n\nWe'd love to hear what you think.\n\nMyScale sponsored this post.\n\nVector search looks for similar vectors or data points in a data set based on\ntheir vector representations. Unlike proprietary vector databases such as\nPinecone, Milvus, Qdrant and Weaviate, MyScale is built on the open source,\nSQL-compatible ClickHouse database.\n\nSQL is an effective tool for managing relational databases. Combining SQL and\nvectors provides a powerful approach to tackling complex AI-related questions.\nUsers can execute traditional SQL and vector queries on structured data and\nvector embeddings (data) to address complex queries and analyze high-\ndimensional data in a unified, efficient manner.\n\n## Advanced SQL Techniques for Complex Queries\n\nSimple SQL queries are commands that perform straightforward data retrieval,\nusually from only one table at a time. Complex SQL queries go beyond standard\nrequests by retrieving data from several tables and limiting the result set\nwith multiple conditions.\n\nA complex query could include features such as:\n\n  * Common table expressions\n  * Subqueries\n  * Joining to many tables and using different join types\n\n### Common Table Expressions\n\nA common table expression (CTE) is a name you give a subquery within your main\nquery. The main reason to do this is to simplify your query, making it easier\nto read and debug. It can sometimes improve performance, which is another\nbenefit, but it\u2019s mostly about readability and simplification.\n\nMyScale is an open-source SQL vector database that allows to effectively\nmanage massive volumes of both structured and vector data for developing\nrobust AI applications. It enables every developer to build production-grade\nGenAI applications with powerful and familiar SQL.\n\nLearn More\n\nThe latest from MyScale\n\nConsider a scenario in which you want to determine the average age of\ncustomers who bought a particular product. You have a table of customer data,\nincluding their name, age and the products they purchased.\n\nHere\u2019s an example query to perform this calculation using a CTE:\n\nWITH product_customers AS (  \n---  \nSELECT name, age  \nFROM customer_data  \nWHERE product = 'widget'  \n)  \nSELECT AVG(age) AS avg_age  \nFROM product_customers;  \n  \nview raw cte-calculation.sql hosted with \u2764 by GitHub\n\nThis CTE \u2014 a temporary named result set (subquery) that can be referenced\nwithin a single query \u2014 is named product_customers. It\u2019s created using a\nSELECT statement that retrieves the name and age columns from the\ncustomer_data table for customers who purchased the product 'widget'.\n\nTRENDING STORIES\n\n  1. SQL Schema Generation With Large Language Models\n  2. Improving LLM Output by Combining RAG and Fine-Tuning\n  3. How RAG Architecture Overcomes LLM Limitations\n  4. How to Set up and Run a Local LLM with Ollama and Llama 2\n  5. RecurrentGemma: An Open Language Model For Smaller Devices\n\nMoving the subquery to the top of the query and giving it a name makes it\neasier to understand what the query does. If your subquery selects a sample\nembedding vector, you could name your subquery something like\ntarget_vector_embed. When you refer to this in the main query, you\u2019ll see this\nname and know what it refers to.\n\nThis is also helpful if you have a long query and need the same logic in\nseveral places. You can define it at the top of the query and refer to it\nmultiple times throughout your main query.\n\nSo consider using CTEs when having a subquery improves the readability of your\nquery.\n\n### Subqueries\n\nA subquery is a simple SQL command embedded within another query. By nesting\nqueries, you can set up larger restrictions on the data included in the result\nset.\n\nSubqueries can be used in several places within a query, but it\u2019s easiest to\nstart with the FROM statement. Here\u2019s an example of a basic subquery:\n\nSELECT sub.*  \n---  \nFROM (  \nSELECT *  \nFROM table  \nWHERE conditions  \n) sub  \nWHERE sub.column_1 = 'myscale';  \n  \nview raw basic-subquery.sql hosted with \u2764 by GitHub\n\nI\u2019ll break down what happens when you run the above query:\n\nFirst, the database runs the \u201cinner query\u201d \u2014 the part between the parentheses.\nIf you run this independently, it produces a result set just like any other\nquery. However, after the inner query runs, the outer query runs using the\nresults from the inner query as its underlying table:\n\nSELECT sub.*  \n---  \nFROM (  \n<< restuls from inner query go here >>  \n) sub  \nWHERE sub.column_1 = 'myscale';  \n  \nview raw outer-query.sql hosted with \u2764 by GitHub\n\nSubqueries must have names, which are added after parentheses (the same way\nyou would add an alias to a regular table). This query uses the name sub.\n\n#### Using Subqueries in Conditional Logic\n\nYou can use subqueries in conditional logic (in conjunction with WHERE,\nJOIN/ON or CASE). The following query returns all the entries from the same\ndate as the specified entry in the data set:\n\nSELECT *  \n---  \nFROM table  \nWHERE Date = (SELECT Date  \nFROM table  \nWHERE id='00001');  \n  \nview raw subquery-conditional-logic.sql hosted with \u2764 by GitHub\n\nThis query works because the result of the subquery is only one cell. Most\nconditional logic will work with subqueries containing one-cell results.\nHowever, IN is the only type of conditional logic that will work when the\ninner query contains multiple results:\n\nSELECT *  \n---  \nFROM table  \nWHERE Date IN (SELECT Date  \nFROM table  \nORDER BY Date  \nLIMIT 5);  \n  \nview raw conditional-logic-query-IN.sql hosted with \u2764 by GitHub\n\nNote that you should not include an alias when you write a subquery in a\nconditional statement. This is because the subquery is treated as an\nindividual value (or set of values in the IN clause) rather than as a table.\n\n### Joining Tables\n\njoin produces a new table by combining columns from one or multiple tables by\nusing values common to each. Different types of joins are:\n\n  * INNER JOIN: Only matching rows are returned.\n  * LEFT JOIN: Nonmatching rows from the left table and matching rows are returned.\n  * RIGHT JOIN: Nonmatching rows from the right table and matching rows are returned.\n  * FULL JOIN: Nonmatching rows from both tables and matching rows are returned.\n  * CROSS JOIN: Produces the Cartesian product of whole tables, as \u201cjoin keys\u201d are not specified.\n\n## Using Complex SQL and Vector Queries in MyScale\n\nSQL vector database MyScale includes several features that help with complex\nSQL and vector queries.\n\n### Common Table Expressions\n\nMyScale supports CTE and substitutes the code defined in the WITH clause for\nthe rest of the SELECT query. Named subqueries can be included in the current\nand child query context anywhere table objects are allowed.\n\nVector search is a search method that represents data as vectors. It is\ncommonly used in applications such as image, video and text search. MyScale\nuses the distance() function to perform vector searches. It calculates the\ndistance between a specified vector and all vector data in a specified column\nand returns the top candidates.\n\nIn some cases, if the specified vector is obtained from another table or the\ndimension of the specified vector is large and inconvenient to represent, you\ncan use CTE or subquery.\n\nAssume you have a vector table named photos that stores metadata information\nlinked to your photo library\u2019s images, with id, photo_id and photo_embed for\nthe embedding vector.\n\nThe following example treats the result of a selection in CTE as a target\nvector to execute vector search:\n\nWITH target_photo_embed AS (  \n---  \nSELECT photo_embed  \nFROM photos  \nLIMIT 1)  \nSELECT id, photo_id, distance(photo_embed, target_photo_embed) as dist  \nFROM photos  \nORDER BY dist  \nLIMIT 10;  \n  \nview raw selection-target-vector.sql hosted with \u2764 by GitHub\n\n### Joins and Subqueries\n\nThere is limited support in MyScale for join, and using subquery is\nrecommended as a workaround. In MyScale, the vector search is based on the\nvector index on a table with a vector column. Although the distance() function\nappears in the SELECT clause, its value is calculated during vector search on\nthe table, not after join. The join result may not be the expected result.\n\nThe following are possible workarounds:\n\n  * You can use the distance()...WHERE...ORDER BY...LIMIT query pattern in subqueries that utilize vector indexes and get expected results on vector tables.\n  * You can also use subqueries in the WHERE clause to rewrite the join.\n\nAssume you have another table, photo_meta, that stores information about the\nphoto library\u2019s images with photo_id, photo_author, year and title. The\nfollowing example retrieves relevant photos taken in 2023 from a collection of\nimages:\n\nSELECT t1.photo_id, distance(t1.photo_embed,[0.0269, 0.0316,...]) as dist  \n---  \nFROM photos t1  \nJOIN photo_meta t2 ON t1.photo_id = t2.photo_id  \nWHERE t2.year = 2023  \nORDER BY dist  \nLIMIT 5;  \n  \nview raw retrieve-photos-sql hosted with \u2764 by GitHub\n\nHere\u2019s what happens when you run the above query:\n\nFirst, MyScale executes vector search on the table photos to get the required\ncolumn photo_id and the value of the distance() function for the top five\nrelevant records:\n\nSELECT photo_id, distance(photo_embed,[0.0269, 0.0316,...]) as dist  \n---  \nFROM photos  \nORDER BY dist  \nLIMIT 5;  \n  \nview raw top-5-records.sql hosted with \u2764 by GitHub\n\nThen, the join runs using the results from the vector table as its underlying\ntable:\n\nSELECT t1.photo_id, t1.dist  \n---  \nFROM (<< results of vector table go here >>) t1  \nJOIN photo_meta t2 ON t1.photo_id = t2.photo_id  \nWHERE t2.year = 2023;  \n  \nview raw join-with-vector-table-results.sql hosted with \u2764 by GitHub\n\nBecause the vector search doesn\u2019t consider the year photos were taken, the\nresult may be incorrect. To get the correct result, rewrite the join query by\nusing a subquery:\n\nSELECT t1.photo_id, t1.dist  \n---  \nFROM (  \nSELECT photo_id, distance(photo_embed,[0.0269, 0.0316,...]) as dist  \nFROM photos  \nWHERE photo_id IN (  \nSELECT t1.photo_id  \nFROM photos t1 JOIN photo_meta t2 ON t1.photo_id = t2.photo_id  \nWHERE t2.year = 2023)  \nORDER BY dist  \nLIMIT 5  \n) t1  \nORDER BY dist  \nLIMIT 5;  \n  \nview raw join-with-subquery.sql hosted with \u2764 by GitHub\n\n## Improve Data Analysis\n\nAdvanced SQL techniques like CTEs, subqueries and joins can help you perform\ncomplex data analyses and manipulations with greater precision and efficiency.\nMyScale combines the power of SQL and vectors to provide a powerful approach\nto tackling complex AI-related questions. With MyScale, you can efficiently\nexecute traditional SQL and vector queries on structured and vector data to\naddress complex queries and analyze high-dimensional data in a unified and\nefficient manner.\n\nIf you are interested in learning more, please follow us on X (Twitter) or\njoin our Discord community. Let\u2019s build the future of data and AI together!\n\nJianmei Zhang, senior software engineer at MyScale, is passionate about\noptimizing performance and ensuring efficient storage and retrieval of vector\ndata. With a strong background in database design and development, Jianmei\nfocuses on the development and performance optimization of vector...\n\nRead more from Jianmei Zhang\n\nMyScale sponsored this post.\n\nSHARE THIS STORY\n\nTRENDING STORIES\n\n  1. SQL Schema Generation With Large Language Models\n  2. Improving LLM Output by Combining RAG and Fine-Tuning\n  3. How RAG Architecture Overcomes LLM Limitations\n  4. How to Set up and Run a Local LLM with Ollama and Llama 2\n  5. RecurrentGemma: An Open Language Model For Smaller Devices\n\nSHARE THIS STORY\n\nTRENDING STORIES\n\n  1. SQL Schema Generation With Large Language Models\n  2. Improving LLM Output by Combining RAG and Fine-Tuning\n  3. How RAG Architecture Overcomes LLM Limitations\n  4. How to Set up and Run a Local LLM with Ollama and Llama 2\n  5. RecurrentGemma: An Open Language Model For Smaller Devices\n\nInsights From Our Sponsor\n\nTNS DAILY NEWSLETTER Receive a free roundup of the most recent TNS articles in\nyour inbox each day.\n\nThe New Stack does not sell your information or share it with unaffiliated\nthird parties. By continuing, you agree to our Terms of Use and Privacy\nPolicy.\n\nARCHITECTURE\n\nOpen Source Cloud Native Ecosystem Containers Edge Computing Microservices\nNetworking Serverless Storage\n\nENGINEERING\n\nAI Large Language Models Frontend Development Software Development API\nManagement Python JavaScript TypeScript WebAssembly Cloud Services Data\nSecurity\n\nOPERATIONS\n\nPlatform Engineering Operations CI/CD Tech Careers Tech Culture DevOps\nKubernetes Observability Service Mesh\n\nCHANNELS\n\nPodcasts Ebooks Events Newsletter TNS RSS Feeds\n\nTHE NEW STACK\n\nAbout / Contact Sponsors Sponsorship Contributions\n\nroadmap.sh\n\nCommunity created roadmaps, articles, resources and journeys for developers to\nhelp you choose your path and grow in your career.\n\nFrontend Developer Roadmap Backend Developer Roadmap Devops Roadmap\n\n\u00a9 The New Stack 2024\n\nDisclosures Terms of Use Advertising Terms & Conditions Privacy Policy Cookie\nPolicy\n\nFOLLOW TNS\n\nSome TNS posts require third-party cookies to view embedded content (video,\naudio, technical & interactive content).\n\nBy clicking \u201cAccept\u201d you agree to our use of these cookies in accordance with\nour Cookie Notice.\n\nCookie Policy\n\n## The New Stack's Cookies Usage\n\nWhen you visit, the website may store or retrieve information on your browser,\nmostly in the form of cookies. This information might be about you, your\npreferences or your device, but does not usually directly identify you. The\ninformation is mostly used to make the website display the embedded content\nyou expect to see and work the way you expect it to. Cookie Policy\n\n### Manage Consent Preferences\n\n#### Strictly Necessary Cookies\n\nAlways Active\n\nThese cookies are necessary for the website to function and cannot be switched\noff in our systems. They are usually only set in response to actions made by\nyou which amount to a request for services, such as setting your privacy\npreferences, logging in or filling in forms. You can set your browser to block\nor alert you about these cookies, but some parts of the site will not then\nwork. These cookies do not store any personally identifiable information.\n\n#### Functional Cookies\n\nThese cookies enable the website to provide enhanced functionality and\npersonalisation. They may be set by us or by third party providers whose\nservices we have added to our pages. If you do not allow these cookies then\nsome or all of these services may not function properly.\n\n#### Performance Cookies\n\nThese cookies allow us to count visits and traffic sources so we can measure\nand improve the performance of our site. They help us to know which pages are\nthe most and least popular and see how visitors move around the site. All\ninformation these cookies collect is aggregated and therefore anonymous. If\nyou do not allow these cookies we will not know when you have visited our\nsite, and will not be able to monitor its performance.\n\n#### Targeting Cookies\n\nThese cookies may be set through our site by our advertising partners. They\nmay be used by those companies to build a profile of your interests and show\nyou relevant adverts on other sites. If you do not allow these cookies, you\nwill experience less targeted advertising.\n\n### Vendors List\n\nlabel\n\nConsent Leg.Interest\n\nlabel\n\nlabel\n\nlabel\n\n", "frontpage": false}
