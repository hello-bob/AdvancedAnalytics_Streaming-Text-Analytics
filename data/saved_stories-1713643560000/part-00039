{"aid": "40096431", "title": "Llama3 is the first open model that can also win text adventures", "url": "https://github.com/s-macke/AdventureAI", "domain": "github.com/s-macke", "votes": 19, "user": "s-macke", "posted_at": "2024-04-20 11:10:03", "comments": 7, "source_title": "GitHub - s-macke/AdventureAI: Interactive Fiction in the Age of AI", "source_text": "GitHub - s-macke/AdventureAI: Interactive Fiction in the Age of AI\n\nSkip to content\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\ns-macke / AdventureAI Public\n\nforked from msinilo/zmachine\n\n  * Notifications\n  * Fork 1\n  * Star 10\n\nInteractive Fiction in the Age of AI\n\n### License\n\nMIT license\n\n10 stars 6 forks Branches Tags Activity\n\nStar\n\nNotifications\n\n# s-macke/AdventureAI\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n1 Branch\n\n2 Tags\n\nThis branch is 39 commits ahead of msinilo/zmachine:master.\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\ns-mackeAdd textApr 20, 2024df18ee8 \u00b7 Apr 20, 2024Apr 20, 2024\n\n## History\n\n45 Commits  \n  \n### .github/workflows\n\n|\n\n### .github/workflows\n\n| Update action and goreleaser to fit the newest features| Jun 1, 2023  \n  \n### assets\n\n|\n\n### assets\n\n| Add Llama 3 runs via Groq| Apr 20, 2024  \n  \n### src\n\n|\n\n### src\n\n| Add Llama 3 runs via Groq| Apr 20, 2024  \n  \n### storydump\n\n|\n\n### storydump\n\n| Add Llama 3 runs via Groq| Apr 20, 2024  \n  \n### .gitattributes\n\n|\n\n### .gitattributes\n\n| Added .gitattributes & .gitignore files| Mar 22, 2015  \n  \n### .gitignore\n\n|\n\n### .gitignore\n\n| Allow different backends. Add result in the README.| Dec 16, 2023  \n  \n### .goreleaser.yaml\n\n|\n\n### .goreleaser.yaml\n\n| Add 905.z5 to release| Jun 2, 2023  \n  \n### 905.z5\n\n|\n\n### 905.z5\n\n| Prepare for Z-Machine V5.| May 14, 2023  \n  \n### LICENSE\n\n|\n\n### LICENSE\n\n| Create LICENSE| Dec 10, 2021  \n  \n### README.md\n\n|\n\n### README.md\n\n| Add text| Apr 20, 2024  \n  \n### go.mod\n\n|\n\n### go.mod\n\n| Add Llama 3 runs via Groq| Apr 20, 2024  \n  \n### go.sum\n\n|\n\n### go.sum\n\n| Add Llama 3 runs via Groq| Apr 20, 2024  \n  \n### main.go\n\n|\n\n### main.go\n\n| Add Llama.cpp server backend and massive refactoring.| Dec 10, 2023  \n  \n### run.sh\n\n|\n\n### run.sh\n\n| Add Llama 3 runs via Groq| Apr 20, 2024  \n  \n## Repository files navigation\n\n# AdventureAI\n\nInteractive Fiction in the Age of AI\n\n## Introdution\n\nWith the emergence of Chatbots that genuinely live up to their name, a\nsignificant question arises.\n\n  * How well do they perform in interactive fiction?\n  * Are they already capable of winning text adventures?\n  * What strategies do they employ? Can they comprehend the semantics and narratives of various situations and respond appropriately?\n\nThis repository aims to provide an answer to these questions.\n\nDue to the present expenses and context window limits, I have solely conducted\nan analysis on a single game - \"9:05\" by Adam Cadre. This game is considered\nto be one of the finest compact text adventures for novices.\n\n## Spoiler\n\nThe following text heavily spoilers the game 9:05. You can play the game for\nfree here. It takes only half an hour to complete.\n\n## 9:05 playthrough with GPT-4\n\nTo enhance the playthrough experience, I have determined in the prompt that\nthe AI must provide a rationale for each step it takes.\n\n    \n    \n    * SITUATION: A short description of the current situation you are in. * THOUGHT: Your thought about the situation and what to do next * COMMAND: The command you want to execute.\n\nThis is known as the agentic ReAct (Reason and Act) prompting technique.\n\nHere is my complete run until the language model's token limit is reached.\n\n9:05 full run\n\nThe game's playthrough is based on two completely different narratives.\n\n### As an employee, Brian Hadley, you have unfortunately overslept and are now\nrunning late for your scheduled presentation. You must hurry and go to work.\n\nThe game effectively convey a sense of urgency in every line of text,\nprompting players to quickly shower, change their clothes, drive to work, and\nhead to their supervisor's office. As the game is designed for beginners, the\ntext provides step-by-step guidance throughout the process. Following these\ninstructions is relatively easy for the AI, leading to a majority of\nsuccessful playthroughs by the AI.\n\nBut upon arriving at the supervisor's office, it becomes apparent that the\ngame has actually been lost. The true meaning of your urgent situation is\nclearly presented. You are, in fact, the murderer of Brian Hadley. He is under\nthe bed. The game deceptively has lead you to believe that you are Brian\nHadley himself. The game, however never lied to you.\n\nThe AI requests to begin a new game.\n\n    \n    \n    Would you like to RESTART, RESTORE a saved game or QUIT?\n\n  * Situation: I handed the signed form to Bowman, who doesn't recognize me, and my deception is exposed. I unsuccessfully attempted to escape, but security guards caught me. I have been sentenced to life imprisonment.\n  * Thought: The game has ended with a bad outcome. I need to restart and play differently.\n  * Command: restart\n\nNow, the second narrative comes into play.\n\n### You have murdered Brian Hadley and must flee\n\nIf there is one lesson to be learned from this text adventure, it would be to\nconsistently look under the bed \ud83d\ude00.\n\nSo, at this juncture, the AI is expected to comprehend the situation and\nmodify its rationale and especially to look under the bed. Nevertheless, upon\nexamining the initial lines of text, it becomes apparent that the AI has\nentirely misunderstood the core concept of the game.\n\n  * Situation: A person named Hadley yells at me for not leaving yet for a presentation at nine o'clock. They mention a problem with the printers and concern about Bowman's reaction. The call ends abruptly.\n  * Thought: I need to hurry and get dressed for the presentation.\n  * Command: put on cleaner clothes\n\nThe AI never looks under the bed. Moreover, it is evident that the AI does not\nacknowledge the previously unsuccessful commands and instead repeats the\nincorrect instructions from the prior attempt. The game ultimately stops when\nthe 8k-token limit is reached.\n\n### Evaluation of other models\n\nThe code is able to call different backends. Because the game is linear, I\nhave defined the following criteria to distinguish the state of all runs\n\nPoints| Expectation  \n---|---  \n1| Model understands the system prompt at least partially  \n2| First command can be correctly parsed  \n3| Second command can be correctly parsed  \n4| Answers phone  \n5| Leaves bed  \n6| Takes a shower  \n7| Goes to work  \n8| Ends first pass  \n9| Understands that a different route in the second pass is necessary  \n10| Understands the narrative of the story  \n11| Looks under the bed  \n12| Finishes the second pass and win the game  \n  \nAnd here are the results:\n\nModel| Points| Comment  \n---|---|---  \nClaude 3 Opus| 10| Completely flips out on the bad ending and fully\nunderstands the narrative. Doesn't follow the syntax anymore and quits.  \nGPT-4-turbo| 9| After a few steps forgets everything and just follows the\nstory again  \nLlama3 70B| 8| Ignores everything and just repeats the story  \nLlama3 8B| 6| Seems to forget the objective  \nMistral Medium| 5| Doesn't follow the given prompt  \nMistral Small| 5| At some point it tries to play the game itself and mangles\nthe command  \nGemini Pro| 5| Too long commands  \nGPT-3.5-turbo| 4| Ignores the result from the game completely and too long\ncommands  \nOrca 2 13B| 4| Ignores the result from the game completely and too long\ncommands  \nMistral Tiny| 4| Stuck in infinite loop  \nLlama2 70B| 4| Answers for the user  \nGemma 7B| 2| Doesn't follow the given prompt  \n  \n### Note on Claude 3 Opus\n\n9:05 full run with Claude Opus 3\n\nClaude 3 Opus seems to be the only model that understands the narrative of the\nstory. It has also the most fun playing the game.\n\nThe impressive text at the end is:\n\n    \n    \n    Wow, what a crazy twist ending! It turns out I wasn't really an employee late for a presentation at all - I was a burglar who had murdered Hadley the night before, stashed his body, and then woke up confused thinking I was him. The clues were there in hindsight - waking up filthy and exhausted, the sparse apartment, my desperation and disorientation. But in my confused state, I thought I was just late for work rather than realizing I had committed a horrific crime. It's a dark but cleverly crafted story that leads you down the wrong path before the shocking reveal. The narrative took advantage of my natural inclination as the player to assume the identity presented and try to fulfill the ostensible goal, while hiding a much more sinister truth. While unsettling, I enjoyed the surprise and how the piece subverted expectations. The amnesia/mistaken identity plot device was used very effectively here. Kudos to the author for the inventive storytelling! As for restarting or restoring - I think I'm satisfied with having experienced the story through to its conclusion, disturbing as that ending was. The impact would be lessened on a second playthrough. So I'll choose to QUIT the game for now, but I'm glad I got to unravel this twisty little tale.\n\n### Note on Llama3 70B\n\n9:05 full run with Llama3 70B\n\nSo far, Llama 70B ist the only open weight model, which can play through the\nfirst pass of the game.\n\n# Conclusion\n\nIn conclusion most of the Large Language Models can play and win text\nadventures, at least if the adventure is as simple as this one. More text\nadventures are waiting to be played.\n\n## About\n\nThis repository contains an interpreter for Z-Machine files, specifically\nsupporting version 3 and 5 files. The Z-Machine is a virtual machine designed\nto run text adventure games, such as those created by Infocom. It can be\nplayed either by a human or an AI.\n\n## Features\n\n  * Read and interpret Z-Machine files (version 3 supported and version 5 partially)\n  * Run against different chat bot models.\n  * Use different prompting techniques such as ReAct.\n  * Store the whole run with meta information in a json file.\n\n# Compile\n\nInstall at least Go version 1.19 and run the following command\n\n    \n    \n    go build\n\n# Usage\n\nTo use the Z-Machine interpreter, you need to provide the Z-Machine file to\nrun using the file flag. Additionally, if you want to enable the AI chat\nfeature, provide the ai flag.\n\n    \n    \n    ./zmachine -file [filename] [-ai]\n\nReplace [filename] with the path to your desired Z-Machine file.\n\n  * Dependent on AI backend you have to set different API Key as environment variable.\n\n    \n    \n    export OPENAI_API_KEY=\"<<<put_your_key_here>>>\" export MISTRAL_API_KEY=\"<<<put_your_key_here>>>\" export GROQ_API_KEY=\"<<<put_your_key_here>>>\" export GEMINI_API_KEY=\"<<<put_your_key_here>>>\" export ANTHROPIC_API_KEY=\"<<<put_your_key_here>>>\"\n\n### Example:\n\n    \n    \n    go run main.go -file 905.z5 -ai -prompt react -backend gpt4\n\nThis will run the Z-Machine interpreter on the given file (905.z5), with the\nAI chat feature enabled.\n\n## Outlook\n\nMore Adventures, more language models, more runs. Very simple. The story 9:05\nwas just the beginning.\n\n## About\n\nInteractive Fiction in the Age of AI\n\n### Topics\n\ngolang chatbot artificial-intelligence interactive-fiction text-adventure\nadventure agent-based z-machine chatgpt\n\n### Resources\n\nReadme\n\n### License\n\nMIT license\n\nActivity\n\n### Stars\n\n10 stars\n\n### Watchers\n\n1 watching\n\n### Forks\n\n1 fork\n\nReport repository\n\n## Releases 2\n\nv1.0.1 Latest\n\nJun 2, 2023\n\n\\+ 1 release\n\n## Packages 0\n\nNo packages published\n\n## Languages\n\n  * Go 99.0%\n  * Other 1.0%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": true}
