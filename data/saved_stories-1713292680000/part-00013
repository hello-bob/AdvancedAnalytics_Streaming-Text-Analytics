{"aid": "40050845", "title": "One programmer broke the internet by deleting a tiny piece of code", "url": "https://qz.com/646467/how-one-programmer-broke-the-internet-by-deleting-a-tiny-piece-of-code", "domain": "qz.com", "votes": 2, "user": "kakakiki", "posted_at": "2024-04-16 11:49:45", "comments": 0, "source_title": "How one programmer broke the internet by deleting a tiny piece of code", "source_text": "How one programmer broke the internet by deleting a tiny piece of code\n\n  * Gizmodo\n  * Jalopnik\n  * Kotaku\n  * Quartz\n  * The Root\n  * The Onion\n  * The Inventory\n\n#### Support Quartz\n\nFund next-gen business journalism with $10 a month\n\nSearch\n\nFree Newsletters\n\nWe may earn a commission from links on this page\n\nTech & Innovation\n\nNPM ERR!\n\n# How one programmer broke the internet by deleting a tiny piece of code\n\nBy\n\nKeith Collins\n\nPublishedMarch 27, 2016\n\nWe may earn a commission from links on this page.\n\nA man in Oakland, California, disrupted web development around the world last\nweek by deleting 11 lines of code.\n\nThe story of how 28-year-old Azer Ko\u00e7ulu briefly broke the internet shows how\nwriting software for the web has become dependent on a patchwork of code that\nitself relies on the benevolence of fellow programmers. When that system\nbreaks down, as it did last week, the consequences can be vast and\nunpredictable.\n\n\u201cI think I have the right of deleting all my stuff,\u201d Ko\u00e7ulu wrote on March 20\nin an email that was later made public.\n\nAnd then he did it.\n\n## The open-source creed\n\nKo\u00e7ulu had been publishing code he wrote to npm, a popular service that\u2019s\nwidely used to find and install open-source software written in JavaScript. It\nhas become an essential tool in web development, invoked billions of times a\nmonth, thanks to npm\u2019s ease of use and its enormous library of free code\npackages contributed by the open-source community.\n\nAzer Ko\u00e7uluImage: GitHub\n\nThe open-source philosophy is what drove Ko\u00e7ulu to contribute to npm in the\nfirst place, and why he ended up abandoning the service. Like many in the\nbroad community of people who write code that anyone can use, he is influenced\nby the \u201chacker ethic\u201d of early programmers at the Massachusetts Institute of\nTechnology and a set of more concrete values that were later put forth by the\nprogrammer Richard Stallman.\n\n\u201cThe fundamental act of friendship among programmers is the sharing of\nprograms,\u201d Stallman wrote in his 1985 manifesto. He railed against \u201cthe\ncommercialization of system software,\u201d and laid out ways to make code more\ncommunal and widely useful. Many of Stallman\u2019s ideas, as well as the legacy of\nthe hacker ethic, continue to influence programmers like Ko\u00e7ulu.\n\n\u201cI\u2019m a self-taught high school graduate who learn everything thanks to open\nsource community,\u201d Ko\u00e7ulu, who was born in Turkey, wrote in an email to\nQuartz. \u201cI owe everything I have to the people who never gave up with open\nsource philosophy.\u201d\n\n## It began with an email\n\nOne of the open-source JavaScript packages Ko\u00e7ulu had written was kik, which\nhelped programmers set up templates for their projects. It wasn\u2019t widely\nknown, but it shared a name with Kik, the messaging app based in Ontario,\nCanada. On March 11, Ko\u00e7ulu received an email from Bob Stratton, a patent and\ntrademark agent who does contract work for Kik.\n\nStratton said Kik was preparing to release its own package and asked Ko\u00e7ulu if\nhe could rename his. \u201cCan we get you to rename your kik package?\u201d Stratton\nwrote.\n\n\u201cSorry, I\u2019m building an open source project with that name,\u201d Ko\u00e7ulu wrote\nback.\n\nThe conversation quickly escalated, with Stratton threatening legal action:\n\u201cWe don\u2019t mean to be a dick about it, but it\u2019s a registered trademark in most\ncountries around the world and if you actually release an open source project\ncalled kik, our trademark lawyers are going to be banging on your door and\ntaking down your accounts and stuff like that \u2014 and we\u2019d have no choice but to\ndo all that because you have to enforce trademarks or you lose them.\u201d\n\n\u201cHahah, you\u2019re actually being a dick,\u201d Ko\u00e7ulu replied. \u201cSo, fuck you. Don\u2019t\nemail me back.\u201d\n\nStratton offered to pay for the name, and Ko\u00e7ulu suggested $30,000 \u201cfor the\nhassle of giving up with my pet project for bunch of corporate dicks.\u201d It was\nclear the two men weren\u2019t going to reach an agreement.\n\n## npm sides with Kik\n\nThe company called npm is based, like Ko\u00e7ulu, in Oakland. Though a for-profit\nenterprise, npm runs its eponymous registry of open-source software for free\nand has a mission of fostering open-source JavaScript development. The company\ngenerates revenue from private services for code that isn\u2019t open-sourced, a\nbusiness model similar to GitHub.\n\nStratton brought Kik\u2019s request for the name to npm, again citing the company\u2019s\ntrademark and potential confusion. Isaac Schlueter, the chief executive of\nnpm, agreed to turn the name over to the company.\n\n\u201cIn this case, we believe that most users who would come across a kik package,\nwould reasonably expect it to be related to kik.com,\u201d Schlueter wrote to\nStratton and Ko\u00e7ulu on March 18. \u201cIn this context, transferring ownership of\nthese two package names achieves that goal.\u201d\n\n\u201cI know you for years,\u201d Ko\u00e7ulu replied, \u201cand would never imagine you siding\nwith corporate patent lawyers threatening open source contributors.\u201d\n\nMany programmers, particularly in the open-source community, are critical of\nintellectual property law in the United States, and the patent- and trademark-\nholders who seek to enforce it. For years, software companies have been\nbombarded with lawsuits over patents that cover ubiquitous technologies, like\ndisplaying images on web pages or sending news stories over email. Software\ndevelopers tend to see these lawsuits as a hindrance to innovation and\nborderline extortion.\n\nTo Ko\u00e7ulu, npm\u2019s decision to transfer ownership of the kik package to Kik ran\ncounter to the values of the community it serves. In his reply, Ko\u00e7ulu said he\nwanted all of the packages he had registered on npm taken down. \u201dI don\u2019t wanna\nbe a part of NPM anymore,\u201d he wrote. \u201cIf you don\u2019t do it, let me know how do\nit quickly.\u201d\n\n## Breaking the internet\n\nTwo days after Ko\u00e7ulu\u2019s last email to npm, on March 22, JavaScript programmers\naround the world started receiving a strange error message when they tried to\nrun their code. The issue was severe enough to keep some developers from\nupdating apps and services that were already running on the web. The error\nspit out many lines, but one stood out:\n\nIt meant that the code they were trying to run required a package called left-\npad, but the npm registry didn\u2019t have it.\n\nMost programmers had never heard of left-pad, but now, somehow, their code\ncouldn\u2019t run without it. To understand how this could happen, it\u2019s important\nto understand that almost all software is built on top of other software,\nwhich also depends on other software. Loading your own app might require a\ncertain set of packages from npm, but those packages may require their own\nsets of packages, and so on. That\u2019s one reason npm has become so popular,\nhelping to manage those dependencies by maintaining all of the packages in\none, reliable place.\n\nReliable, that is, until one of the packages goes missing.\n\nBy early evening, developers began congregating at the GitHub repository where\nleft-pad was maintained. Most were confused because packages don\u2019t usually\ndisappear. This one was particularly perplexing because it was just 11 lines\nof straightforward code. Here is left-pad in its entirety:\n\nThat code can be used to add characters to the beginning of a string of text,\nperhaps a zero to the beginning of a zip code. It\u2019s a single-purpose function,\nsimple enough for most programmers to write themselves. Lots of npm packages,\nhowever, relied on left-pad to do it for them, which is how this tiny bit of\ncode became so important.\n\nSome of the largest, most widely used npm packages were suddenly broken. One\nof the affected packages, React, is used by major websites like Facebook,\nwhich created it, and a wide variety of smaller sites like Quartz\u2019s own Atlas.\nIn the past month alone, more than a million people have downloaded React from\nnpm. React didn\u2019t require these 11 lines of code directly, of course. It\ndepended on one set of packages, and each of those depended on another set, et\ncetera, and one of those branches eventually led to left-pad. And now, left-\npad was gone.\n\nIts absence was felt globally; the commenters on left-pad's GitHub page were\nwriting from Australia, Germany, the United States, and the Czech Republic. In\nOntario, where the issue had originated in its roundabout way, programmers at\nKik were ironically running into left-pad problems, as well. Mike Roberts, who\nruns the company\u2019s messaging app, said in an interview that the error\nprevented his colleagues from running software they had been working on. \u201cWhat\nthe heck,\u201d Roberts recalled thinking, \u201cone of our packages is missing?\u201d\n\n## \u2018Un-un-publishing\u2019\n\nAn hour after the issue was first noticed, Ko\u00e7ulu surfaced with a post on\nMedium titled, \u201cI\u2019ve Just Liberated My Modules.\u201d He briefly explained the\ndispute with Kik and npm, and said he\u2019d deleted his packages from npm in\nprotest\u2013all 273 of them. One of those\u2014hardly the most popular or even the most\nimportant, even to Ko\u00e7ulu\u2014was left-pad.\n\n\u201cThis situation made me realize that NPM is someone\u2019s private land where\ncorporate is more powerful than the people, and I do open source because,\nPower To The People,\u201d Ko\u00e7ulu wrote.\n\nFacing a crisis, with so much important software falling apart, npm decided to\nrestore the 11 lines of code. \u201cUn-un-publishing is an unprecedented action\nthat we\u2019re taking given the severity and widespread nature of breakage, and\nisn\u2019t done lightly,\u201d wrote Laurie Voss, the chief technology officer of npm.\nHe added, \u201cThis action puts the wider interests of the community of npm users\nat odds with the wishes of one author; we picked the needs of the many.\u201d\n\nWith that, the issue was fixed, about two hours after it first emerged.\n\n## A web of dependencies\n\nThat left-pad was able to wreak such havoc, even for a brief period, speaks to\nthe way that modern software is developed. Web services of outsized\nimportance, like Facebook, can come to be dependent on obscure lines of code\nwritten by other programmers. Soon after the ordeal was resolved, an\nincredulous post rose to the top of Reddit\u2019s section for programmers: \u201cAn 11\nline npm package called left-pad with only 10 stars on github was\nunpublished...it broke some of the most important packages on all of npm.\u201d\n\nSome programmers blamed Kik, for threatening legal action over an open-source\nproject, or npm, saying the breakdown was a sign that the service\u2019s\ninfrastructure is too fragile. Many also called into question npm\u2019s choice to\naccede to Kik\u2019s demand. \u201dWas there really no way this could have gotten\nresolved,\u201d one commenter wrote, \u201cwithout npm swiping someone\u2019s module out from\nunder them? Or even any public discussion? Does this mean npm will cave to any\nlegal threat?\u201d\n\nWhen asked in a phone interview with Quartz what he would do if Twitter or\nGoogle asked for the rights to npm packages currently registered under those\nnames, Schlueter said it would depend on the packages themselves. \u201dGenerally,\u201d\nhe said, \u201cthat\u2019s just sort of a matter of looking at how Twitter would want to\nuse the module called twitter or how the current developer is using it, and\nhow well-established it is, and how many people are depending upon it, and\ncountless other factors.\u201d\n\nOthers in the Reddit thread and elsewhere lamented the fact that an 11-line\nnpm package existed at all, suggesting that programmers should be able to\nwrite those 11 lines of code themselves. Jokes on that topic quickly\nproliferated across the internet. Someone created leftpad.io, poking fun at\nthe massive dependence on such a simple piece of code. (\u201cIn order to prevent\nsuch a terrible tragedy from occurring ever again during our lifetimes, \u2018left-\npad.io\u2019 has been created to provide all the functionality of \u2018left-pad\u2019.\u201d)\n\nMike Roberts, from Kik, said in an interview that he regretted not reaching\nout to Ko\u00e7ulu himself in the first place. \u201dFrom my perspective,\u201d he said,\n\u201copen-source, the community, is about helping each other out.\u201d\n\n## \ud83d\udcec Sign up for the Daily Brief\n\nOur free, fast, and fun briefing on the global economy, delivered every\nweekday morning.\n\n", "frontpage": false}
