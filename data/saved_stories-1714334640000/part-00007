{"aid": "40187397", "title": "Brunoamaral/gregory: Gregory uses AI to help find scientific research", "url": "https://github.com/brunoamaral/gregory", "domain": "github.com/brunoamaral", "votes": 1, "user": "rcarmo", "posted_at": "2024-04-28 10:02:31", "comments": 0, "source_title": "GitHub - brunoamaral/gregory: Gregory uses Artificial Intelligence and Machine Learning to help find scientific research and filtering relevant content.", "source_text": "GitHub - brunoamaral/gregory: Gregory uses Artificial Intelligence and Machine\nLearning to help find scientific research and filtering relevant content.\n\nSkip to content\n\n## Navigation Menu\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\nbrunoamaral / gregory Public\n\n  * Notifications\n  * Fork 5\n  * Star 41\n\nGregory uses Artificial Intelligence and Machine Learning to help find\nscientific research and filtering relevant content.\n\ngregory-ai.com/\n\n### License\n\nView license\n\n41 stars 5 forks Branches Tags Activity\n\nStar\n\nNotifications\n\n# brunoamaral/gregory\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n12 Branches\n\n30 Tags\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\nbrunoamaralMerge pull request #386 from brunoamaral/new-pipelineApr 26,\n2024566c175 \u00b7 Apr 26, 2024Apr 26, 2024\n\n## History\n\n1,861 Commits  \n  \n### .github\n\n|\n\n### .github\n\n| remove kofi from Update FUNDING.yml| Nov 12, 2023  \n  \n### django\n\n|\n\n### django\n\n| new pipeline, ready to test| Apr 22, 2024  \n  \n### docs\n\n|\n\n### docs\n\n| add db diagram| Mar 29, 2024  \n  \n### images\n\n|\n\n### images\n\n| remove| Jun 19, 2022  \n  \n### nginx-example-configuration\n\n|\n\n### nginx-example-configuration\n\n| use correct domain name; add django static dir redirect| Jul 24, 2022  \n  \n### scripts\n\n|\n\n### scripts\n\n| upgrading to latest node-red| Dec 21, 2021  \n  \n### utils\n\n|\n\n### utils\n\n| add utils| Nov 3, 2023  \n  \n### .gitignore\n\n|\n\n### .gitignore\n\n| update| Apr 22, 2024  \n  \n### .python-version\n\n|\n\n### .python-version\n\n| cleaned up code| Mar 27, 2023  \n  \n### LICENSE\n\n|\n\n### LICENSE\n\n| Update LICENSE to require attribution| Sep 27, 2023  \n  \n### README.md\n\n|\n\n### README.md\n\n| add more detail to install instructions| Apr 10, 2023  \n  \n### docker-compose.yaml\n\n|\n\n### docker-compose.yaml\n\n| remove empty directory| Feb 24, 2024  \n  \n### example.env\n\n|\n\n### example.env\n\n| update example| Aug 13, 2023  \n  \n### setup-requirements.txt\n\n|\n\n### setup-requirements.txt\n\n| use correct version of psycopg2| Jan 10, 2023  \n  \n### setup.py\n\n|\n\n### setup.py\n\n| add new variables to .env| Aug 13, 2023  \n  \n## Repository files navigation\n\n# Gregory AI\n\nGregory is an AI system that uses Machine Learning and Natural Language\nProcessing to track clinical research and identify papers which improves the\nwellbeing of patients.\n\nSources for research can be added by RSS feed or manually.\n\nThe output can be seen in a static site, using build.py or via the api\nprovided by the Django Rest Framework.\n\nThe docker compose file also includes a Metabase container which is used to\nbuild dashboards and manage notifications.\n\nSources can also be added to monitor Clinical Trials, in which case Gregory\ncan notify a list of email subscribers.\n\nFor other integrations, the Django app provides RSS feeds with a live update\nof relevant research and newly posted clinical trials.\n\n## Features\n\n  1. Machine Learning to identify relevant research\n  2. Configure RSS feeds to gather search results from PubMed and other websites\n  3. Configure searches on any public website\n  4. Integration with mailgun.com to send emails\n  5. Automatic emails to the admin team with results in the last 48hours\n  6. Subscriber management\n  7. Configure email lists for different stakeholders\n  8. Public and Private API to integrate with other software solutions and websites\n  9. Configure categories to organize search results based on keywords in title\n  10. Configure different \u201csubjects\u201d to have keep different research areas segmented\n  11. Identify authors and their ORCID\n  12. Generate different RSS feeds\n\n### Current Use case for Multiple Sclerosis\n\nhttps://gregory-ms.com\n\n#### Rest API: https://api.gregory-ms.com\n\n### Current sources for searches\n\n  1. APTA\n  2. BioMedCentral\n  3. FASEB\n  4. JNeuroSci\n  5. MS & Rel. Disorders\n  6. PEDro\n  7. pubmed\n  8. Sage Pub\n  9. Scielo\n  10. The Lancet\n\n## Running in Production\n\n### Server Requirements\n\n  * Docker and docker-compose with 2GB of swap memory to be able to build the MachineLearning Models. (Adding swap for Ubuntu)\n  * Mailgun (optional)\n\n### Installing Gregory\n\n  1. Install python dependencies locally\n  2. Edit the .env file to reflect your settings and credentials.\n\n    \n    \n    DOMAIN_NAME=DOMAIN.COM # Set this to the subdomain you configured with Mailgun. Example: mg.domain.com EMAIL_DOMAIN= # The SMTP server and credentials you are using. For example: smtp.eu.mailgun.org # These variables are only needed if you plan to send notification emails EMAIL_HOST= EMAIL_HOST_PASSWORD= EMAIL_HOST_PASSWORD= EMAIL_HOST_USER= # We use Mailgun by default on the newsletters, input your API key here EMAIL_MAILGUN_API_URL= EMAIL_PORT=587 EMAIL_USE_TLS='True' # Where you cloned the repository GREGORY_DIR= # Leave this blank and come back to them when you're finished installing Metabase. METABASE_SECRET_KEY= # Where do you want to host Metabase? METABASE_SITE_URL='https://metabase.DOMAIN.COM/' # Set your postgres DB and credentials POSTGRES_DB= POSTGRES_PASSWORD= POSTGRES_USER= SECRET_KEY='Yeah well, you know, that is just, like, your DJANGO SECRET_KEY, man' # you should set this manually https://docs.djangoproject.com/en/4.0/ref/settings/#secret-key\n\n  3. Execute python3 setup.py.\n\nThe script checks if you have all the requirements and run to help you setup\nthe containers.\n\nOnce finished, login at https://api.DOMAIN.TLD/admin or wherever your reverse\nproxy is listening on.\n\n  4. Go to the admin dashboard and change the example.com site to match your domain\n  5. Go to custom settings and set the Site and Title fields.\n  6. Configure your RSS Sources in the Django admin page.\n  7. Setup database maintenance tasks. Gregory needs to run a series of tasks to fetch missing information before applying the machine learning algorithm. For that, we are using Django-Con. Add the following to your crontab:\n\n    \n    \n    */3 * * * * /usr/bin/docker exec -t admin ./manage.py runcrons #*/10 * * * * /usr/bin/docker exec -t admin ./manage.py get_takeaways */5 * * * * /usr/bin/flock -n /tmp/get_takeaways /usr/bin/docker exec admin ./manage.py get_takeaways\n\n## How everything fits together\n\n### Django and Postgres\n\nMost of the logic is inside Django, the admin container provides the Django\nRest Framework, manages subscriptions, and sends emails.\n\nThe following subscriptions are available:\n\nAdmin digest\n\nThis is sent every 48 hours with the latest articles and their machine\nlearning prediction. Allows the admin access to an Edit link where the article\ncan be edited and tagged as relevant.\n\nWeekly digest\n\nThis is sent every Tuesday, it lists the relevant articles discovered in the\nlast week.\n\nClinical Trials\n\nThis is sent every 12 hours if a new clinical trial was posted.\n\nThe title of the email footer for these emails needs to be set in the Custom\nSettings section of the admin backoffice.\n\nDjango also allows you to add new sources from where to fetch articles. Take a\nlook at /admin/gregory/sources/\n\n### Node-RED\n\nWe use Node-RED to collect articles from sources without an RSS. These flows\nneed to be added manually and configured to write to the postres database. If\nyour node-red container does not show a series of flows, import the flows.json\nfile from this repository.\n\n### Metabase\n\nA database is only as good as it's ability to answer questions. We have a\nseparate metabase container in the docker-compose.yaml file that connects\ndirectly to Gregory's database.\n\nIt's available at http://localhost:3000/\n\nThe current website also uses some embeded dashboards whose keys are produced\neach time you run build.py. An example can be found in the MS Observatory Page\n\nIncluding dashboards in your content:\n\n  1. Add the dashboard ID to data/dashboards.json\n  2. In your content, use the shortcode {{ metabase-embed dashboard=\"10\" width=\"1300\" height=\"1250\" }}\n  3. Run build.py\n\n### Mailgun\n\nEmails are sent from the admin container using Mailgun.\n\nTo enable them, you will need a mailgun account, or you can replace them with\nanother way to send emails.\n\nYou need to configure the relevant variables for this to work:\n\n    \n    \n    EMAIL_USE_TLS=true EMAIL_MAILGUN_API='YOUR API KEY' EMAIL_DOMAIN='YOURDOMAIN' EMAIL_MAILGUN_API_URL=\"https://api.eu.mailgun.net/v3/YOURDOMAIN/messages\"\n\nAs an alternative, you can configure Django to use any other email server.\n\n### RSS feeds and API\n\nGregory has the concept of 'subject'. In this case, Multiple Sclerosis is the\nonly subject configured. A Subject is a group of Sources and their respective\narticles. There are also categories that can be created. A category is a group\nof articles whose title matches at least one keyword in list for that\ncategory. Categories can include articles across subjects.\n\nThere are options to filter lists of articles by their category or subject in\nthe format articles/category/<category> and articles/subject/<subject> where\nand is the lowercase name with spaces replaced by dashes.\n\n#### Available RSS feeds\n\n  1. Latest articles, /feed/latest/articles/\n  2. Latest articles by subject, /feed/articles/subject/<subject>/\n  3. Latest articles by category, /feed/articles/category/<category>/\n  4. Latest clinical trials, /feed/latest/trials/\n  5. Latest relevant articles by Machine Learning, /feed/machine-learning/\n  6. Twitter feed, /feed/twitter/. This includes all relevant articles by manual selection and machine learning prediction. It's read by Zapier so that we can post on twitter automatically.\n\n## How to update the Machine Learning Algorithms\n\nThis is not working right now and there is a pull request to setup an\nautomatic process to keep the machine learning models up to date.\n\nIt's useful to re-train the machine learning models once you have a good\nnumber of articles flagged as relevant.\n\n  1. cd docker-python; source .venv/bin/activate\n  2. python3 1_data_processor.py\n  3. python3 2_train_models.py\n\n## Running for local development\n\nEdit the env.example file to fit your configuration and rename to .env\n\n    \n    \n    sudo docker-compose up -d python3 -m venv env source env/bin/activate pip install -r requirements.txt\n\n## Thank you to\n\n  * @Antoniolopes for helping with the Machine Learning script.\n  * @Chbm for help in keeping the code secure.\n  * @Jneves for help with the build script\n  * @Malduarte for help with the migration from sqlite to postgres.\n  * @Melo for showing me Hugo\n  * @Nurv for the suggestion in using Spacy.io\n  * @Rcarmo for showing me Node-RED\n\nAnd the Lobsters at One Over Zero\n\n## About\n\nGregory uses Artificial Intelligence and Machine Learning to help find\nscientific research and filtering relevant content.\n\ngregory-ai.com/\n\n### Topics\n\npython machine-learning django node-red health research-tool multiple-\nsclerosis neurology\n\n### Resources\n\nReadme\n\n### License\n\nView license\n\nActivity\n\n### Stars\n\n41 stars\n\n### Watchers\n\n5 watching\n\n### Forks\n\n5 forks\n\nReport repository\n\n## Releases 30\n\nclean up release Latest\n\nMar 29, 2024\n\n\\+ 29 releases\n\n## Sponsor this project\n\n  * https://donate.stripe.com/6oEeVmf1tdHIdOw7ss\n\n## Contributors 4\n\n  * brunoamaral Bruno Amaral\n  * dippas Serpa\n  * antoniolopes Ant\u00f3nio Lopes\n  * anachaba Anach\n\n## Languages\n\n  * Python 89.0%\n  * HTML 10.6%\n  * Other 0.4%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
