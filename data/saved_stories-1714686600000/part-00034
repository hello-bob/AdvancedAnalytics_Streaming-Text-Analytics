{"aid": "40236776", "title": "Microsoft Preview: Zero Trust DNS (Ztdns)", "url": "https://techcommunity.microsoft.com/t5/networking-blog/announcing-zero-trust-dns-private-preview/ba-p/4110366", "domain": "microsoft.com", "votes": 11, "user": "sybercecurity", "posted_at": "2024-05-02 14:34:56", "comments": 3, "source_title": "Announcing Zero Trust DNS Private Preview", "source_text": "Announcing Zero Trust DNS Private Preview - Microsoft Community Hub\n\nTurn on suggestions\n\nShowing results for\n\nShow only | Search instead for\n\nDid you mean:\n\n  * Back to Blog\n  * Older Article\n\nAnnouncing Zero Trust DNS Private Preview\n\n  * Subscribe to RSS Feed\n  * Mark as New\n  * Mark as Read\n  * Bookmark\n  * Subscribe\n  * Printer Friendly Page\n  * Report Inappropriate Content\n\nBy\n\nTommy Jensen\n\nPublished May 02 2024 06:00 AM 4,188 Views\n\nListen to the article\n\n00:0000:00\n\n00:00\n\nPowered by\n\nundefined\n\nTommy Jensen (tojens)\n\nMicrosoft\n\nMay 02 2024 06:00 AM\n\n# Announcing Zero Trust DNS Private Preview\n\nMay 02 2024 06:00 AM\n\nIn the modern world, useful network destinations are far more likely to be\ndefined by long-lived domain names than long-lived IP addresses. However,\nenforcement of domain name boundaries (such as blocking traffic associated\nwith a forbidden domain name) has always been problematic since it requires\nbreaking encryption or relying on unreliable plain-text signals such as DNS\nover port 53 inspection or SNI inspection.\n\nTo support Zero Trust deployments trying to lock down devices to only access\napproved network destinations, we are announcing the development of Zero Trust\nDNS (ZTDNS) in a future version of Windows. ZTDNS was designed to be\ninteroperable by using network protocols from open standards to satisfy Zero\nTrust requirements such as those found in OMB M-22-09 and NIST SP 800-207.\nZTDNS will be helpful to any administrator trying to use domain names as a\nstrong identifier of network traffic.\n\nZTDNS integrates the Windows DNS client and the Windows Filtering Platform\n(WFP) to enable this domain-name-based lockdown. First, Windows is provisioned\nwith a set of DoH or DoT capable Protective DNS servers; these are expected to\nonly resolve allowed domain names. This provisioning may also contain a list\nof IP address subnets that should always be allowed (for endpoints without\ndomain names), expected Protective DNS server certificate identities to\nproperly validate the connection is to the expected server, or certificates to\nbe used for client authentication.\n\nNext, Windows will block all outbound IPv4 and IPv6 traffic except for the\nconnections to the Protective DNS servers as well as the DHCP, DHCPv6, and NDP\ntraffic needed to discover network connectivity information. Note that many\noptions from these protocols will be ignored, such as RDNSS, as only the\nconfigured Protective DNS servers will be used.\n\nGoing forward, DNS responses from one of the Protective DNS servers that\ncontain IP address resolutions will trigger outbound allow exceptions for\nthose IP addresses. This ensures that applications and services that use the\nsystem DNS configuration will be allowed to connect to the resolved IP\naddresses. This is because the destination IP address will be approved and\nunblocked before the domain name resolutions are returned to the caller.\n\nWhen applications and services try to send IPv4 or IPv6 traffic to an IP\naddress that was not learned through ZTDNS (and is not on the manual\nexceptions list), the traffic will be blocked. This is not because ZTDNS tried\nto identify malicious or forbidden traffic to block, but because the traffic\nwas not proven to be allowed. This makes ZTDNS a useful tool in the Zero Trust\ntoolbelt: it assumes traffic is forbidden by default. This will allow\nadministrators to define domain-name-based lockdown using policy-aware\nProtective DNS servers. Optionally, client certs can be used to provide\npolicy-affecting client identities to the server rather than relying on client\nIP addresses, which are both not secure signals and not reliably stable for\nwork-from-anywhere devices.\n\nBy using ZTDNS to augment their Zero Trust deployments, administrators can\nachieve name labeling of all outbound IPv4 and IPv6 traffic without relying on\nintercepting plain-text DNS traffic, engaging in an arms race to identify and\nblock encrypted DNS traffic from apps or malware, inspecting the soon-to-be\nencrypted SNI, or relying on vendor-specific networking protocols. Instead,\nadministrators can block all traffic whose associated domain name or named\nexception cannot be identified. This renders the use of hard-coded IP\naddresses or unapproved encrypted DNS servers irrelevant without having to\nintroduce TLS termination and miss out on the security benefits of end-to-end\nencryption.\n\nFor DNS servers to be used as Protective DNS servers for ZTDNS lockdown, the\nminimum requirement is to support either DNS over HTTPS (DoH) or DNS over TLS\n(DoT), as ZTDNS will prevent the use of plain-text DNS by Windows. Optionally,\nuse of mTLS on the encrypted DNS connections will allow Protective DNS to\napply per-client resolution policies. In all cases, ZTDNS does not introduce\nany novel network protocols, which makes it a promising interoperable approach\nto domain-name-based lockdown.\n\nZTDNS is entering private preview, meaning it is not yet publicly available\nfor testing. There will be another announcement once the ZTDNS client is\navailable to Insiders. For now, there is additional information about\nconsiderations for deploying ZTDNS in a real-world environment in this blog\npost.\n\nTommy Jensen\n\n2 Likes\n\nLike\n\nYou must be a registered user to add a comment. If you've already registered,\nsign in. Otherwise, register and sign in.\n\n  * Comment\n\nCo-Authors\n\nTommy Jensen (tojens)\n\n  * AditiPatange\n\nVersion history\n\nLast update:\n\nApr 30 2024 06:14 PM\n\nUpdated by:\n\nAditiPatange\n\n## Share\n\n  * Share to LinkedIn\n  * Share to Facebook\n  * Share to Twitter\n  * Share to Reddit\n  * Share to Email\n\nSkip to Primary Navigation\n\nYour Privacy Choices\n\nAuto-suggest helps you quickly narrow down your search results by suggesting\npossible matches as you type.\n\nAuto-suggest helps you quickly narrow down your search results by suggesting\npossible matches as you type.\n\n", "frontpage": true}
