{"aid": "40180203", "title": "The DIY Ups Project \u2013 Power Outages? Not a Problem", "url": "https://infrablog.lain.la/the-battery-project", "domain": "lain.la", "votes": 1, "user": "airhangerf15", "posted_at": "2024-04-27 14:24:37", "comments": 0, "source_title": "The DIY UPS Project - Power Outages? Not a problem! | Lain.La Infrablog", "source_text": "The DIY UPS Project - Power Outages? Not a problem! | Lain.La Infrablog\n\nSkip to main content\n\n# The DIY UPS Project - Power Outages? Not a problem!\n\nSubmitted by 7666 on Sat, 12/31/2022 - 18:33\n\nOh boy. Where do I begin with this article. Let's start with: Happy New Year!\n\nOkay, maybe a table of contents is a better start:\n\n  * Section A: The Problem\n  * Section B: The Plan\n  * Section C: The Build\n  * Section D: Final Results\n\nOne preface before we begin:\n\n##### PLEASE DO NOT TRY THIS AT HOME. ELECTRICAL HAZARD.\n\nI'm not saying I'm qualified. I'm not. But I have a decent idea of what I'm\ndoing and have lots of tools, paranoia, and people to consult to guide me\nthrough it. Also - since I'm posting this for internet scrutiny, you, dear\nreader, can email me if I have done something dumb (at 7666@lain.la)!\n\nOkay, without further ado:\n\n#### The Problem\n\nAs you may or may not recall, I had a generator project in the works over on\nthe begging donations page over here. This was designed to provide Lain.la's\nfull 1kW power requirement with the ability to tolerate an extended power\noutage, with the inclusion of a 15kW propane generator and automatic transfer\nswitch into my home's electrical system. This idea was great and all, but came\nat a price tag of nearly $16,000 for labor, parts, the generator itself,\npermits, gas lines, the ATS, etc etc. This was simply too costly to run and\nmaintain. I don't need my whole home powered, and I don't need a $16k hole in\nmy wallet. But - my current UPS systems can only run Lain.la for a maximum of\n15 minutes before they start failing.\n\nThis was the conundrum that I couldn't quite figure out. I had some options:\n\n  * Wait a year or two to work up the funds to buy the generator.\n  * Wait a couple years and put in a whole solar system with solar batteries at a cost roughly 3X the generator.\n  * Do nothing and if Lain.la fails, whatever. Not like I charge for these services.\n  * Find another way.\n\nIndeed - all the options sucked. Waiting didn't solve any problems, and\naccepting the risk of a power outage really weighed heavily on me. I had to\nfind a solution for option 4 that met the following basic goals:\n\n  * The idea can't be too expensive.\n  * It has to work seamlessly - no human intervention.\n  * Don't burn down the house.\n  * Provide power to run all systems for at least a few hours.\n\nAs far as I'm aware, there are no commerical UPS systems, outside of\nCyberpower's EBM compatible UPS systems, that can do all of this for cheap.\nYou could buy a PR1500RTXL2U with 3 BP48VP2U02 battery modules, but you're\nlooking at $3000 for less than 2 hours of runtime at 1kW. Not gonna cut it.\n\n#### The Plan\n\nAfter searching and striking out on off the shelf solutions, I had an idea.\nWhat if I bought most of the components of an off-grid solar installation, and\njust didn't buy the solar panels? What if I ran the batteries on AC, and had\nthe system prefer AC power? It turns out - This is kinda what people with RVs\ndo! The concept is simple: You have an inverter (device that turns DC power\nfrom batteries into usable AC power for regular power consuming appliances)\nthat prefers \"Shore Power\". Shore Power is a term used in the boating business\nto refer to power you get when docked at shore so you can turn your power\ngenerating engines off - but RV'ers sort of stole the term for when they're\nparked at a place that offers a power plug so they don't have to run their\nengine. I'm going to steal the term to just refer to an outlet in my own home.\nThen, if this perpetually connected shore power fails, it will switch to the\nDC batteries, just like a UPS.\n\nThe concept of a power system for an RV looks like this:\n\nWhere my design differs from this RV setup is simple:\n\n  * The entire Green side of this system is gone, minus the batteries.\n  * The entire Blue side of this system is gone.\n  * The Yellow side is just a wall socket in my house.\n  * The Red side is the Lain.la systems and servers.\n\n#### The Build\n\nSo, with this concept in mind, I came up with this:\n\nThis, ladies, gentlemen, and enbys, is the (new v1.1) diagram for the Lain.la\nDIY UPS system. It's a beauty, despite the abuses of electrical diagram\nsymbols. So, a quick breakdown:\n\n  * We're using 2 CHINS 12.8v 300Ah LiFePO4 batteries here for our battery power, in parallel. That's 7.68kWh of storage!\n  * I'm using a SunGoldPower 3000W Inverter/Charger/ATS combo box as the central unit in this system. It handles inverter, charger, and transfer switch duties, making this build very simple. It's basically all the brains of a traditional UPS, minus the batteries. The transfer switch delay is basically nonexistent too.\n  * The Bank A/B UPSes are my Cyberpower 1500VA PFC units. I'm re-using those in the system - that's what gave me battery power for quick power interruptions before.\n  * The Shunt and Inverter monitor provide a really nice graphical display of the system. Pic below!\n\nAnd for some FAQ stuff:\n\n  * 2/0 AWG wire is more than sufficient for what I expect to be, at worst, 100A of draw from the batteries. We're only powering Lain.la, and it pulls a very consistent 1kW. I'm assuming 200W for conversion losses from DC to AC. I did a test run of 1.4kW using a resistive load (a heater) and that pulled 125A from the batteries. The wiring got a little hot (80C at the fuse after 1 hour) but nothing outside of the spec sheet ratings.\n  * I have a camera, spare fire extinguisher, temperature/humidity sensor, and smoke detector for safety reasons.\n  * I'm using 3 12AWG extension cables for the AC input and AC output side. More than capable considering the loads. 12A of AC load (8A for Lain.la, 4A temporarily for battery charging) on the input, and 5A or less on each output.\n\nThis was not a cheap project, but considering the generator price, this was a\nperfectly acceptable alternative. Here's the cost breakdown:\n\n  * Ampper Battery Switch - $13.99\n  * 2/0 AWG EPDM Insulated 3ft Cables - $42.04\n  * 2/0 AWG EPDM Insulated 1ft Cables x4 - $91.44\n  * Plastic Drop Cloth - $6.79\n  * Smoke Detector - $18.95\n  * REOLINK 4K Security Camera - $101.99\n  * GoGreen Power 12AWG Extension Cord x3 - $66.00\n  * Genuine Joe Rubber Mat - $56.62\n  * CHINS LiFePO4 300Ah 12V Battery x2 - $1,939.98\n  * Sungoldpower 3000W DC 12V Inverter/Charger/ATS - $825.00\n  * TopstrongGear Brass 300Amp Fuse with Holder - $12.99\n  * Fastronix Terminal Covers x5 - $42.45\n  * GE 6 Outlet Surge Protector x2 - $29.98\n  * Renogy 500A Battery Monitor with Shunt - $61.99\n\nGrand Total: $3,310.21\n\nSounds like a lot, until you realize it's 1/5th the generator project.\n\n#### Final Results\n\nSo, the system is now fully completed. It took quite some time to build. I\nplaced it in my generously sized crawlspace, after putting down a big rubber\nwork mat and stapling some plastic to the ceiling (should the insulation ever\nfall down - don't want THAT on the batteries). I haven't transferred the\nservers to it yet, but I expect to within the next week after I test charging,\ndischarging, safety, heat, system behavior, break-in period, etc. It works as\nI expected it to so far, and I'm only minorly injured from a small drill\nincident.\n\nWith this system, Lain.la should be able to run for 7 hours+ on battery!\n\nOk, so it's picture time! Oh, and the security camera footage at the bottom\nmakes the whole thing look worse than it is. Blame the lighting.\n\nNEW: Improved output side with enclosed 20A breaker for safety:\n\nI hope you enjoyed this article. I'm going to chill out on changes and\nprojects in 2023 now that this is done. I've spent too much time and money as\nit is.\n\n-7666\n\n", "frontpage": false}
