{"aid": "40092741", "title": "TrueNAS Core versus TrueNAS Scale", "url": "https://vermaden.wordpress.com/2024/04/20/truenas-core-versus-truenas-scale/", "domain": "vermaden.wordpress.com", "votes": 2, "user": "vermaden", "posted_at": "2024-04-19 22:44:25", "comments": 0, "source_title": "TrueNAS CORE versus TrueNAS SCALE", "source_text": "TrueNAS CORE versus TrueNAS SCALE | vermaden\n\n# vermaden\n\n## Another ${RANDOM} sysadmin sharing his experiences of work at IT industry.\n\n# TrueNAS CORE versus TrueNAS SCALE\n\nLeave a reply\n\nI was really disappointed when I got to know that the FreeBSD based TrueNAS\nCORE storage appliance \u2013 owned and developed by iXsystems \u2013 will be moved into\nthe \u2018maintenance\u2019 mode and that (Debian) Linux base TrueNAS SCALE is the\nfuture of their offerings. Later iXsystems after all the backslash started to\n\u2018calm down\u2019 that situation stating that FreeBSD based TrueNAS CORE is feature\ncomplete and that they do not have plans to kill the FreeBSD based solution\n... but we all know that TrueNAS CORE uses \u2013 for example \u2013 abandoned by\ncreator and by the rest of the World \u2013 the iocage FreeBSD Jails management\nframework \u2013 its been 5 or more years since the iocage was last touched for any\nreason.\n\nOne could expect a \u2018move\u2019 into plain FreeBSD Jails or something that is alive\nand kicking such as BastilleBSD or something Pot/Nomad related as Klara posted\nhere \u2013 Cluster Provisioning on FreeBSD \u2013 not so long ago.\n\nI was the first one to encourage my family and friends to just just TrueNAS\nCORE for their data \u2013 because I knew that ZFS being 1st class citizen in the\nFreeBSD world \u2013 this is the perfect and stable combination. I can not say the\nsame about Linux ecosystem where CDDL license that ZFS uses is treated as a\ncurse to say the least and that even \u2018the\u2019 Linux gut such as Linus himself\ndoes not understand the difference between OpenZFS and Oracle ZFS \u2013 Do Not Use\nZFS on Linux: Linus Torvalds \u2013 which feels like some geriatric brain damage to\nsay the least \u2013 I do not want to offend anyone \u2013 but its really hard to\nexperience all of this bullshit.\n\nHaving these in mind \u2013 Linux (Debian or not) is not (and will never be) a real\nZFS \u2018home\u2019 with all the consequences. One of the reasons \u2013 I believe \u2013 the\niXsystems is betting on Linux instead of FreeBSD here is the container world.\nThe Docker and/or Podman solutions \u2013 the ones that are more then a decade late\nto the containers game as Docker is with us since 2014 \u2013 the FreeBSD Jails are\nwith is since year 2000. You do the math.\n\nThere are also other aspects as iXsystems advertises the TrueNAS SCALE as the\nsolution for \u2018scale-out\u2019 attitude while the FreeBSD version TrueNAS CORE only\nas \u2018scale-up\u2019 one. I also dig that topic \u2013 and to say the least \u2013 I was not\namused. Lets try to split all these parts into understandable puzzle.\n\n# Boot Process\n\nThe first image below is the AlmaLinux 9.x RHEL clone boot output \u2013 seems\npretty tidy and clean \u2013 assuming for systemd(1) based system.\n\nNow the TrueNAS SCALE boot output.\n\nI really like that iXsystems implemented netif FreeBSD concept on a Debian\nLinux system \u2013 named as ix-netif.service on the screen\n\nFinally after some period of time we are able to see the \u2018final\u2019 management\nmenu.\n\n... and it works as desired.\n\nMaybe I should not worry about it too much as long as the web/browser\nmanagement is finally available in the end ...\n\n# Security\n\nThere was time when I was part of the team that needed to decide if use the\nthen named FreeNAS or to use plain FreeBSD system instead for the data. That\ndecision was on of the core decision we made as a team for the <a\nhref=\u201dhttps://vermaden.wordpress.com/2019/06/19/FreeBSD-enterprise-1-pb-\nstorage/\u201d>FreeBSD Enterprise 1 PB Storage project.\n\nAfter I started to play with \u2013 then available FreeNAS 11.2-U3 version \u2013 I was\nfar from satisfied with its security \u2013 as described in the details \u2013 FreeNAS\n11.2-U3 Vulnerabilities \u2013 here.\n\nIn other words \u2013 I wanted to update the packages with pkg(8) command to newer\nversions \u2013 so that the security vulnerabilities would be fixed \u2013 but\napparently that broke entire middlewared(8) and all other stuff and renders a\nthen available FreeNAS appliance unusable.\n\nIn the end me and my team went with plain FreeBSD system and we do not regret\nour decision to this day.\n\n# Difference\n\nNow \u2013 for the real question \u2013 is there a real difference between FreeBSD based\nTrueNAS CORE and Linux based TrueNAS SCALE systems?\n\nThe one that I found out were these:\n\n  * The FreeBSD version uses Bhyve for virtualization while Linux uses KVM subsystem.\n  * The FreeBSD version uses Jails for containers while Linux uses Docker subsystem.\n\nThats it. Nothing more and nothing else ... besides that the \u2018base\u2019 for\nTrueNAS CORE is FreeBSD and the \u2018base\u2019 for TrueNAS SCALE is Debian Linux with\nsystemd(1) daemon.\n\n# Features\n\nI really liked the concept of \u2018scale-out\u2019 for the TrueNAS SCALE systems \u2013\nTrueNAS SCALE Clustering Overview \u2013 that with more systems You have \u2013 You can\nspread both the data and load across multiple machines ... but after I started\ndigging in this topic \u2013 it was just that TrueNAS SCALE allowed to have a\ndistributed GlusterFS filesystem spread across TrueNAS SCALE boxes.\n\nMy disappointment would probably not be that big if I would earlier not tried\nthe same GlusterFS distributed filesystem successfully on FreeBSD.\n\nMy guides of GlusterFS on FreeBSD are listed below.\n\n  * GlusterFS Cluster on FreeBSD with Ansible and GNU Parallel [2019]\n  * GlusterFS 8 on FreeBSD 13 [2021]\n\n... and the best yet to come is next\n\nBefore I used TrueNAS SCALE I believed that there is some kinda graphical or\nGUI way to configure/extend that local storage into distributed state with\nGlusterFS filesystem ... I was so wrong\n\nThere is zero GUI options to configure GlusterFS filesystem over multiple\nTrueNAS SCALE boxes.\n\nThe only possible guide on how to spread that GlusterFS filesystem across\nTrueNAS SCALE system were ... command line based \u2013 Six Node Gluster Cluster\nwith TrueNAS SCALE \u2013 exactly the same as mine guides.\n\nI was thinking \u2013 its definitely the truth \u2013 there has to be a GUI options for\nsuch an advertised option as \u2018scale-out\u2019 distributed GlusterFS filesystem\nacross TrueNAS SCALE systems ... but the answer I found was even more\ndisappointing \u2013 You just need to use the PAID manager called TrueCommand \u2013\nthere You have all the needed options \u2013 as simple as that.\n\n# Community Forums\n\nWhile I rarely used them \u2013 the TrueNAS Community forums were full features and\nprofessional.\n\nThis is how they looked alike.\n\nNow ... recently iXsystems announced new forums to take place \u2013 a simplified\nto minimum ones which look like this.\n\nMaybe I am oldschool (of course I am) but it just feels like a downgrade.\n\n# Summary\n\nThe iXsystems had a bumpy road in the FreeBSD land. Besides the BSDi lawsuit\nthere were other attempts on making FreeBSD their \u2018base\u2019 for many things. Lets\nstart with PC-BSD for example \u2013 the FreeBSD desktop distribution that had some\nof the very future acknowledged features \u2013 such as PBI packages. Today the\nsame functionality is provided as Flatpack or Snap packages ... yes PC-BSD\nprovided the same a decade earlier ... and it was not that fancy then. Now as\nLinux started doing that \u2013 it feel like another god of computing that we can\nnot live without ... exactly like Docker/Podman being \u2018late\u2019 to the containers\nparty when FreeBSD Jails delivered since 2000 \u2013 yet now Linux is \u2018the\u2019\ncontainer technology that whole World jerks off too \u2013 while FreeBSD Jails is\nremembered as some kind of museum of history.\n\nI even started in the PC-BSD new logo contest if I recall correctly \u2013 but it\nwas way too long ago to remember all the details ... or was it just another\nwallpaper ...\n\nLater iXsystems tried to \u2013 I believe \u2013 move forward with PC-BSD as TrueOS \u2013\nbut that also did not played that well. They later moved to Project Trident \u2013\nstill FreeBSD based \u2013 and then moved to Void Linux for the base of Project\nTrident system ... and some time later iXsystems abandoned altogether killing\nthe project.\n\nThis while post seems like a direct attack on the iXsystems company \u2013 it is\nnot. Its just I got used to some world view that iXsystems would always be\nthere and that they would support FreeBSD system no matter what ... I was\nwrong. Business is business and iXsystems company needs to make money (that is\nwhat companies are for anyway) and they need to pick what is the best for\nthem. I wish them all the best as they brought a lot of attention and interest\ninto the FreeBSD world \u2013 but if Linux is their current focus \u2013 then its OK\nwith me \u2013 the iXsystems are very clear about it \u2013 no need to make their new\nread more bumpy then its already is.\n\nI just hope that the current iXsystems bet on Linux systems on FreeBSD will\nend the same as it ended with PC-BSD or TrueOS or Project Trident in the past\n... in forgotten and painful death.\n\nHope that helps.\n\nEOF\n\n### Share this:\n\n  * Twitter\n  * Facebook\n\nLike Loading...\n\n### Related\n\nValuable News \u2013 2024/03/25March 25, 2024In \"news\"\n\nValuable News \u2013 2020/07/06July 6, 2020In \"news\"\n\nValuable News \u2013 2020/06/08June 8, 2020In \"news\"\n\nThis entry was posted in Uncategorized and tagged desktop, freebsd, freenas,\nlinus, linux, openzfs, pc-bsd, project trident, rhel, server, truenas, trueos,\nvoid, zfs on April 20, 2024 by vermaden.\n\n### Leave a comment Cancel reply\n\n  * Comment\n  * Reblog\n  * Subscribe Subscribed\n\n    * vermaden\n    * Already have a WordPress.com account? Log in now.\n\n  * Privacy\n  *     * vermaden\n    * Customize\n    * Subscribe Subscribed\n    * Sign up\n    * Log in\n    * Copy shortlink\n    * Report this content\n    * View post in Reader\n    * Manage subscriptions\n    * Collapse this bar\n\nLoading Comments...\n\n%d\n\n", "frontpage": false}
