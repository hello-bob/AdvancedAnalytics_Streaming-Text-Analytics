{"aid": "40236142", "title": "RPKI ROV Deployment Reaches Major Milestone", "url": "https://www.kentik.com/blog/rpki-rov-deployment-reaches-major-milestone/", "domain": "kentik.com", "votes": 1, "user": "job", "posted_at": "2024-05-02 13:39:47", "comments": 0, "source_title": "RPKI ROV Deployment Reaches Major Milestone", "source_text": "RPKI ROV Deployment Reaches Major Milestone | Kentik Blog\n\nBack to Blog\n\n# RPKI ROV Deployment Reaches Major Milestone\n\nDoug Madory & Job Snijders\n\nMay 1, 2024\n\nInternet AnalysisNetwork SecurityBGP Monitoring\n\nTable of Contents\n\nROA (Route Origin Authorization) creation updateInvalid route propagation\nupdateConclusion: Benefits of deploying RPKI\n\n### Join our network\n\n#### Sign up for the best of Kentik, from articles to analysis and more.\n\nTable of Contents\n\nROA (Route Origin Authorization) creation updateInvalid route propagation\nupdateConclusion: Benefits of deploying RPKI\n\n### Summary\n\nIn this blog post, BGP experts Doug Madory of Kentik and Job Snijders of\nFastly review the latest RPKI ROV deployment metrics in light of a major\nmilestone.\n\nAs of today, May 1, 2024, internet routing security passed an important\nmilestone. For the first time in the history of RPKI (Resource Public Key\nInfrastructure), the majority of IPv4 routes in the global routing table are\ncovered by Route Origin Authorizations (ROAs), according to the NIST RPKI\nMonitor. IPv6 crossed this milestone late last year.\n\nIn light of this milestone, let\u2019s take the opportunity to update the figures\nfor RPKI ROV (Route Origin Validation) adoption we\u2019ve been publishing in\nrecent years.\n\nAs you may already know, RPKI ROV continues to be the best defense against\naccidental BGP hijacks and origination leaks. For ROV to do its job (rejecting\nRPKI-invalid routes), two steps must be taken:\n\n  1. ROAs must be created\n  2. ASes must reject routes that aren\u2019t consistent with the ROAs.\n\nThe first part of this analysis began when we explored the first step of ROV:\nROA creation. Two years ago at NANOG 84, Doug presented his analysis which\nshowed that we were, in fact, farther along in ROA creation than could be\nascertained by analyzing BGP alone. Utilizing Kentik\u2019s aggregate NetFlow, he\nshowed that the majority of traffic (measured in bits/sec) was heading to\nroutes with ROAs, despite only one third of BGP routes having ROAs.\n\nUltimate Guide to BGP Routing\n\nAn effective BGP configuration is pivotal to controlling your organization\u2019s\ndestiny on the internet. Learn the basics and evolution of BGP.\n\nThis discrepancy was due to the fact that major content providers and eyeball\nnetworks had completed RPKI deployments in recent years and account for a\ndisproportionate share of internet traffic volume. Of course, traffic volume\nisn\u2019t the only criteria for achievement \u2014 there is plenty of traffic that is\ncritical, but not voluminous (e.g., DNS). The idea was to simply provide\nanother dimension to consider our progress in deploying RPKI ROV.\n\nTo measure the second step of ROV (rejection of invalids), we looked at the\ndifferences in propagation based on a route\u2019s RPKI evaluation. The conclusion\nat the time was that invalid routes could achieve a propagation no greater\nthan 50% of the BGP sources in Routeviews, the public BGP repository from\nUniversity of Oregon. Oftentimes invalids are propagated far less than 50% \u2014\nit all depends on the upstreams involved.\n\nThe dramatic reduction in propagation of RPKI-invalid routes can be primarily\nattributed to the tier-1 backbone providers that reject invalids. These\nproviders cast a long shadow with their outsized influence on internet\nrouting. Regardless, the reduction in propagation is RPKI ROV doing its thing:\nsuppressing problematic routes so they don\u2019t cause disruption.\n\n## ROA (Route Origin Authorization) creation update\n\nAs mentioned above, over 50% of IPv4 routes in the global routing table now\nhave ROAs and are evaluated as valid (with IPv6 at 52%). Let\u2019s check what that\nmeans for Kentik\u2019s aggregate NetFlow.\n\nAccording to our analysis two years ago, we had roughly one third of routes\nwith ROAs and just over 50% of internet traffic as \u201cvalid\u201d (traffic to routes\nevaluated as valid in bits/sec). Now with over half of IPv4 routes with ROAs,\nour current aggregate NetFlow reveals a whopping 70.3% of internet traffic\nbeing valid!\n\nHow much higher can this metric go? It remains to be seen. As depicted below\nin another NIST diagram, the upward slope of the percentage of routes with\nROAs has held remarkably steady for the past four years. It stands to reason\nwe will eventually see the slope flatten out as the number of easy wins begins\nto dwindle. However, it is important to recognize the progress made to date.\n\n## Invalid route propagation update\n\nThe aforementioned progress in the creation of ROAs is useless if networks are\nnot rejecting RPKI-invalid BGP routes. So, the next step in understanding\nwhere we are at with RPKI ROV adoption is to better understand the degree to\nwhich the internet rejects RPKI-invalid routes.\n\nAmong the internet\u2019s largest transit providers (i.e., transit-free) providers,\nall but a couple were rejecting RPKI-invalid routes when we published our\npost, How much does RPKI ROV reduce the propagation of invalid routes? As a\nresult, we concluded that \u201cthe evaluation of a route as invalid reduces its\npropagation by anywhere between one half to two thirds.\u201d\n\nNow, two years later, we can explore how this metric has evolved over this\nperiod of time. Using historical RPKI data made available via Job\u2019s RPKIviews\nsite and BGP routing data from Routeviews, we evaluated the IPv4 global\nrouting table every month going back to the beginning of 2022 to determine how\nthe propagation of RPKI-invalid routes has changed over time.\n\nRecall that in this methodology, we measure the propagation of a route by\ncounting how many Routeviews vantage points have the route in their tables.\nMore vantage points means greater propagation. For more explanation on this\napproach, see our invalid route propagation analysis.\n\nThe graphic below shows the average number of Routeviews vantage points for\neach RPKI-invalid route over time. We only include routes seen by at least 10\nvantage points to avoid internal routes shared with Routeviews vantage points.\nAt the beginning of the plot, we identify 4,978 RPKI-invalid routes that were\nseen, on average, by 82.5 vantage points. In the last data point from April 1,\n2024, we observe 4,211 RPKI-invalid routes seen by 62.5 vantage points. Note,\nwe used a well-known globally routed prefix (Google\u2019s 8.8.8.0/24) as control\nprefix for the effects of temporary changes in the count of Routeviews vantage\npoints.\n\nThe main challenge to this type of analysis is that it is quite noisy. The set\nof persistently RPKI-invalid routes does not stay constant and propagation is\nheavily influenced by which providers are transiting a route. Those challenges\naside, the analysis above shows a 24% decline in the propagation of RPKI-\ninvalid routes since the beginning of 2022.\n\nTo explore this phenomenon further, we can take a look at the routing of\nintentionally RPKI-invalid routes over time and see that they also experience\na similar decline in propagation.\n\nRIPE NCC announces numerous \u201cRouting Beacons\u201d for measurement purposes. Among\nthese are routes which are intentionally RPKI-invalid (and RPKI-valid for a\ncontrol). Not to be outdone, Job also announces RPKI-invalid routes along with\na control route from his network, AS15562.\n\nBelow is a graphic displaying the Routeviews vantage point count for each of\nthese measurement routes over time. The plots corresponding to the RPKI-\ninvalid routes appear in the lower portion of the graphs, in keeping with our\nobservation that RPKI-invalid routes propagate significantly less.\n\nThe three plots in this graphic all show a noticeable decline in the number of\nvantage points observing the various RPKI-invalid routes. This decline matches\nthe drop in the average number of vantage points observing any given RPKI-\nroute from earlier.\n\nThere is one final observation to make based on this analysis. In the panel on\nthe right (\u201cJob\u2019s Beacons\u201d), there are two RPKI-invalid routes with slightly\ndiffering degrees of propagation.\n\n209.24.0.0/24 (green) has its ROA published via the ARIN Trust Anchor Locator\n(TAL), while 194.32.71.0/24\u2019s (orange) is reachable via the RIPE TAL. A TAL is\na file with a public key used by Relying Parties to retrieve RPKI data from a\nrepository.\n\nThe likely issue is that using the ARIN TAL requires agreeing to a lengthy\nRelying Party Agreement, which some providers refuse to do. As a result, ROAs\npublished by ARIN are seen by slightly fewer networks that reject RPKI-invalid\nroutes, decreasing the efficacy of RPKI for ARIN managed IP space.\n\nARIN\u2019s strong indemnification clause comes from their worry about being sued\ndue to something that happens as a result of the data they publish in the\nRPKI. This obstacle to RPKI ROV adoption was covered in a 2019 academic\narticle, Lowering Legal Barriers to RPKI Adoption by professors Christopher S.\nYoo and David A. Wishnick of the University of Pennsylvania.\n\nBut alas, let\u2019s get back to the progress we\u2019re seeing in the rejection of\nRPKI-invalids.\n\nAt the beginning of this section, we mentioned how all but two transit-free\nproviders were rejecting RPKI-invalid routes. Well, the other milestone that\noccurred this past month is that that number dropped to just one as US telecom\noperator Zayo (AS6461) began rejecting RPKI-invalid routes from its customers.\n\nIn 2022, Zayo announced that it had begun rejecting RPKI-invalids from its\nsettlement-free peers. However, since nearly all of its big peers were already\nrejecting those routes, the impact was relatively minor.\n\nBut on April 1, we began seeing AS6461 begin rejecting RPKI-invalids from\ncustomers for the first time. In the Kentik visualization below, RPKI-invalid\nroute 103.36.106.0/24 stopped being transited by AS6461 at 16:24 UTC.\n\nThe rollout of Zayo\u2019s rejection of RPKI-invalids was done in phases and a\ncouple of weeks later we started seeing other parts of their global network\nrejecting RPKI-invalids. At 18:54 UTC on April 12, we observed AS6461 begin\nrejecting RIPE\u2019s RPKI-invalid beacons, 93.175.147.0/24 and 2001:7fb:fd03::/48,\nfor the first time.\n\nOnce completed, we expect Zayo\u2019s rejection of RPKI-invalid routes from its\ncustomer base to continue to lower the propagation of these problematic routes\nreducing the risk of traffic disruption or misdirection due to many types of\nrouting mishaps.\n\nAnd finally, for anyone still skeptical about the degree to which invalid\nroutes are being rejected, may we direct your attention to the Orange Espa\u00f1a\noutage in January. I summarized the incident in a blog post published the day\nafter the hack.\n\n> Using a password found in a public leak of stolen credentials, a hacker was\n> able to log into Orange Espa\u00f1a\u2019s RIPE NCC portal using the password\n> \u201cripeadmin.\u201d Oops! Once in, this individual began altering Orange Espa\u00f1a\u2019s\n> RPKI configuration, rendering many of its BGP routes RPKI-invalid\n\nThe wielding of RPKI as a tool for denial of service was only possible due to\nthe pervasive extent to which ASNs reject RPKI-invalid routes.\n\nPropagation for an Orange Espa\u00f1a route dropped to less than 20% during the\nattack.\n\n## Conclusion: Benefits of deploying RPKI\n\nIn our blog post from one year ago, we made the following bold prediction:\n\n> If we are to assume steady growth of the share of BGP routes with ROAs, it\n> should become the majority case in about a year from now (May 2024). Mark\n> your calendars!\n\nIn December, we polled fellow BGP nerds on Twitter/X and LinkedIn when they\nbelieved we would hit this mark and they were decidedly more pessimistic than\nthe prediction above:\n\nThe progress detailed in this blog post was years in the making and involved\nthe dedicated efforts of hundreds of engineers at dozens of companies.\nImproving the security of the global internet routing system is not a small\ntask and will continue to be a years long effort.\n\nEach of the two lines of analysis from this post should serve as motivation\nfor additional networks to deploy RPKI ROV.\n\n  1. Reject RPKI-invalid BGP routes on EBGP sessions. Given that the majority of internet routes are covered by ROAs (including a super majority of traffic), network operators should reject RPKI-invalid routes to avoid mistakenly egressing customer traffic towards mis-originated routes.\n  2. Create ROAs. And given the scale to which RPKI-invalid routes are suppressed, it would benefit resource holders to create ROAs for their address ranges to enable networks around the world to automatically reject mis-originated routes.\n\nNetworks who do so enjoy immediate benefits!\n\nBut RPKI ROV doesn\u2019t solve all of the issues surrounding internet routing\nsecurity. In fact, this is only an opening salvo towards addressing the\nvarious \u201cdetermined adversary\u201d scenarios best characterized by the recent\nattacks against cryptocurrency services. These attacks take advantage of\nexisting weaknesses in internet security that we will need to work to limit by\nbuilding off the progress made by routing security mechanisms like RPKI ROV.\n\n## Explore more from Kentik\n\nExploring the Latest RPKI ROV Adoption Numbers\n\nBlog Post\n\nThe Ultimate Guide to BGP Routing\n\nGuide\n\nWhat can be learned from recent BGP hijacks targeting cryptocurrency services?\n\nBlog Post\n\nKentik is the network observability company.\n\nGet a Demo\n\n844-356-3278\n\n### Platform\n\n  * Multi-Cloud Observability\n  * Network Monitoring System (NMS)\n  * SD-WAN Monitoring\n  * Network Security and Compliance\n  * Synthetic Monitoring\n  * Peering and Interconnection\n  * Subscriber Intelligence\n  * Kentik AI\n  * Network Telemetry\n  * Universal Data Explorer\n  * Observability Data Pipeline\n  * Integrations\n  * Kentik Data Engine\n\n### Solutions\n\n  * Reduce Cloud Spend\n  * Migrate To and From Any Cloud\n  * Improve Cloud Performance\n  * Optimize Enterprise WAN\n  * Network Performance Monitoring\n  * Deliver Exceptional Digital Experiences\n  * Detect and Mitigate DDoS\n  * Harden Zero-Trust Cloud Network Policy\n  * Investigate Security Incidents\n  * Visualize All Cloud and Network Traffic\n  * Troubleshoot Any Network\n  * Understand Internet Performance\n  * Consolidate Legacy Tools\n  * Optimize Peering and Transit\n  * Plan Network Capacity\n\n### Technology\n\n  * AWS\n  * Azure\n  * BGP\n  * Google Cloud\n  * Kubernetes\n  * OCI\n\n### New and Notable\n\n  * NMS Migration Guide\n  * Answer Any Question About Your Network\n  * Box Achieves Google Cloud Migration Success with Kentik\n\n### Learn\n\n  * Case Studies\n  * Blog\n  * Resource Library\n  * Telemetry Now Podcast\n  * Kentik Network Analysis Center\n  * Kentipedia\n  * Product Updates\n  * Documentation\n\n### Company\n\n  * Why Kentik\n  * Who We Are\n  * Plans and Pricing\n  * Customers\n  * Contact Us\n  * Careers\n  * Partners\n  * Kentik Slack Community\n\n  * Privacy Policy\n  * Terms of Use\n  * Legal\n  * Site Map\n\nCopyright \u00a9 2024 Kentik. All rights reserved.\n\nWe use cookies to deliver our services.\n\nBy using our website, you agree to the use of cookies as described in our\nPrivacy Policy.\n\n", "frontpage": false}
