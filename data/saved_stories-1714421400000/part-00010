{"aid": "40197467", "title": "Installing Older Ruby Versions on Ubuntu 24.04 and 22.04", "url": "https://deanpcmad.com/2024/installing-older-ruby-versions-on-ubuntu-24-04-and-22-04/", "domain": "deanpcmad.com", "votes": 1, "user": "thunderbong", "posted_at": "2024-04-29 12:34:41", "comments": 0, "source_title": "Installing Older Ruby Versions on Ubuntu 24.04 and 22.04", "source_text": "Installing Older Ruby Versions on Ubuntu 24.04 and 22.04 | deanpcmad\n\nDean\n\n# Installing Older Ruby Versions on Ubuntu 24.04 and 22.04\n\n28 April 2024\n\nThis post was originally written in 2022 for Ubuntu 22.04 but has been updated\nfor 24.04 too\n\nI\u2019ve recently upgraded to Ubuntu 24.04 on my main machine and laptop. As I use\na mixture of Rails versions for different apps I maintain, I needed to install\nRuby 3.0, 2.7 & 2.6 alongside 3.1.\n\nBecause Ubuntu 24.04 & 22.04 come with OpenSSL 3.0, Ruby 3.0 and below don\u2019t\nsupport this so an older version is required for these versions to be\ninstalled.\n\n## Compiling OpenSSL\n\nThis guide assumes you\u2019ve already got build-essential installed.\n\nFirstly download OpenSSL 1.1.1w and extract it:\n\n    \n    \n    wget https://www.openssl.org/source/openssl-1.1.1w.tar.gz tar zxvf openssl-1.1.1w.tar.gz\n\nOnce extracted, we need to configure where this version will be installed. In\nmy case, I want it in a hidden folder in my home directory ~/.openssl/version\n\n    \n    \n    export OPENSSL=$HOME/.openssl/openssl-1.1.1w cd openssl-1.1.1w ./config --prefix=$OPENSSL --openssldir=$OPENSSL make make test make install\n\nAs this doesn\u2019t include any certificates, I just symlink the main OpenSSL\ncerts folder into this version like so:\n\n    \n    \n    rm -rf $OPENSSL/certs ln -s /etc/ssl/certs $OPENSSL/certs\n\n## Install Ruby\n\nOnce OpenSSL 1.1.1g is installed, we can now install Ruby 3.0 and below but\ntelling ruby-build to use this version of OpenSSL. In this example, I\u2019m using\nrbenv but it should work the same way with asdf.\n\n    \n    \n    # Ruby 3.0 RUBY_CONFIGURE_OPTS=--with-openssl-dir=$OPENSSL rbenv install 3.0.7 # Ruby 2.7 RUBY_CONFIGURE_OPTS=--with-openssl-dir=$OPENSSL rbenv install 2.7.8 # Ruby 2.6 RUBY_CONFIGURE_OPTS=--with-openssl-dir=$OPENSSL rbenv install 2.6.10 # Ruby 2.5 RUBY_CONFIGURE_OPTS=--with-openssl-dir=$OPENSSL rbenv install 2.5.9\n\nAnd that\u2019s it! You should now have older Ruby versions installed on Ubuntu\n24.04 & 22.04.\n\n\u00a9 Copyright 2011-2024 Dean Perry\n\nBuy me a Coffee?\n\n", "frontpage": false}
