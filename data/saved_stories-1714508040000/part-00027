{"aid": "40210304", "title": "Orca: A Distributed Serving System for Transformer-Based Generative Models", "url": "https://www.usenix.org/conference/osdi22/presentation/yu", "domain": "usenix.org", "votes": 2, "user": "veryluckyxyz", "posted_at": "2024-04-30 12:29:10", "comments": 0, "source_title": "Orca: A Distributed Serving System for Transformer-Based Generative Models | USENIX", "source_text": "Orca: A Distributed Serving System for Transformer-Based Generative Models | USENIX\n\n  * Consent\n  * Details\n  * [#IABV2SETTINGS#]\n  * About\n\n## This website uses cookies\n\nWe use cookies to personalise content and ads, to provide social media\nfeatures and to analyse our traffic. We also share information about your use\nof our site with our social media, advertising and analytics partners who may\ncombine it with other information that you\u2019ve provided to them or that they\u2019ve\ncollected from your use of their services.\n\nShow details\n\n  * Necessary cookies help make a website usable by enabling basic functions like page navigation and access to secure areas of the website. The website cannot function properly without these cookies.\n\n    * Cookiebot\n\n1\n\nLearn more about this provider\n\nCookieConsentStores the user's cookie consent state for the current domain\n\nExpiry: 1 yearType: HTTP\n\n    * Google\n\n3\n\nLearn more about this provider\n\nCOMPASSPending\n\nExpiry: 1 dayType: HTTP\n\nrc::aThis cookie is used to distinguish between humans and bots. This is\nbeneficial for the website, in order to make valid reports on the use of their\nwebsite.\n\nExpiry: PersistentType: HTML\n\nrc::cThis cookie is used to distinguish between humans and bots.\n\nExpiry: SessionType: HTML\n\n    * MapDynamics\n\n3\n\nLearn more about this provider\n\nPHPSESSIDPreserves user session state across page requests.\n\nExpiry: SessionType: HTTP\n\nX-Mapping-# [x2]Saves the address and port number of the web server that is\nmanaging the session. Used to improve the website's performance security.\n\nExpiry: SessionType: HTTP\n\n    * Monotype\n\n1\n\nLearn more about this provider\n\n__cf_bmThis cookie is used to distinguish between humans and bots. This is\nbeneficial for the website, in order to make valid reports on the use of their\nwebsite.\n\nExpiry: 1 dayType: HTTP\n\n    * Stripe\n\n7\n\nLearn more about this provider\n\n__cflbRegisters which server-cluster is serving the visitor. This is used in\ncontext with load balancing, in order to optimize user experience.\n\nExpiry: 1 dayType: HTTP\n\nmDetermines the device used to access the website. This allows the website to\nbe formatted accordingly.\n\nExpiry: 400 daysType: HTTP\n\n_abThis cookie is necessary for making credit card transactions on the\nwebsite. The service is provided by Stripe.com which allows online\ntransactions without storing any credit card information.\n\nExpiry: SessionType: HTML\n\n_mfThis cookie is necessary for making credit card transactions on the\nwebsite. The service is provided by Stripe.com which allows online\ntransactions without storing any credit card information.\n\nExpiry: SessionType: HTML\n\nidPending\n\nExpiry: SessionType: HTML\n\n__stripe_midThis cookie is necessary for making credit card transactions on\nthe website. The service is provided by Stripe.com which allows online\ntransactions without storing any credit card information.\n\nExpiry: 1 yearType: HTTP\n\n__stripe_sidThis cookie is necessary for making credit card transactions on\nthe website. The service is provided by Stripe.com which allows online\ntransactions without storing any credit card information.\n\nExpiry: 1 dayType: HTTP\n\n    * YouTube\n\n6\n\nLearn more about this provider\n\nyt-remote-cast-availableStores the user's video player preferences using\nembedded YouTube video\n\nExpiry: SessionType: HTML\n\nyt-remote-cast-installedStores the user's video player preferences using\nembedded YouTube video\n\nExpiry: SessionType: HTML\n\nyt-remote-connected-devicesStores the user's video player preferences using\nembedded YouTube video\n\nExpiry: PersistentType: HTML\n\nyt-remote-fast-check-periodStores the user's video player preferences using\nembedded YouTube video\n\nExpiry: SessionType: HTML\n\nyt-remote-session-appStores the user's video player preferences using embedded\nYouTube video\n\nExpiry: SessionType: HTML\n\nyt-remote-session-nameStores the user's video player preferences using\nembedded YouTube video\n\nExpiry: SessionType: HTML\n\n    * api.hcaptcha.com\n\n1\n\nhmt_idThis cookie is used to distinguish between humans and bots.\n\nExpiry: 30 daysType: HTTP\n\n    * www.usenix.org\n\n5\n\ncookiebot-consent--marketingUsed to detect if the visitor has accepted the\nmarketing category in the cookie banner. This cookie is necessary for GDPR-\ncompliance of the website.\n\nExpiry: SessionType: HTTP\n\ncookiebot-consent--necessaryUsed to detect if the visitor has accepted the\nmarketing category in the cookie banner. This cookie is necessary for GDPR-\ncompliance of the website.\n\nExpiry: SessionType: HTTP\n\ncookiebot-consent--preferencesUsed to detect if the visitor has accepted the\nmarketing category in the cookie banner. This cookie is necessary for GDPR-\ncompliance of the website.\n\nExpiry: SessionType: HTTP\n\ncookiebot-consent--statisticsUsed to detect if the visitor has accepted the\nmarketing category in the cookie banner. This cookie is necessary for GDPR-\ncompliance of the website.\n\nExpiry: SessionType: HTTP\n\nSSESS#Pending\n\nExpiry: 23 daysType: HTTP\n\n  * Preference cookies enable a website to remember information that changes the way the website behaves or looks, like your preferred language or the region that you are in.\n\nWe do not use cookies of this type.\n\n  * Statistic cookies help website owners to understand how visitors interact with websites by collecting and reporting information anonymously.\n\n    * Google\n\n14\n\nLearn more about this provider\n\nSSets a unique ID for the session. This allows the website to obtain data on\nvisitor behaviour for statistical purposes.\n\nExpiry: 1 dayType: HTTP\n\n__utm.gifGoogle Analytics Tracking Code that logs details about the visitor's\nbrowser and computer.\n\nExpiry: SessionType: Pixel\n\ncollectUsed to send data to Google Analytics about the visitor's device and\nbehavior. Tracks the visitor across devices and marketing channels.\n\nExpiry: SessionType: Pixel\n\n__utmaCollects data on the number of times a user has visited the website as\nwell as dates for the first and most recent visit. Used by Google Analytics.\n\nExpiry: 2 yearsType: HTTP\n\n__utmbRegisters a timestamp with the exact time of when the user accessed the\nwebsite. Used by Google Analytics to calculate the duration of a website\nvisit.\n\nExpiry: 1 dayType: HTTP\n\n__utmcRegisters a timestamp with the exact time of when the user leaves the\nwebsite. Used by Google Analytics to calculate the duration of a website\nvisit.\n\nExpiry: SessionType: HTTP\n\n__utmtUsed to throttle the speed of requests to the server.\n\nExpiry: 1 dayType: HTTP\n\n__utmvSaves user-defined tracking parameters for use in Google Analytics.\n\nExpiry: SessionType: HTTP\n\n__utmzCollects data on where the user came from, what search engine was used,\nwhat link was clicked and what search term was used. Used by Google Analytics.\n\nExpiry: 6 monthsType: HTTP\n\n_gaRegisters a unique ID that is used to generate statistical data on how the\nvisitor uses the website.\n\nExpiry: 2 yearsType: HTTP\n\n_ga_#Used by Google Analytics to collect data on the number of times a user\nhas visited the website as well as dates for the first and most recent visit.\n\nExpiry: 2 yearsType: HTTP\n\n_gatUsed by Google Analytics to throttle request rate\n\nExpiry: 1 dayType: HTTP\n\n_gidRegisters a unique ID that is used to generate statistical data on how the\nvisitor uses the website.\n\nExpiry: 1 dayType: HTTP\n\ntdRegisters statistical data on users' behaviour on the website. Used for\ninternal analytics by the website operator.\n\nExpiry: SessionType: Pixel\n\n    * New Relic\n\n1\n\nLearn more about this provider\n\nNRBA_SESSIONCollects data on the user\u2019s navigation and behavior on the\nwebsite. This is used to compile statistical reports and heatmaps for the\nwebsite owner.\n\nExpiry: PersistentType: HTML\n\n    * Stripe\n\n1\n\nLearn more about this provider\n\n1Registers data on visitors' website-behaviour. This is used for internal\nanalysis and website optimization.\n\nExpiry: SessionType: HTML\n\n  * Marketing cookies are used to track visitors across websites. The intention is to display ads that are relevant and engaging for the individual user and thereby more valuable for publishers and third party advertisers.\n\n    * Meta Platforms, Inc.\n\n1\n\nLearn more about this provider\n\nfbssls_Collects data on the visitor\u2019s use of the comment system on the\nwebsite, and what blogs/articles the visitor has read. This can be used for\nmarketing purposes.\n\nExpiry: SessionType: HTML\n\n    * Google\n\n3\n\nLearn more about this provider\n\nGFE_RTTUsed to implement the content through Google Docs.\n\nExpiry: SessionType: HTTP\n\nNIDRegisters a unique ID that identifies a returning user's device. The ID is\nused for targeted ads.\n\nExpiry: 6 monthsType: HTTP\n\ncsiCollects data on visitors' preferences and behaviour on the website - This\ninformation is used make content and advertisement more relevant to the\nspecific visitor.\n\nExpiry: SessionType: Pixel\n\n    * Twitter Inc.\n\n3\n\nLearn more about this provider\n\nguest_idCollects data related to the user's visits to the website, such as the\nnumber of visits, average time spent on the website and which pages have been\nloaded, with the purpose of personalising and improving the Twitter service.\n\nExpiry: 13 monthsType: HTTP\n\ni/jotSets a unique ID for the visitor, that allows third party advertisers to\ntarget the visitor with relevant advertisement. This pairing service is\nprovided by third party advertisement hubs, which facilitates real-time\nbidding for advertisers.\n\nExpiry: SessionType: Pixel\n\ni/jot/embedsSets a unique ID for the visitor, that allows third party\nadvertisers to target the visitor with relevant advertisement. This pairing\nservice is provided by third party advertisement hubs, which facilitates real-\ntime bidding for advertisers.\n\nExpiry: SessionType: Pixel\n\n    * YouTube\n\n16\n\nLearn more about this provider\n\n#-#Pending\n\nExpiry: SessionType: HTML\n\niU5q-!O9@$Registers a unique ID to keep statistics of what videos from YouTube\nthe user has seen.\n\nExpiry: SessionType: HTML\n\nLAST_RESULT_ENTRY_KEYUsed to track user\u2019s interaction with embedded content.\n\nExpiry: SessionType: HTTP\n\nLogsDatabaseV2:V#||LogsRequestsStorePending\n\nExpiry: PersistentType: IDB\n\nnextIdUsed to track user\u2019s interaction with embedded content.\n\nExpiry: SessionType: HTTP\n\nremote_sidNecessary for the implementation and functionality of YouTube video-\ncontent on the website.\n\nExpiry: SessionType: HTTP\n\nrequestsUsed to track user\u2019s interaction with embedded content.\n\nExpiry: SessionType: HTTP\n\nServiceWorkerLogsDatabase#SWHealthLogNecessary for the implementation and\nfunctionality of YouTube video-content on the website.\n\nExpiry: PersistentType: IDB\n\nTESTCOOKIESENABLEDUsed to track user\u2019s interaction with embedded content.\n\nExpiry: 1 dayType: HTTP\n\nVISITOR_INFO1_LIVETries to estimate the users' bandwidth on pages with\nintegrated YouTube videos.\n\nExpiry: 180 daysType: HTTP\n\nVISITOR_PRIVACY_METADATAStores the user's cookie consent state for the current\ndomain\n\nExpiry: 180 daysType: HTTP\n\nYSCRegisters a unique ID to keep statistics of what videos from YouTube the\nuser has seen.\n\nExpiry: SessionType: HTTP\n\nyt.innertube::nextIdRegisters a unique ID to keep statistics of what videos\nfrom YouTube the user has seen.\n\nExpiry: PersistentType: HTML\n\nytidb::LAST_RESULT_ENTRY_KEYStores the user's video player preferences using\nembedded YouTube video\n\nExpiry: PersistentType: HTML\n\nYtIdbMeta#databasesUsed to track user\u2019s interaction with embedded content.\n\nExpiry: PersistentType: IDB\n\nyt-remote-device-idStores the user's video player preferences using embedded\nYouTube video\n\nExpiry: PersistentType: HTML\n\n  * Unclassified cookies are cookies that we are in the process of classifying, together with the providers of individual cookies.\n\n    * MapDynamics\n\n1\n\nLearn more about this provider\n\nnamePending\n\nExpiry: SessionType: HTTP\n\nCross-domain consent[#BULK_CONSENT_DOMAINS_COUNT#] [#BULK_CONSENT_TITLE#]\n\nList of domains your consent applies to: [#BULK_CONSENT_DOMAINS#]\n\nCookie declaration last updated on 4/28/24 by Cookiebot\n\n## [#IABV2_TITLE#]\n\n[#IABV2_BODY_INTRO#]\n\n[#IABV2_BODY_LEGITIMATE_INTEREST_INTRO#]\n\n[#IABV2_BODY_PREFERENCE_INTRO#]\n\n[#IABV2_BODY_PURPOSES_INTRO#]\n\n[#IABV2_BODY_PURPOSES#]\n\n[#IABV2_BODY_FEATURES_INTRO#]\n\n[#IABV2_BODY_FEATURES#]\n\n[#IABV2_BODY_PARTNERS_INTRO#]\n\n[#IABV2_BODY_PARTNERS#]\n\nCookies are small text files that can be used by websites to make a user's\nexperience more efficient.\n\nThe law states that we can store cookies on your device if they are strictly\nnecessary for the operation of this site. For all other types of cookies we\nneed your permission.\n\nThis site uses different types of cookies. Some cookies are placed by third\nparty services that appear on our pages.\n\nYou can at any time change or withdraw your consent from the Cookie\nDeclaration on our website.\n\nLearn more about who we are, how you can contact us and how we process\npersonal data in our Privacy Policy.\n\nPlease state your consent ID and date when you contact us regarding your\nconsent.\n\nPowered by Cookiebot by Usercentrics\n\n  * Attend\n\n    * Registration Information\n    * Registration Discounts\n    * Terms and Conditions\n\n    * Grant Opportunities\n\n    * Venue, Hotel, and Travel\n\n  * Program\n\n    * Technical Sessions\n\n    * Activities and Evening Events\n    * Poster Session\n\n  * Participate\n\n    * Call for Papers\n    * Requirements for Authors\n\n    * Instructions for Presenters\n    * Call for Artifacts\n\n    * Call for Posters\n\n  * Sponsors\n\n    * Exhibitor Services\n\n  * About\n\n    * Past Symposia\n    * Symposium Organizers\n\n    * Conference Policies\n    * Code of Conduct\n    * Questions\n\n  * Sign In\n\n  * Sign In\n  * Conferences\n\n  * Attend\n\n    * Registration Information\n    * Registration Discounts\n    * Terms and Conditions\n\n    * Grant Opportunities\n\n    * Venue, Hotel, and Travel\n\n  * Program\n\n    * Technical Sessions\n\n    * Activities and Evening Events\n    * Poster Session\n\n  * Participate\n\n    * Call for Papers\n    * Requirements for Authors\n\n    * Instructions for Presenters\n    * Call for Artifacts\n\n    * Call for Posters\n\n  * Sponsors\n\n    * Exhibitor Services\n\n  * About\n\n    * Past Symposia\n    * Symposium Organizers\n\n    * Conference Policies\n    * Code of Conduct\n    * Questions\n\n# Orca: A Distributed Serving System for Transformer-Based Generative Models\n\nAuthors:\n\nGyeong-In Yu and Joo Seong Jeong, Seoul National University; Geon-Woo Kim,\nFriendliAI and Seoul National University; Soojeong Kim, FriendliAI; Byung-Gon\nChun, FriendliAI and Seoul National University\n\nAbstract:\n\nLarge-scale Transformer-based models trained for generation tasks (e.g.,\nGPT-3) have recently attracted huge interest, emphasizing the need for system\nsupport for serving models in this family. Since these models generate a next\ntoken in an autoregressive manner, one has to run the model multiple times to\nprocess an inference request where each iteration of the model generates a\nsingle output token for the request. However, existing systems for inference\nserving do not perform well on this type of workload that has a multi-\niteration characteristic, due to their inflexible scheduling mechanism that\ncannot change the current batch of requests being processed; requests that\nhave finished earlier than other requests in a batch cannot return to the\nclient, while newly arrived requests have to wait until the current batch\ncompletely finishes.\n\nIn this paper, we propose iteration-level scheduling, a new scheduling\nmechanism that schedules execution at the granularity of iteration (instead of\nrequest) where the scheduler invokes the execution engine to run only a single\niteration of the model on the batch. In addition, to apply batching and\niteration-level scheduling to a Transformer model at the same time, we suggest\nselective batching, which applies batching only to a selected set of\noperations. Based on these two techniques, we have implemented a distributed\nserving system called ORCA, with additional designs for scalability to models\nwith hundreds of billions of parameters. Our evaluation on a GPT-3 175B model\nshows that ORCA can significantly outperform NVIDIA FasterTransformer in terms\nof both latency and throughput: 36:9\u00d7 throughput improvement at the same level\nof latency.\n\n## Gyeong-In Yu, Seoul National University\n\n## Joo Seong Jeong, Seoul National University\n\n## Geon-Woo Kim, FriendliAI and Seoul National University\n\n## Soojeong Kim, FriendliAI\n\n## Byung-Gon Chun, FriendliAI and Seoul National University\n\nOSDI '22 Open Access Sponsored by NetApp\n\n## Open Access Media\n\nUSENIX is committed to Open Access to the research presented at our events.\nPapers and proceedings are freely available to everyone once the event begins.\nAny video, audio, and/or slides that are posted after the event are also free\nand open to everyone. Support USENIX and our commitment to Open Access.\n\nBibTeX\n\n@inproceedings {280922, author = {Gyeong-In Yu and Joo Seong Jeong and Geon-\nWoo Kim and Soojeong Kim and Byung-Gon Chun}, title = {Orca: A Distributed\nServing System for {Transformer-Based} Generative Models}, booktitle = {16th\nUSENIX Symposium on Operating Systems Design and Implementation (OSDI 22)},\nyear = {2022}, isbn = {978-1-939133-28-1}, address = {Carlsbad, CA}, pages =\n{521--538}, url = {https://www.usenix.org/conference/osdi22/presentation/yu},\npublisher = {USENIX Association}, month = jul }\n\nDownload\n\nosdi22-yu.pdf\n\n##\n\nPresentation Video\n\n  * Attend\n\n    * Registration Information\n    * Registration Discounts\n    * Terms and Conditions\n    * Grant Opportunities\n    * Venue, Hotel, and Travel\n  * Program\n\n    * Technical Sessions\n    * Activities and Evening Events\n    * Poster Session\n  * Participate\n\n    * Call for Papers\n    * Requirements for Authors\n    * Instructions for Presenters\n    * Call for Artifacts\n    * Call for Posters\n  * Sponsors\n\n    * Exhibitor Services\n  * About\n\n    * Past Symposia\n    * Symposium Organizers\n    * Conference Policies\n    * Code of Conduct\n    * Questions\n\nTwitterFacebookYoutube\n\n  * Privacy Policy\n  * Contact Us\n\n\u00a9 USENIX 2024\n\n", "frontpage": false}
