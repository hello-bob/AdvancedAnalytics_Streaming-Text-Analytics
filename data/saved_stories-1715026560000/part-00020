{"aid": "40274574", "title": "Number Detective: Explaining an unexpected numerical pattern", "url": "https://azeemba.com/posts/number-detective.html", "domain": "azeemba.com", "votes": 1, "user": "azeemba", "posted_at": "2024-05-06 13:41:21", "comments": 0, "source_title": "Number Detective", "source_text": "Number Detective | Azeem Bande-Ali | azeemba.com\n\n# Number Detective\n\nExplaining an unexpected numerical pattern.\n\nApril 14, 2024 \u00b7 7 min\n\nI have a spreadsheet where I track bets against myself. The goal isn\u2019t really\nto win or lose but to validate my understanding of the world on an ongoing\nbasis. Since that\u2019s the goal, I don\u2019t just pick an outcome, I assign\nprobabilities to the possible outcomes.\n\nHere is a bet I made in March of 2023:\n\nQuestion| Option 1| Odds| Option 2| Odds  \n---|---|---|---|---  \nWill SVB depositors get full money back?| Yes| 95%| No| 5%  \n  \nTo make it more fun, I treat each bet as if I am betting $100 and the winning\noption gives me 2x returns. Here since \u201cYes\u201d was the final result, the bet\ngets me 2*$95=$190 (but since I put in $100, my final theoretical winnings are\n$90).\n\nI have made a dozen of these bets and sometimes my bets made money and\nsometimes they lost money. But that\u2019s expected even if I was assigning the\nprobabilities perfectly. So the question is, how far am I from the ideal? What\nwould be the expected winnings of someone who was assigning probabilities\nperfectly?\n\n## Expected Returns#\n\nHow would we calculate the expected returns of such a perfect player? Well,\nlet\u2019s say the odds for option 1 are P(Option 1)=x. Then if option 1 turns out\nto be right, the winnings are\n\nW(Option 1)=2\u22c5100x\n\nNow, we can figure out the expected value of this bet. We know how much we\ncould win from each option and we know the assigned probabilities of the two\nbets. If we assume that we have assigned probabilities perfectly, the expected\nvalue of the net returns are:\n\nE=[P(Option 1)\u22c5W(Option 1)]+[P(Option 2)\u22c5W(Option 2)]\u2212100\n\nThis is the probability of each option multiplied by the payout of that option\n(and 100 is subtracted because that\u2019s the money we put into the bet).\n\nThis lets us calculate the expected value of any bet in our system. We can\nquickly calculate it for different odds using a spreadsheet:\n\nOdd 1| Odd 2| Expected  \n---|---|---  \n0.05| 0.95| $81  \n0.1| 0.9| $64  \n0.15| 0.85| $49  \n0.2| 0.8| $36  \n0.25| 0.75| $25  \n0.3| 0.7| $16  \n0.35| 0.65| $9  \n0.4| 0.6| $4  \n0.45| 0.55| $1  \n0.5| 0.5| $0  \n  \n...the expected values are perfect squares! How are perfect squares showing\nup?!\n\n## Solving the Mystery#\n\nI was very surprised by this calculation so I wrote out the formula I was\ncalculating to figure out where a perfect square could have crept in.\n\nLet\u2019s start by expanding our formula for expected value. We start by noting\nthat if the odds for option 1 are x then the odds for option 2 are\nautomatically fixed to 1\u2212x since the odds have to add up to 1.\n\nEE=x\u22c5(2\u22c5100x)+(1\u2212x)\u22c5(2\u22c5100(1\u2212x))\u2212100=200x2+(1\u2212x)\u22c5(200(1\u2212x))\u2212100\n\nOkay maybe I can see where a square is popping up but there is no way the rest\nof the crap will cancel out perfectly, right?\n\nEE=200x2+1(200\u2212200x)\u2212x(200\u2212200x)\u2212100=200x2+200\u2212200x\u2212200x+200x2\u2212100 All the\n200s in a row are kinda neat! It doesn\u2019t help with things canceling though.\n\nE=400x2\u2212400x+100\n\nWelp, we reached the end. There is a square in the result but there are other\nterms too so the final result shouldn\u2019t be a perfect square! What are we\nmissing?\n\nWell, our table doesn\u2019t enumerate all possible odds. It only lists the odds at\nevery 5% increments. We can account for this by replacing x with n/20 where\nn\u2208{1..10}\n\nEEE=400x2\u2212400x+100=400(n/20)2\u2212400(n/20)+100=n2\u221220n+100\n\nAlright, the 400 getting canceled by 202 was cool...but that\u2019s still a square\nterm with extra terms! How is this going to be a perfect square?\n\n### Backwards#\n\nLet\u2019s take a quick detour to see if the table of values shows us a pattern.\nWhen x=0.05, n=1 and from our table E=81=92=(10\u22121)2 Does this pattern\ncontinue? When n=2 we have E=64=82=(10\u22122)2. And with each row, n goes up by 1\nand the pattern continues.\n\nSo looks like the pattern in our table is E=(10\u2212n)2.\n\nAh ha! I wonder what that looks like when it is expanded!\n\n(10\u2212n)2=(10\u2212n)(10\u2212n)=100\u221220n+n2=n2\u221220n+100\n\nOur calculation was the expanded out version of (10\u2212n)2! That\u2019s why every\nvalue in our table was a perfect square.\n\n## Other Odds#\n\nNow we know that the perfect squares were showing up only because we were\nlisting odds at increments of 0.05. We can see that more explicitly if we take\nthe above equation and replace x back into it (using the fact that x=n/20^1).\n\nEE=(10\u2212n)2=(10\u221220x)2\n\nAs long as 20x is an integer (which happens when x is a multiple of 0.05), E\nwill be a square of an integer (i.e. a perfect square)! Choosing to list the\ntable at 0.05 increments was the reason I ended up with perfect squares.\n\nBut that wasn\u2019t the only reason. The bet amount was also a factor. Our\noriginal bet was $100 which acts like a scaling factor. We can pull that out\nto make our equation more clear.\n\nEEE=(10\u221220x)2=100(1\u22122x)2=Bet\u22c5(1\u22122x)2\n\nThis is what the expected returns look like without the bet factor:\n\nGraph of (1\u22122x)2. The x-axis is the odds of the bet and the y-axis is the\nexpected returns. The blue dots are the perfect squares from our table.\nWithout the factor of 100, the \u201cperfect\u201d squares seem less perfect.\n\nIf we had bet $1000, we would not have been lucky enough to see the perfect\nsquares.\n\nEE=1000(1\u22122x)2=(31.62..\u221231.62..\u22c52x)2\n\nSince $1000 is not a perfect square, when we pull it inside of the squared\nterm, we end up with an irrational number. There is still an x such that the\nexpected returns are a perfect square but such an x will not be a simple\nnumber. For example, we can solve the equation for E=49\n\nE=(31.62..\u221231.62..\u22c52x)2(31.62..\u221231.62..\u22c52x)\u221231.62..\u22c52xx=49=7=\u221224.62=0.389..\n\nTo get the expected returns to be a perfect square, we have to choose our odds\n(x) to be an irrational number. So, if our original bet was $1000, then our\ntable of expected returns was never going to end up with perfect squares\nbecause I was always going to pick nice rational numbers to populate the table\nof odds!\n\nThe perfect squares still exist with a $1000 bet, we just were unlikely to\nstumble onto it.\n\nEven if our bet was $1024, which is a perfect square, our situation wouldn\u2019t\nhave been that much better:\n\nEE=1000(1\u22122x)2=(32\u221264x)2\n\nWhen our bet is $1024, our bets would have yielded a perfect square when x is\nincreased in increments of 641. It\u2019s certainly more possible than me picking\nrandom irrational numbers, but still unlikely that I would have created my\ntable in increments of 641.\n\nSo, if you get a chance to play the game above, consider betting $100 and\npicking odds in increments of 0.05, you might enjoy your winnings even more\nwhen they are perfectly squared.\n\n  1. We can do this replacement because our calculations to expand the different terms never actually used the fact that n was an integer. \u21a9\ufe0e\n\n  * Math\n\n\u00a9 2024 Azeem Bande-Ali | azeemba.com \u00b7 Powered by Hugo \u00b7 Theme PaperMod\n\n", "frontpage": false}
