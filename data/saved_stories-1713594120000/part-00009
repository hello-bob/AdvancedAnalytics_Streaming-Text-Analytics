{"aid": "40091772", "title": "Cloud Disks Are Expensive", "url": "https://www.warpstream.com/blog/cloud-disks-are-expensive", "domain": "warpstream.com", "votes": 4, "user": "richieartoul", "posted_at": "2024-04-19 20:52:47", "comments": 0, "source_title": "Cloud Disks are (Really!) Expensive", "source_text": "Cloud Disks are (Really!) Expensive - WarpStream - Stream More, Manage Less\n\nBook a DemoConsoleGet started\n\nEngineering\n\n# Cloud Disks are (Really!) Expensive\n\nApr 20, 2024\n\nRichard Artoul\n\nLink copied!\n\nReturn To Blog\n\nReal-Time Website Security Monitoring wi...\n\n## Cloud disks are expensive\n\nCloud disks are expensive. Really expensive. Most engineers intuitively\nunderstand this, but the magnitudes are worth considering.\n\nImagine you're running a typical triply replicated \"big data\" system like\nCassandra or Kafka in AWS. You could use VMs with local SSDs, but since you're\nthe person who will inevitably get paged in the middle of the night when\nsomething goes wrong, you'd rather use more durable EBS volumes instead. If\nthat feels like overkill to you, consider for a moment how easy it is to fat-\nfinger a single Kubernetes configuration and accidentally terminate all of\nyour VMs and the entire contents of their local disks.\n\nOf course, you\u2019re a practical person, so you do some research and select EBS\nGP3 volumes since they're the newest generation, and the most cost effective\nat $0.08/GiB month.\n\n$0.08/GiB. That's pretty expensive, but EBS volumes provide a lot of value\nover a raw disk: they can be detached from one VM and quickly re-attached to\nanother. Also, perhaps more importantly, they can be resized. These two\nfeatures dramatically simplify cluster operations, and can save you from a lot\nof costly mistakes, so they're probably worth paying for.\n\n$0.08/GiB. Pricey, but again probably worth it to reduce time spent on\noperations and outages, and for peace of mind. But actually... it's not really\n$0.08/GiB because your data system is replicated three times. So it's more\nlike $0.24/GiB. Also, while EBS volumes can be resized, it's not the sort of\nthing you can easily automate or do in a pinch, so you'll need to run your\nsystem with plenty of headroom. If you want to run the system with 50% of\nstorage free for disasters and changes in workload volume, then we have to\ndouble the cost again to $0.48/GiB.\n\nSuddenly, we\u2019re talking about a lot of money. Almost half a dollar to store a\nsingle GiB of data for a month! Storing a 128GiB of data for a year will cost\n$737 at this rate. Everyone knows the cloud is expensive, but a brand new\niPhone 15 Pro with 128 GiB of storage only costs $1000! Something's not right\nhere.\n\nThe problem is that tools like EBS, while amazingly powerful, were designed to\nhelp lift and shift datacenter software that expects a very stable and static\nenvironment into the cloud. That's why they\u2019re so commonly used for pre-cloud\ntechnology like Kafka, but that's also what makes them so expensive.\n\nCost per GiB-month for a 3x replicated storage system.\n\nThere is another way though, and that's to re-architect the software from the\nground up around cloud primitives like object storage. In AWS, S3 only costs\n$0.02/GiB per month of storage, and that\u2019s post-replication and with\n(effectively) infinite headroom. That's 24x cheaper than EBS, and you don't\nhave to figure out how to resize volumes on the fly or spends weeks performing\ncapacity planning and load testing to determine exactly how many IOPS will be\nrequired ahead of time.\n\nYou can play with the numbers a bit here: local SSDs instead of EBS, or 2x\nreplication instead of 3x if you really like to live on the edge. But the unit\neconomics in cloud environments are fundamental: object storage is orders of\nmagnitude more cost effective than local disks, so any system storing or\nprocessing large volumes of data must eventually shed its local disks\nentirely.\n\nIf you\u2019ve been nodding along the whole time, that last sentence may have just\nmade you pause. We know what you\u2019re thinking. \u201cGet rid of the local disks\nentirely? Surely it\u2019s enough to just move the older data to object storage,\nand keep the hot data on local disks.\u201d\n\nWe\u2019ll follow up with more on this thought in a subsequent post, but\nunfortunately the concept of \u201ctiered storage\u201d is a siren song that sounds\ngreat on paper, but ultimately doesn\u2019t work out in practice. Often, it just\nends up making the operators' lives harder instead of easier, and\nunfortunately it\u2019s an architectural dead-end as well.\n\nZero disks would be better, much better, but we\u2019ll share more on the\ndeficiencies of tiered storage and contrast it with modern zero-disk\narchitectures in a subsequent post!\n\n#### Table of Contents\n\nCloud disks are expensive\n\nTalk to an expert\n\n## Subscribe\n\nSubscribe\n\n## Subscribe\n\nRSS Feed\n\nWarpStream is a Kafka compatible data streaming platform built directly on top\nof object storage: no inter-AZ bandwidth costs, no disks to manage, and\ninfinitely scalable, all within your VPC.\n\nThank you! You've been added to our mailing list.\n\nOops! Something went wrong while submitting the form.\n\nJoin our mailing list to stay up to date!\n\nSubscribe\n\n## Subscribe\n\nPricingCompanyDocumentationBlogContact Us\n\nSlack\n\nDiscord\n\nX (Twitter)\n\nLinkedIn\n\n\u00a9 2024 WarpStream. All rights reserved.\n\nApache, Apache Kafka, Kafka, and associated open source project names are\ntrademarks of the Apache Software Foundation.\n\nPrivacy PolicySLATerms of ServiceTrust Center\n\nCloud Disks are (Really!) Expensive\n\nFancy Stream Processing Made (even more)...\n\nThe Original Sin of Cloud Infrastructure\n\nDeterministic Simulation Testing for Our...\n\nPublic Benchmarks and TCO Analysis\n\nKafka as a KV Store: deduplicating milli...\n\nAnatomy of a serverless usage based bill...\n\nMiddleware saves 85% by replacing Apache...\n\nS3 Express is All You Need\n\nUnlocking Idempotency with Retroactive T...\n\nMinimizing S3 API Costs with Distributed...\n\nWarpStream + Materialize: Simpler Stream...\n\nHacking the Kafka PRoTocOL\n\nKafka is dead, long live Kafka\n\n", "frontpage": false}
