{"aid": "40167105", "title": "OpenBSD \u2013 Passphrase timeout for disk decryption at boot added", "url": "https://www.undeadly.org/cgi?action=article;sid=20240426083308", "domain": "undeadly.org", "votes": 1, "user": "peter_hansteen", "posted_at": "2024-04-26 08:33:53", "comments": 0, "source_title": "Passphrase timeout for disk decryption at boot added (potential battery lifesaver)", "source_text": "Passphrase timeout for disk decryption at boot added (potential battery\nlifesaver)\n\nOpenBSD Journal\n\n# Passphrase timeout for disk decryption at boot added (potential battery\nlifesaver)\n\nContributed by Peter N. M. Hansteen on 2024-04-26 from the bag heater no more\ndept.\n\nHave you had your laptop accidentally un-hibernate while you weren't looking,\nleaving you with a totally drained battery?\n\nNow OpenBSD-current has a fix for that, thanks to this commit by Klemens Nanni\n(kn@). The commit message reads,\n\n>\n>     List: openbsd-cvs Subject: CVS: cvs.openbsd.org: src From: Klemens Nanni\n> <kn () cvs ! openbsd ! org> Date: 2024-04-25 18:31:49 CVSROOT: /cvs Module\n> name: src Changes by: kn@cvs.openbsd.org 2024/04/25 12:31:49 Modified files:\n> sys/lib/libsa : softraid.c sys/arch/amd64/stand/boot: boot.8\n> sys/arch/amd64/stand/efiboot: Makefile.common cmd_i386.c conf.c efiboot.c\n> efiboot.h Log message: Add boot.conf(8) 'mach idle [secs]' to halt at idle\n> passphrase prompts\n\n>\n>     Enable users to power down their machines if there was no input after N\n> seconds during disk descryption. Motivation is to save battery and prevent\n> pocket heaters when notebooks unhibernate (e.g. lid accidentially opened)\n> and sit at \"Passphrase: \". Only available on efi(4) systems as the timeout\n> is saved as EFI variable; mostly because that's trivial to do, but also\n> because we lack a better mechanism to configure that and persist such data\n> without the root disk. Discussed with many, starting at h2k23 OK Tests\n> gnezdo\n\nIt is worth noting that this feature is only available on EFI systems\nconfigured with disk encryption (as one would have these days).\n\nThanks to Bryan Steele (brynet@) for the heads up via the fediverse.\n\nReply\n\n## Latest Articles\n\n  * Fri, Apr 26\n\n    * 08:33 Passphrase timeout for disk decryption at boot added (potential battery lifesaver) (0)\n  * Wed, Apr 24\n\n    * 04:35 Game of Trees 0.98 released (2)\n  * Tue, Apr 23\n\n    * 05:25 pfctl(8) and systat(8) to display fragment reassembly statistics (0)\n  * Thu, Apr 18\n\n    * 05:05 Coming soon to a -current system near you: parallel raw IP input (0)\n  * Wed, Apr 17\n\n    * 05:33 In -current, default write format for tar(1) changed to \"pax\" (12)\n  * Wed, Apr 10\n\n    * 18:50 OpenSMTPD 7.5.0p0 Released (2)\n  * Tue, Apr 09\n\n    * 04:49 20 years since \"and we're just starting\": undeadly.org turns 20 (2024-04-09) (13)\n  * Fri, Apr 05\n\n    * 06:16 OpenBSD 7.5 released (3)\n  * Thu, Mar 28\n\n    * 18:18 LibreSSL 3.8.4 and 3.9.1 released (0)\n\n## Credits\n\nCopyright \u00a9 2004-2008 Daniel Hartmeier. All rights reserved. Articles and\ncomments are copyright their respective authors, submission implies license to\npublish on this web site. Contents of the archive prior to April 2nd 2004 as\nwell as images and HTML templates were copied from the fabulous original\ndeadly.org with Jose's and Jim's kind permission. This journal runs as CGI\nwith httpd(8) on OpenBSD, the source code is BSD licensed. undeadly\n\\Un*dead\"ly\\, a. Not subject to death; immortal. [Obs.]\n\n", "frontpage": false}
