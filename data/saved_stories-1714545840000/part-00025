{"aid": "40215767", "title": "Run llama3 locally with 1M token context", "url": "https://ollama.com/library/llama3-gradient", "domain": "ollama.com", "votes": 47, "user": "mritchie712", "posted_at": "2024-04-30 20:15:23", "comments": 5, "source_title": "llama3-gradient", "source_text": "llama3-gradient\n\n# llama3-gradient\n\n## This model extends LLama-3 8B's context length from 8k to over 1m tokens.\n\n1,531 Pulls Updated 16 hours ago\n\nlatest\n\n4.7GB\n\n1048k latest\n\n4.7GB\n\ninstruct\n\n4.7GB\n\n8b-instruct-1048k-q4_0\n\n4.7GB\n\n8b-instruct-1048k-q4_1\n\n5.1GB\n\n8b-instruct-1048k-q5_0\n\n5.6GB\n\n8b-instruct-1048k-q5_1\n\n6.1GB\n\n8b-instruct-1048k-q8_0\n\n8.5GB\n\n8b-instruct-1048k-q2_K\n\n3.2GB\n\n8b-instruct-1048k-q3_K_S\n\n3.7GB\n\n8b-instruct-1048k-q3_K_M\n\n4.0GB\n\n8b-instruct-1048k-q3_K_L\n\n4.3GB\n\n8b-instruct-1048k-q4_K_S\n\n4.7GB\n\n8b-instruct-1048k-q4_K_M\n\n4.9GB\n\n8b-instruct-1048k-q5_K_S\n\n5.6GB\n\n8b-instruct-1048k-q5_K_M\n\n5.7GB\n\n8b-instruct-1048k-q6_K\n\n6.6GB\n\n8b-instruct-1048k-fp16\n\n16GB\n\nView all tags\n\n18 Tags\n\nUpdated 17 hours ago\n\n17 hours ago\n\ncbe8d27fb80e \u00b7 4.7GB\n\nmodel\n\narchllama\n\n\u00b7\n\nparameters8B\n\n\u00b7\n\nquantization4-bit\n\n4.7GB\n\nlicense\n\nMETA LLAMA 3 COMMUNITY LICENSE AGREEMENT Meta Llama 3 Version Release Date:\nApril 18, 2024 \u201cAgreement\u201d means the terms and conditions for use,\nreproduction, distribution and modification of the Llama Materials set forth\nherein. \u201cDocumentation\u201d means the specifications, manuals and documentation\naccompanying Meta Llama 3 distributed by Meta at https://llama.meta.com/get-\nstarted/. \u201cLicensee\u201d or \u201cyou\u201d means you, or your employer or any other person\nor entity (if you are entering into this Agreement on such person or entity\u2019s\nbehalf), of the age required under applicable laws, rules or regulations to\nprovide legal consent and that has legal authority to bind your employer or\nsuch other person or entity if you are entering in this Agreement on their\nbehalf. \u201cMeta Llama 3\u201d means the foundational large language models and\nsoftware and algorithms, including machine-learning model code, trained model\nweights, inference-enabling code, training-enabling code, fine-tuning enabling\ncode and other elements of the foregoing distributed by Meta at\nhttps://llama.meta.com/llama-downloads. \u201cLlama Materials\u201d means, collectively,\nMeta\u2019s proprietary Meta Llama 3 and Documentation (and any portion thereof)\nmade available under this Agreement. \u201cMeta\u201d or \u201cwe\u201d means Meta Platforms\nIreland Limited (if you are located in or, if you are an entity, your\nprincipal place of business is in the EEA or Switzerland) and Meta Platforms,\nInc. (if you are located outside of the EEA or Switzerland). By clicking \u201cI\nAccept\u201d below or by using or distributing any portion or element of the Llama\nMaterials, you agree to be bound by this Agreement. 1. License Rights and\nRedistribution. a. Grant of Rights. You are granted a non-exclusive,\nworldwide, non-transferable and royalty-free limited license under Meta\u2019s\nintellectual property or other rights owned by Meta embodied in the Llama\nMaterials to use, reproduce, distribute, copy, create derivative works of, and\nmake modifications to the Llama Materials. b. Redistribution and Use. i. If\nyou distribute or make available the Llama Materials (or any derivative works\nthereof), or a product or service that uses any of them, including another AI\nmodel, you shall (A) provide a copy of this Agreement with any such Llama\nMaterials; and (B) prominently display \u201cBuilt with Meta Llama 3\u201d on a related\nwebsite, user interface, blogpost, about page, or product documentation. If\nyou use the Llama Materials to create, train, fine tune, or otherwise improve\nan AI model, which is distributed or made available, you shall also include\n\u201cLlama 3\u201d at the beginning of any such AI model name. ii. If you receive Llama\nMaterials, or any derivative works thereof, from a Licensee as part of an\nintegrated end user product, then Section 2 of this Agreement will not apply\nto you. iii. You must retain in all copies of the Llama Materials that you\ndistribute the following attribution notice within a \u201cNotice\u201d text file\ndistributed as a part of such copies: \u201cMeta Llama 3 is licensed under the Meta\nLlama 3 Community License, Copyright \u00a9 Meta Platforms, Inc. All Rights\nReserved.\u201d iv. Your use of the Llama Materials must comply with applicable\nlaws and regulations (including trade compliance laws and regulations) and\nadhere to the Acceptable Use Policy for the Llama Materials (available at\nhttps://llama.meta.com/llama3/use-policy), which is hereby incorporated by\nreference into this Agreement. v. You will not use the Llama Materials or any\noutput or results of the Llama Materials to improve any other large language\nmodel (excluding Meta Llama 3 or derivative works thereof). 2. Additional\nCommercial Terms. If, on the Meta Llama 3 version release date, the monthly\nactive users of the products or services made available by or for Licensee, or\nLicensee\u2019s affiliates, is greater than 700 million monthly active users in the\npreceding calendar month, you must request a license from Meta, which Meta may\ngrant to you in its sole discretion, and you are not authorized to exercise\nany of the rights under this Agreement unless or until Meta otherwise\nexpressly grants you such rights. 3. Disclaimer of Warranty. UNLESS REQUIRED\nBY APPLICABLE LAW, THE LLAMA MATERIALS AND ANY OUTPUT AND RESULTS THEREFROM\nARE PROVIDED ON AN \u201cAS IS\u201d BASIS, WITHOUT WARRANTIES OF ANY KIND, AND META\nDISCLAIMS ALL WARRANTIES OF ANY KIND, BOTH EXPRESS AND IMPLIED, INCLUDING,\nWITHOUT LIMITATION, ANY WARRANTIES OF TITLE, NON-INFRINGEMENT,\nMERCHANTABILITY, OR FITNESS FOR A PARTICULAR PURPOSE. YOU ARE SOLELY\nRESPONSIBLE FOR DETERMINING THE APPROPRIATENESS OF USING OR REDISTRIBUTING THE\nLLAMA MATERIALS AND ASSUME ANY RISKS ASSOCIATED WITH YOUR USE OF THE LLAMA\nMATERIALS AND ANY OUTPUT AND RESULTS. 4. Limitation of Liability. IN NO EVENT\nWILL META OR ITS AFFILIATES BE LIABLE UNDER ANY THEORY OF LIABILITY, WHETHER\nIN CONTRACT, TORT, NEGLIGENCE, PRODUCTS LIABILITY, OR OTHERWISE, ARISING OUT\nOF THIS AGREEMENT, FOR ANY LOST PROFITS OR ANY INDIRECT, SPECIAL,\nCONSEQUENTIAL, INCIDENTAL, EXEMPLARY OR PUNITIVE DAMAGES, EVEN IF META OR ITS\nAFFILIATES HAVE BEEN ADVISED OF THE POSSIBILITY OF ANY OF THE FOREGOING. 5.\nIntellectual Property. a. No trademark licenses are granted under this\nAgreement, and in connection with the Llama Materials, neither Meta nor\nLicensee may use any name or mark owned by or associated with the other or any\nof its affiliates, except as required for reasonable and customary use in\ndescribing and redistributing the Llama Materials or as set forth in this\nSection 5(a). Meta hereby grants you a license to use \u201cLlama 3\u201d (the \u201cMark\u201d)\nsolely as required to comply with the last sentence of Section 1.b.i. You will\ncomply with Meta\u2019s brand guidelines (currently accessible at\nhttps://about.meta.com/brand/resources/meta/company-brand/ ). All goodwill\narising out of your use of the Mark will inure to the benefit of Meta. b.\nSubject to Meta\u2019s ownership of Llama Materials and derivatives made by or for\nMeta, with respect to any derivative works and modifications of the Llama\nMaterials that are made by you, as between you and Meta, you are and will be\nthe owner of such derivative works and modifications. c. If you institute\nlitigation or other proceedings against Meta or any entity (including a cross-\nclaim or counterclaim in a lawsuit) alleging that the Llama Materials or Meta\nLlama 3 outputs or results, or any portion of any of the foregoing,\nconstitutes infringement of intellectual property or other rights owned or\nlicensable by you, then any licenses granted to you under this Agreement shall\nterminate as of the date such litigation or claim is filed or instituted. You\nwill indemnify and hold harmless Meta from and against any claim by any third\nparty arising out of or related to your use or distribution of the Llama\nMaterials. 6. Term and Termination. The term of this Agreement will commence\nupon your acceptance of this Agreement or access to the Llama Materials and\nwill continue in full force and effect until terminated in accordance with the\nterms and conditions herein. Meta may terminate this Agreement if you are in\nbreach of any term or condition of this Agreement. Upon termination of this\nAgreement, you shall delete and cease use of the Llama Materials. Sections 3,\n4 and 7 shall survive the termination of this Agreement. 7. Governing Law and\nJurisdiction. This Agreement will be governed and construed under the laws of\nthe State of California without regard to choice of law principles, and the UN\nConvention on Contracts for the International Sale of Goods does not apply to\nthis Agreement. The courts of California shall have exclusive jurisdiction of\nany dispute arising out of this Agreement. Meta Llama 3 Acceptable Use Policy\nMeta is committed to promoting safe and fair use of its tools and features,\nincluding Meta Llama 3. If you access or use Meta Llama 3, you agree to this\nAcceptable Use Policy (\u201cPolicy\u201d). The most recent copy of this policy can be\nfound at https://llama.meta.com/llama3/use-policy Prohibited Uses We want\neveryone to use Meta Llama 3 safely and responsibly. You agree you will not\nuse, or allow others to use, Meta Llama 3 to: 1. Violate the law or others\u2019\nrights, including to: a. Engage in, promote, generate, contribute to,\nencourage, plan, incite, or further illegal or unlawful activity or content,\nsuch as: i. Violence or terrorism ii. Exploitation or harm to children,\nincluding the solicitation, creation, acquisition, or dissemination of child\nexploitative content or failure to report Child Sexual Abuse Material iii.\nHuman trafficking, exploitation, and sexual violence iv. The illegal\ndistribution of information or materials to minors, including obscene\nmaterials, or failure to employ legally required age-gating in connection with\nsuch information or materials. v. Sexual solicitation vi. Any other criminal\nactivity b. Engage in, promote, incite, or facilitate the harassment, abuse,\nthreatening, or bullying of individuals or groups of individuals c. Engage in,\npromote, incite, or facilitate discrimination or other unlawful or harmful\nconduct in the provision of employment, employment benefits, credit, housing,\nother economic benefits, or other essential goods and services d. Engage in\nthe unauthorized or unlicensed practice of any profession including, but not\nlimited to, financial, legal, medical/health, or related professional\npractices e. Collect, process, disclose, generate, or infer health,\ndemographic, or other sensitive personal or private information about\nindividuals without rights and consents required by applicable laws f. Engage\nin or facilitate any action or generate any content that infringes,\nmisappropriates, or otherwise violates any third-party rights, including the\noutputs or results of any products or services using the Llama Materials g.\nCreate, generate, or facilitate the creation of malicious code, malware,\ncomputer viruses or do anything else that could disable, overburden, interfere\nwith or impair the proper working, integrity, operation or appearance of a\nwebsite or computer system 2. Engage in, promote, incite, facilitate, or\nassist in the planning or development of activities that present a risk of\ndeath or bodily harm to individuals, including use of Meta Llama 3 related to\nthe following: a. Military, warfare, nuclear industries or applications,\nespionage, use for materials or activities that are subject to the\nInternational Traffic Arms Regulations (ITAR) maintained by the United States\nDepartment of State b. Guns and illegal weapons (including weapon development)\nc. Illegal drugs and regulated/controlled substances d. Operation of critical\ninfrastructure, transportation technologies, or heavy machinery e. Self-harm\nor harm to others, including suicide, cutting, and eating disorders f. Any\ncontent intended to incite or promote violence, abuse, or any infliction of\nbodily harm to an individual 3. Intentionally deceive or mislead others,\nincluding use of Meta Llama 3 related to the following: a. Generating,\npromoting, or furthering fraud or the creation or promotion of disinformation\nb. Generating, promoting, or furthering defamatory content, including the\ncreation of defamatory statements, images, or other content c. Generating,\npromoting, or further distributing spam d. Impersonating another individual\nwithout consent, authorization, or legal right e. Representing that the use of\nMeta Llama 3 or outputs are human-generated f. Generating or facilitating\nfalse online engagement, including fake reviews and other means of fake online\nengagement g. Fail to appropriately disclose to end users any known dangers of\nyour AI system Please report any violation of this Policy, software \u201cbug,\u201d or\nother problems that could lead to a violation of this Policy through one of\nthe following means: * Reporting issues with the model:\nhttps://github.com/meta-llama/llama3 * Reporting risky content generated by\nthe model: developers.facebook.com/llama_output_feedback * Reporting bugs and\nsecurity concerns: facebook.com/whitehat/info * Reporting violations of the\nAcceptable Use Policy or unlicensed uses of Meta Llama 3:\nLlamaUseReport@meta.com\n\n12kB\n\ntemplate\n\n{{ if .System }}<|start_header_id|>system<|end_header_id|> {{ .System\n}}<|eot_id|>{{ end }}{{ if .Prompt }}<|start_header_id|>user<|end_header_id|>\n{{ .Prompt }}<|eot_id|>{{ end }}<|start_header_id|>assistant<|end_header_id|>\n{{ .Response }}<|eot_id|>\n\n254B\n\nparams\n\n{\"stop\":[\"<|start_header_id|>\",\"<|end_header_id|>\",\"<|eot_id|>\"]}\n\n96B\n\n## Readme\n\nThis model extends LLama-3 8B\u2019s context length from 8k to > 1040K, developed\nby Gradient, sponsored by compute from Crusoe Energy. It demonstrates that\nSOTA LLMs can learn to operate on long context with minimal training by\nappropriately adjusting RoPE theta. We trained on 830M tokens for this stage,\nand 1.4B tokens total for all stages, which is < 0.01% of Llama-3\u2019s original\npre-training data.\n\n## Large Context Window\n\n> Note: using a 256k context window requires at least 64GB of memory. Using a\n> 1M+ context window requires significantly more (100s of GBs).\n\nTo extend the context window (to 256k for example) use:\n\n_API\n\n    \n    \n    curl http://localhost:11434/api/generate -d '{ \"model\": \"llama3-gradient\", \"prompt\": \"Why is the sky blue?\", \"options\": { \"num_ctx\": 256000 } }'\n\n_CLI\n\n    \n    \n    ollama run llama3-gradient >>> /set parameter num_ctx 256000\n\n## References\n\nHugging Face\n\n\u00a9 2024 Ollama\n\nBlog Docs GitHub Discord X (Twitter) Meetups\n\n  * Blog\n  * Docs\n  * GitHub\n\n  * Discord\n  * X (Twitter)\n  * Meetups\n\n\u00a9 2024 Ollama\n\n", "frontpage": true}
