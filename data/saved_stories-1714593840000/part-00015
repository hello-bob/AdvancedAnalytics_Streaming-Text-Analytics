{"aid": "40221246", "title": "Galaga, Pac-Man and Donkey Kong Arcade Emulator for the ESP32", "url": "https://github.com/harbaum/galagino", "domain": "github.com/harbaum", "votes": 1, "user": "rcarmo", "posted_at": "2024-05-01 09:46:59", "comments": 0, "source_title": "GitHub - harbaum/galagino: A Galaga, Pac-Man and Donkey Kong arcade emulator for the ESP32", "source_text": "GitHub - harbaum/galagino: A Galaga, Pac-Man and Donkey Kong arcade emulator\nfor the ESP32\n\nSkip to content\n\n## Navigation Menu\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\nharbaum / galagino Public\n\n  * Notifications\n  * Fork 19\n  * Star 296\n\nA Galaga, Pac-Man and Donkey Kong arcade emulator for the ESP32\n\n296 stars 19 forks Branches Tags Activity\n\nStar\n\nNotifications\n\n# harbaum/galagino\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n1 Branch\n\n0 Tags\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\nharbaumDesciption of battery usageMar 11, 2024b0dfc21 \u00b7 Mar 11, 2024Mar 11,\n2024\n\n## History\n\n185 Commits  \n  \n### galagino\n\n|\n\n### galagino\n\n| Add nunchuck button C handling as COIN/START alternative.| Feb 2, 2024  \n  \n### hardware\n\n|\n\n### hardware\n\n| Desciption of battery usage| Mar 11, 2024  \n  \n### images\n\n|\n\n### images\n\n| Crop screenshots| Jul 12, 2023  \n  \n### logos\n\n|\n\n### logos\n\n| 1942 logo| Jul 12, 2023  \n  \n### romconv\n\n|\n\n### romconv\n\n| Fixed conv_win.sh (Issue #29) and updated readme for Rom conversion| Aug 3,\n2023  \n  \n### roms\n\n|\n\n### roms\n\n| Fixed conv_win.sh (Issue #29) and updated readme for Rom conversion| Aug 3,\n2023  \n  \n### samples\n\n|\n\n### samples\n\n| Update README.md| Mar 22, 2023  \n  \n### README.md\n\n|\n\n### README.md\n\n| Link to sound issues| Jul 29, 2023  \n  \n## Repository files navigation\n\n# Galagino - ESP32 Arcade Emulator\n\nPlay Galaga, Pac-Man, Donkey Kong, Frogger, Digdug and 1942 on the ESP32\n\nPac-Man, Galaga and Donkey Kong are three of the most iconic arcade machines\nof all times and are listed on places #1 to #3 on the Killer List of Video\nGames.\n\nEspecially Pac-Man and Galaga have been remade and emulated many times. So far\nthe cheapest and smallest system able to do a faithful emulation of the\noriginal arcade machines was the raspberry pi. But even the much cheaper ESP32\nshould be able to easily emulate a machine from the early \u201980s, shouldn't it?\n\nWell, things are not that easy. The Galaga arcade was driven by three Z80\nCPUs, each running at 3Mhz. Additionally the arcade machine included two more\nCPUs, one for button and coin handling and one for audio support. And finally\nthe hardware itself had dedicated support for simple wavetable audio, tilemap\ngraphics and up to 64 sprites. The video resultion was 224 by 288 pixels.\n\nThe ESP32 on the other hand comes with two cores running at 240MHz. But it\nlacks dedicated video hardware. Emulating the various CPUs as well as the\nhandling of audio and graphics turned out to be challenging for the ESP32.\n\nCheap TFT screens with a resolution of 320 by 240 pixels are avaialable in\nvarious sizes from 2.0 inch to 3.2 inch allowing for a very small and cheap\ngalagino setup.\n\nThese small displays usually allow for SPI clock rates of up to 40MHz allowing\nfor a max screen refresh rate of ~30Hz. This is exactly half the refresh rate\nof the original arcade machine. 30Hz is sufficient for a very fluid gameplay.\nHowever, with displays coping with 80MHz SPI clock, Galagino will run at full\n60Hz refresh.\n\n## Youtube videos\n\n  * First Galaga Emulation test\n  * Sound and Starfield working\n  * Galaga is finally playable\n  * Pac-Man on Galagino\n  * Donkey Kong on Galagino\n  * Boot menu\n  * Cardboard cabinet prototype\n  * Finished plywood cabinet\n  * John Bradnam's 3D printed case\n  * Frogger on Galagino\n  * Digdug on Galagino\n\n## Hardware\n\n### Original Hardware\n\nThe hardware is built around one of those cheap ESP32 development boards like\nthe ESP32 Devkit V4 depicted in the images below. The components needed for\nthe breadboard setup are listed below. If you plan to build the cabinet\ninstead you might want to make sure you order the exact parts that aren't only\nelectrically compatible but also mechanically.\n\n  * ESP32 development board (e.g. Devkit V4)\n  * A 320x240 SPI TFT screen (no touch needed)\n\n    * Either a ILI9341 based screen as depicted, or\n    * a ST7789 based screen with 320x240 pixels\n  * An audio amplifier and speaker\n\n    * e.g. a PAM8302A and a 3W speaker (as seen in the photos), or\n    * a Keyestudio SC8002B, or similar\n  * five push buttons, or\n  * one push button and a five way joystick breakout (for Pac-Man and Donkey Kong)\n  * breadboard and wires\n\nThe entire setup should be connected as depicted below. The Devkit is too wide\nfor the breadboard leaving no space above it to connect wires. Thus the wires\ngoing to the top pin row of the Devkit are placed underneath the DevKit with\nthe connections done as shown in the image below. See galagino/config.h for\nthe button mappings.\n\nPDF\n\nThis setup with five buttons works fine for Galaga since there is no vertical\nmovement in the game that requires a joystick. A joystick is needed for Pac-\nMan and Donkey Kong. The joystick based setup would then be wired in the\nfollowing way:\n\nPDF\n\n### \"Cheap Yellow Display\"\n\nThe ESP32-2432S028R A.K.A. the Cheap Yellow Display is an ESP32 Board that\ncomes with the majority of hardware required to build a Galagino device.\n\nHardware Needed:\n\n  * Cheap Yellow Display\n  * A Nintendo Wii nunchuck and adaptor - This can be connected to the JST connector labled \"CN1\" with the cable included with the display\n  * A speaker - This can be attached to the display with a 1.25mm JST connector to the connector labled \"SPEAK\" (or soldered)\n\nNote: The Start button is connected to the \"boot\" button on the board.\n\nTo get the project working on the Cheap Yellow Display, just uncomment the\n#define CHEAP_YELLOW_DISPLAY_CONF line in galagino/config.h\n\n## Software\n\nImportant notice 1: You really need to use the Arduino IDE as it provides the\noptimization settings required for sufficient perfgormance of Galaga and\nDigdug by default. E.g. PlatformIO doesn't seem to enable enough optimization.\n\nImportant notice 2: I2S/DAC support seems to be broken in the ESP32 board\npackage version 2.0.10 and up. Please use ESP32 board package 2.0.9 or older\nfor a clean sound.\n\nThe software consists of three parts:\n\n  * The Galagino specific code contained in this repository\n  * The orignal ROM files\n\n    * Galaga (Namco Rev. B ROM)\n    * Pac-Man (Midway)\n    * Donkey Kong (US set 1)\n    * Frogger\n    * Digdug\n    * 1942\n  * A Z80 software emulation by Marat Fayzullin\n\nGalagino uses code that is not freely available and thus not included in this\nrepository. Preparing the firmware thus consists of a few additional steps:\n\n  * The ROM files have to be placed in the roms directory, together with the ZIP file containing the Z80 emulator.\n  * A set of python scripts is then being used to convert and patch the ROM data and emulator code and to include the resulting code into the galagino sketch directory.\n  * The same scripts are afterwards being used to convert audio sample files into the desired format.\n\nThe ROM conversion as well as the audio sample conversion create a whole bunch\nof additional files in the galagino directory. Please check the README's in\nthe romconv and samples directories for further instructions.\n\nWith all these files in place, the galagino.ino sketch can be loaded into the\nArduino IDE. The Arduino IDE must have the ESP32 board support installed and\nthe appropriate board like e.g. the ESP32 Dev Module should be selected.\nFinally the default core used by Arduino should be 1 (this is the default) as\nGalagino will use core 0 for audio and video emulation. Furthermore the\nFastLED library should be installed to support the LEDs in the cabinets\nmarquee. LED support can be disabled in the configuration if no LEDs are going\nto be installed.\n\n## Configuration\n\nThe Galagino code can be configured through the galagino/config.h file. This\nis also the place where it's possible to choose between the ILI9341 controller\n(default) and the ST7789.\n\nAlso the pin assignment can be adjusted as well as the TFT SPI clock or the\nuse of LEDs for the marquee.\n\n## About\n\nA Galaga, Pac-Man and Donkey Kong arcade emulator for the ESP32\n\n### Topics\n\nemulator arduino esp32 arcade pacman z80 donkey-kong frogger 1942 galaga 8048\ndigdug\n\n### Resources\n\nReadme\n\nActivity\n\n### Stars\n\n296 stars\n\n### Watchers\n\n19 watching\n\n### Forks\n\n19 forks\n\nReport repository\n\n## Releases\n\nNo releases published\n\n## Packages 0\n\nNo packages published\n\n## Contributors 5\n\n## Languages\n\n  * C 86.2%\n  * Python 6.4%\n  * C++ 5.9%\n  * Shell 1.5%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
