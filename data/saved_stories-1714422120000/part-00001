{"aid": "40198664", "title": "9FRONT (Plan 9) \"Do Not Install\" Released", "url": "http://9front.org/releases/2024/04/28/0/", "domain": "9front.org", "votes": 12, "user": "moody__", "posted_at": "2024-04-29 14:19:48", "comments": 9, "source_title": "9FRONT \"DO NOT INSTALL\" RELEASED", "source_text": "9FRONT \"DO NOT INSTALL\" RELEASED\n\n9front.org | code | contrib | download | fqa | lists | man | wiki\n\n# 9FRONT.ORG THE PLAN FELL OFF\n\nAbout:\n\n  * \u203a coc\n  * \u203a extra/\n  * \u203a movies/\n  * \u203a mp3/\n  * \u203a n/\n  * \u203a propaganda/\n  * \u00bb releases/\n  *     * \u203a 2011/\n    * \u203a 2012/\n    * \u203a 2013/\n    * \u203a 2014/\n    * \u203a 2015/\n    * \u203a 2016/\n    * \u203a 2017/\n    * \u203a 2018/\n    * \u203a 2019/\n    * \u203a 2020/\n    * \u203a 2021/\n    * \u203a 2022/\n    * \u203a 2023/\n    * \u00bb 2024/\n    *       * \u00bb 04/\n      *         * \u00bb 28/\n        *           * \u00bb 0/\n  * \u203a who/\n\nHowto:\n\n  * \\- DASH 1\n  * \\- wiki\n\nInvest:\n\n  * \\- books\n  * \\- bounties\n\n# 9FRONT \u201cDO NOT INSTALL\u201d RELEASED\n\n## NOTABLE CHANGES\n\nFirst in this release:\n\n  * Ext2srv has been replaced by Ext4srv. Thanks sigrid!\n\n  * We are now able to handle more USB audio, even ones that do not offer standard 44.1kHz sample rate. (Sigrid!)\n\n  * We got DNS over TLS support. Thanks moody!\n\n  * WiFi support for Raspberry PI ported from Richard Miller. Thanks keegan!\n\n  * I2C support and improved UART support for MT7688. Thanks adventuresin9!\n\n  * Vdiff, a graphical diff viewer got added! Thanks phil9!\n\n  * Mixfs now allows switching between audio devices. Thanks cinap_lenrek!\n\nWarning:\n\n  * The behaviour of the IP stack has changed in this release. Routes now bound to an interface and will get removed when the interface goes away. And it is illegal to add routes that cannot be assigned to an interface.\n\n## DOWNLOAD\n\nMultiple installation media are provided for PC, Raspberry Pi, MNT Reform, and\nQEMU. For PC, burn an .iso file to CD, or dd it directly to USB media. For\nRaspberry Pi or MNT Reform, dd an .img file directly to sdcard.\n\nThe pi.img file can be used for Raspberry Pi 1, 2, and 3. The pi3.img file can\nbe used for Raspberry Pi 3 and 4.\n\nQEMU images are provided in QCOW2 format.\n\nhttp://iso.only9fans.com/release/9front-10522.386.iso.gz.torrent\n\nhttp://iso.only9fans.com/release/9front-10522.amd64.iso.gz.torrent\n\nhttp://iso.only9fans.com/release/9front-10522.amd64.qcow2.gz.torrent\n\nhttp://iso.only9fans.com/release/9front-10522.arm64.qcow2.gz.torrent\n\nhttp://iso.only9fans.com/release/9front-10522.pi.img.gz.torrent\n\nhttp://iso.only9fans.com/release/9front-10522.pi3.img.gz.torrent\n\nhttp://iso.only9fans.com/release/9front-10522.reform.img.gz.torrent\n\n    \n    \n    ; sha1sum -2 256 9front-10522*gz 1c9ffaa779e6d239ab7be6facea00e338e63cd8a7ca101b0c76952d650565705 9front-10522.386.iso.gz 89f1e35bf735bfc9aeca38286a9a6607f3a40292befa4a30133157790f2edbcc 9front-10522.amd64.iso.gz 54550d09d83aa8223c043ab1e95d3f6d08b781c089ac0d684848c69a4e03e347 9front-10522.amd64.qcow2.gz a6040e87a9738b44af9394c076384cf65f10e3e7a9198bfc775deaa2e81c5c27 9front-10522.arm64.qcow2.gz d16439ae8d354a64f09b6656ad4454469da281415d4a1840623573c473821fcf 9front-10522.pi.img.gz c3d971c51101febd71fb6f0df95619ea2dbf6e2079f569d5544f12f0ceb5c3b4 9front-10522.pi3.img.gz 7191a76660367ae71c347a494db99afbf2d88d75c15a9763672e084d22a8f9ad 9front-10522.reform.img.gz\n\n## MIRRORS\n\nhttps://9front.org/iso/\n\nhttps://iso.only9fans.com/release/\n\n## GIT REPOSITORY\n\nhttp://git.9front.org/plan9front/plan9front/HEAD/info.html\n\n## DASH 1 MANUAL\n\nhttp://fqa.9front.org/dash1.donotinstall.pdf\n\ndash 1 manual: http://9front.org/propaganda/books\n\n## SONGS\n\nby cinap\n\nhttp://9front.org/mp3/do_not_install.mp3\n\nby sl\n\nhttp://9front.org/mp3/donotanswerx3.mp3\n\n## THANKS\n\ncover photo by sigrid\n\ndo not install logo by prahou\n\n## KERNEL AND DRIVERS\n\narm64/qemu: add xhci usb\n\narm64/qemu: detect VM configuration\n\naudioac97: add 0x27de did\n\nbcm64: fix build caused by added bootargs file in arm64/\n\ndevether: handle bypass case for dmat\n\ndevether: make dmatproxy part of devether\n\ndevether: use qfull() instead of qwindow()\n\ndevip: fix isula()\n\ndevip: handle interface spec correctly for writes to /net/iproute\n\ndevip: no more wandering routes\n\ndevmnt: handle too short or negative message sizes\n\ndevpipe: use 256k pipeqsize as default, make sure its a multiple of the i/o\nunit\n\ndevsdp: fix randomization of dial and acceptid\n\ndevuart: dont allow ridiculous queue sizes\n\ndevuart: should use rts() control only when hw flow control is enabled (modem\nflag)\n\nether4330: dmat support\n\nether4330: ignore join request while bypassed\n\nether4330: set link status, omit \u201cstatus:\u201d line from ifstats for aux/wpa when\nbypassed\n\nether7688: fix compiler warnings\n\nether8169: fix rx/tx on more recent realtek models (thanks uramekus)\n\netherseeq: defer enabling controller until attach(), provide shutdown()\nfunction\n\nethervirtio: make multicast work (thanks Arne)\n\nigmp: maintain timeout per group per interface\n\nimx8, arm64: fix tbdf argumnt position for intrdisable() (thanks cosa)\n\nimx8/sai: run off ref 25MHz clock - no need to turn audio PLL on\n\nimx8: the mpid should not contain other bits from MPIDR_EL1, only the AFF bits\n\nkernel: Fix qio flow control\n\nkernel: Use _Noreturn for gotolabel(), error(), nexterror() and panic()\n\nkernel: add extra \u201cNew\u201d process state to catch invalid state transitions\n\nkernel: add pc field in QLock for debugging\n\nkernel: bring back cooperating scheduling\n\nkernel: delcare nalemenerror() and faulterror() as _Noreturn\n\nkernel: do nlocks && delayshed check only for Running state\n\nkernel: don\u2019t sched() for clock interrupt when up->state != Running\n\nkernel: dont zero up->nerrlab in syscall()\n\nkernel: fix EDF scheduler double ready() and more robust double-ready\ndetection\n\nkernel: fix addbroken() race\n\nkernel: fix the semacquire stack corruption on interrupt\n\nkernel: fix typo in sema assert= vs == (thanks moody)\n\nkernel: handle errors in semacquire\n\nkernel: make sure process is in Queueing state in qunlock()\n\nkernel: make trap() handlers consistent and check for stack overflow in\nkenter() for all archs\n\nkernel: never do sched() in unlock() when not in \u201cRunning\u201d state.\n\nkernel: print warning in rlock() and wlock() when we hold spinlocks\n\nkernel: remove some debugging cruft from taslock.c\n\nkernel: remove unused Proc.lockwait Lock pointer\n\nkernel: remove unused variables from arm trap() handler\n\nkernel: zero Proc.lastlock and Proc.lastilock in newproc()\n\nkernel: zero up->ureg on sysexec() and pexit()\n\nmt7688/uart: fix compiler warnings, fixed interrupts\n\nmt7688: add devarch and i2c\n\nnusb/audio: fix division by zero error\n\nnusb/audio: great new features\n\nnusb/audio: name audio device as audioUxxxx/volumeUxxxx (thanks arne)\n\nnusb/audio: pick a different rate if 44.1kHz is not available\n\nnusb/ether: implement link status for a88179\n\nnusb/kb: increase uchar rep from 512 to 1024, makes thinkpad x280 usb\ntouchscreen work\n\nnusb/ptp: transaction IDs are sequences of numbers starting with 0 (thanks\nunobe)\n\nnusb/usbd: fix typos\n\nnusbrc: ignore ITE RGB LED Controller\n\npc, pc64: fix rlock: nlocks 1 print from vga\n\npc, pc64: simplify error handling setscreensize()\n\npc64: no need to CLI in noteret() and forkret()\n\npc64: set accessed and dirty bits in PTE to avoid write-back\n\npc64: use chain of IDIVQ for delayloop() (former aamloop())\n\npc: fix link order, libc.a after libsec.a (for rand())\n\npc: use JMPF instead of indirect jump for going to syscall()\n\nqio: fix deadlock with qdiscard()\n\nqio: fix queue bloat blocking condition for qwrite()\n\nqlock: keep the caller pc in the qlock for debugging\n\nrudp: better newgen() function, avoiding the lock\n\nrudp: fix start generation randomization and cleanup\n\nsdide: add pci id for SiS 964 IDE controller (thanks mrunix00)\n\nsgi: fix botched conversion to stacks below Proc.\n\nsgi: make newport graphics work in MAME\n\ntcp: fix limbo entry leaks from hell\n\ntcp: remove \u201cMaxSegment\u201d MIB stat, add InLimbo stat\n\nusbxhci: fix high/super speed iso transfers\n\nzynq: fix missing return argument for intr()\n\nzynq: fix unused argument warning in procrestore()\n\n## COMPILERS AND LINKERS\n\n6?, 8?, libc: add JMPF instruction\n\n6[acl], libmach: add 3-byte opcode encoding support for SSE[34] along with\nsome instructions\n\n6c: fix botched \u201cembedded struct conversion codegen\u201d-fix\n\n7c: fix storeprop() sign extension bug\n\n7l: dont dump constant-pool in the middle of switch/case jump table\n\n7l: fix constant pool size for imm14 displacement for TBZ/TBNZ\n\n?c: allow registerizing .ret (thanks rodri)\n\n?c: fix nodret check\n\ncc: don\u2019t rearrange constant scaling across unsigned casts\n\nqc: fix crash, nodet not nused/initialized\n\n## LIBRARIES\n\nlibc, libthread, ape: mark exit functions as _Noreturn and clean up new\nwarnings\n\nlibc: add _callmain to share more initialization code\n\nlibc: correct dst transition times\n\nlibc: deduplicate fake cycles() imeplementation to port/\n\nlibc: remove dead code from main9p.s\n\nlibgeometry: add barycentric interpolation routines\n\nlibgeometry: add matrix minor and cofactor functions\n\nlibgeometry: fix typo from previous commit\n\nlibmach: add DPPD decoding for amd64\n\nlibmach: add HSUBPD decoding for amd64\n\nlibmach: add TBZ and TBNZ instructions for arm64\n\nlibndb: do some extra robustness checks around hash files\n\nlibpcm: audio/pcmconv-as-a-library\n\nlibpcm: fix pcmratio - forgot to adjust for output frame size\n\nlibtags/m4a: \u201cgnre\u201d is non-standard id3v1 style (non-text) - check before\nreading the value\n\nlibtags/wav: don\u2019t stop on data (tags may follow after); don\u2019t stop after 8\nsections either\n\nlibtags/wav: process unknown tags as well\n\nlibtags/wav: respect buffer size when reading tag value\n\nlibtags: add Tcomposer and Tcomment\n\nlibtags: correct 437 codepage\n\nlibtags: fix multiple issues found by fuzzing\n\nlibtags: separate \u201calbum artist\u201d key\n\nlibtags: sync with upstream\n\n## PROGRAMS\n\n*: make Rerror for non existent files consistent\n\n9boot: use BIOS tick counter instead of INT 0x15 WAIT\n\n9fs: add iso case for nightly iso box\n\n9fs: case 9front: move extra to plan9.stanleylieber.com\n\n9nfs: fix rfork() race with shared pid variable\n\n?i: correct memory access\n\nMail: add \u2018Mark +s\u2019 to default tag\n\nMail: show cc list in message view\n\nape: bring in entrypoint changes from libc and fix profiling across the board\n\naudio/flac: remove unused var; add a missing newline\n\naudio/mixfs: allow switching between audio devices (/dev/audio*)\n\naudio/mixfs: convert pcm for devices that are not 44.1kHz\n\naudio/mixfs: fix volume proxying; ignore audioctl and audiostat - not device\nnames\n\naudio/mixfs: resample based on audio dev output format, not just the rate\n\naudio/mkplist: fix wrong pointer being dereferenced\n\naudio/pcmconv: use libpcm\n\naudio/readtags: print Tunknown tags\n\naux/wpa: continue trying to connect when forked\n\nawk: fix out of bounds write with large fields (thanks kristo)\n\nbootrc: make sure essid and wpapsk are used literally\n\ncifs: fix rfork() race with shard pid variable\n\ncifsd: clarify SMBv1 is supported, not SMB 2/3.\n\ndate: remove reference to dead -m flag (thanks Thim Cederlund)\n\ndisk/qcow2: fix crash with misaligned sectors\n\ndisk/smart: fix a warning\n\nethermultilink: ignore link-status of primary\n\next4srv: add append-only and temp files support\n\next4srv: clean up and fix a couple bugs\n\next4srv: correct the \u201cnot found\u201d walk error\n\next4srv: dir/index: disable htree csum checks for now (lwext4 broken); fix a\nfew bugs\n\next4srv: disallow fwrite/ftruncate on files not open for writing\n\next4srv: ext4_crc32c: use u32int macro\n\next4srv: ext4_recover: fix a deadlock on filesystems without a journal\n\next4srv: faster crc32c\n\next4srv: fix ..-walk from a dir under root\n\next4srv: fix a missed size decrement; fix 32-bit int crc32 on big endian\n\next4srv: fix dir/idx case when creating new dirs; update mtime on writes;\nclose dirs after create\n\next4srv: fix ext4_bmap_bit_find_clr returning the wrong bit index\n\next4srv: fix meta csum producing garbage\n\next4srv: fix/simplify ext4_bmap_bits_free\n\next4srv: generate a uuid when doing mkfs; don\u2019t journal ext2\n\next4srv: reduce the number of options, align more with existing filesystems\n\next4srv: remove mbr scanning and writing\n\next4srv: replace ext2srv with ext4srv\n\next4srv: revisit \u201cfix meta csum producing garbage\u201d in a better way\n\next4srv: support ORCLOSE\n\next4srv: update inode change time on wstat\n\next4srv: walk: set QTTMP\n\nfshalt: halt ext4srv as well\n\ng: search .S files\n\ng: search in files with .txt suffix\n\ngames/gba: add rtc GPIO implementation\n\ngit/branch: don\u2019t add dirs to removed file list\n\ngit/fs: don\u2019t unload large objects when inserting into cache\n\ngit/get: move ERR handling into protocol code\n\ngit/log: ensure we\u2019re starting to log from a commit hash\n\ngit/ref.c: check if object is a commit when needed\n\ngit/serve: provide better errors\n\ngit/walk: skip all paths with \u2018.git/\u2019 when creating the index\n\ngit: utilize time zone info when present and ignore it when it\u2019s not\n\nimap4d: be consistant with rest of system in log file name\n\nip/cifsd: dont add pointless logging (already logged when debug is active)\n\nip/dhcpd: don\u2019t override local address for gateway case\n\nip/ipconfig: don\u2019t add default route for ULA prefix\n\nip/ppp: fix race condition with rfork()\n\nip/ppp: increase echo timeout to 5 periods (25 seconds)\n\nip/ppp: lower echo timeout to 2 periods (10 seconds)\n\nip/ppp: remove -> del\n\nip/torrent: allow seeding files from read-only contexts.\n\nip/torrent: fix webseed when there is only one defined in the torrent file\n\nip/torrent: only register note handler in one proc\n\nktrace: _intrr -> noteret (pc64)\n\nktrans: correct Korean input (thanks npmania!)\n\nktrans: graphical upgrade and feedback\n\nmerge3: make identical changes merge cleanly\n\nmk: Various improvements\n\nndb/dns: DoT support\n\nndb/dns: fix dnsservers() function\n\nndb/dns: give each DoT server Maxtcpdialtm + 500ms to complete request\n\nndb/dns: log appropriate message when thumbfile is missing, make tcpfree\nstatic, timeout constants\n\nndb/dns: set procname() for tls server\n\nndb/dnsdebug: fix dnsserver override (thanks moody)\n\nndb/mkhash: handle database= reordering, check offset overflow, remove file\n\nrc: handle Xeflag in exitnext()\n\nrio: fix memory leak with closed kbdtap (thanks aap)\n\nsnoopy: add igmp protocol\n\nsnoopy: teach gre about ethernet and ip6 payloads (thanks arne meyer)\n\nstats: use a high water mark for maximum on graphs\n\ntapefs/^(v6fs 32vfs): fix read errors (thanks Lyssa)\n\ntapefs: fix two warnings\n\ntelco: fix rfork() race for pid\n\nvdiff: a visual diff viewer\n\nvdiff: add ability to collapse file diffs\n\nvdiff: add support for stripping path elements when plumbing\n\nvdiff: correctly strip more than one prefix\n\nvncs: bind devswap also for memory(1), this used to be in devcons\n\nvncv: implement autoscaling via -a flag (thanks unobe)\n\nzuke: add \u201ccomposer\u201d tag support (column hidden by default)\n\n## DOCUMENTATION\n\n/sys/doc/nssec.ms: fix references section header\n\nacmed(8): fix typos\n\naudio(1): add a missing comma\n\naudio(1): mention mixfs resampling audio\n\ncal(1): indicate which reformation date is used\n\ncal(1): remove redundant statement\n\ndiff(1): docuemnt merge3\n\ndiff(1): include merge3 name in diff manpage\n\next4srv(4): fshalt works with ext4srv now, update; add SOURCE section\n\nfilter(1): small typesetting error\n\ngit(1): conform NAME to indexing assumptions\n\nkeyboard(6): use >> instead of > for caps example (thanks moody)\n\nndb(8): document thumbprint file for DoT\n\nnusb(4): document usbhubctl command format for PPPS\n\nnusb(4): fix Audio section\n\nnusb(4): fix audio(3) reference\n\nplan9.ini(8): document $sysname override\n\nrio(1), rio(4): wctl /srv pipe is dead, mention \u2018none\u2019 attach (thanks unobe)\n\nusbtree(8): document usbtree\n\n## OTHER\n\n/lib/ndb/common: add tcp=dot port=853 entry\n\n/lib/terry: speak no ill of the dead\n\n/lib/theo: there is another possibility is everyone is out to get you.\n\n/sys/lib/acid/kernel: fix proctab()\n\n/sys/lib/dist/ndb/common: remove old random auth domains\n\n/sys/lib/dist/ndb: update root servers and add script to keep them updated\n\n/sys/lib/kbmap/caps: Add caps kbmap\n\n/sys/src: remove testfiles on mk clean\n\ninst: remove net install support\n\nPowered by werc\n\nAges: 5 & Up\n\n", "frontpage": true}
