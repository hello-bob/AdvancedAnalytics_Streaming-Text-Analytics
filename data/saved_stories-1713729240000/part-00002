{"aid": "40104744", "title": "Ruby Runtime with Vercel Serverless Functions", "url": "https://vercel.com/docs/functions/runtimes/ruby", "domain": "vercel.com", "votes": 1, "user": "Alifatisk", "posted_at": "2024-04-21 11:15:36", "comments": 0, "source_title": "Using the Ruby Runtime with Serverless Functions", "source_text": "Using the Ruby Runtime with Serverless Functions\n\nInfrastructure\n\nVercel Functions\n\nChoosing a Runtime\n\nRuby\n\nReference\n\n2 min read\n\n# Using the Ruby Runtime with Serverless Functions\n\nLearn how to use the Ruby runtime to compile Ruby Serverless Functions on\nVercel.\n\nTable of Contents\n\nNext.js (/app)\n\nThe Ruby runtime is available in Beta on all plans\n\nThe Ruby runtime is currently not compatible with the 20.x Node.js version\nsetting. You should continue to use 18.x. To learn more, see Build Image.\n\nThe Ruby runtime is used by Vercel to compile Ruby Serverless Functions that\ndefine a singular HTTP handler from .rb files within an /api directory at your\nproject's root.\n\nRuby files must have one of the following variables defined:\n\n  * Handler proc that matches the do |request, response| signature.\n  * Handler class that inherits from the WEBrick::HTTPServlet::AbstractServlet class.\n\nFor example, define a index.rb file inside a /api directory as follows:\n\napi/index.rb\n\n    \n    \n    require 'cowsay' Handler = Proc.new do |request, response| name = request.query['name'] || 'World' response.status = 200 response['Content-Type'] = 'text/text; charset=utf-8' response.body = Cowsay.say(\"Hello #{name}\", 'cow') end\n\nAn example index.rb file inside an /api directory.\n\nInside a Gemfile define:\n\nGemfile\n\n    \n    \n    source \"https://rubygems.org\" gem \"cowsay\", \"~> 0.3.0\"\n\nAn example Gemfile file that defines cowsay as a dependency.\n\n## Ruby Version\n\nNew deployments use Ruby 3.2.x as the default version.\n\nYou can specify the version of Ruby by defining ruby in a Gemfile, like so:\n\nGemfile\n\n    \n    \n    source \"https://rubygems.org\" ruby \"~> 3.2.x\"\n\nWhen defining a Ruby version, the following Ruby versions can be selected:\n\n  * 3.2.x (default)\n  * 2.7.x (disabled since December 7th 2023)\n  * 2.5.x (disabled since November 30th 2021)\n\nIf the patch part of the version is defined, like 3.2.1 it will be ignored and\nassume the latest 3.2.x.\n\n## Ruby Dependencies\n\nThis runtime supports installing dependencies defined in the Gemfile.\nAlternatively, dependencies can be vendored with the bundler install\n--deployment command (useful for gems that require native extensions). In this\ncase, dependencies are not built on deployment.\n\nLast updated on April 19, 2024\n\nPrevious\n\nPython\n\nNext\n\nEdge Runtime\n\nWas this helpful?\n\nNext.js (/app)\n\nChoose a framework to optimize documentation to:\n\nOn this page\n\n  * Ruby Version\n  * Ruby Dependencies\n\n", "frontpage": false}
