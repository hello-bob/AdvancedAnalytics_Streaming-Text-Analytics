{"aid": "40155050", "title": "Skytable 0.8.2", "url": "https://skytable.io/blog/2024/04/skytable-0.8.2/", "domain": "skytable.io", "votes": 1, "user": "electic", "posted_at": "2024-04-25 08:47:36", "comments": 0, "source_title": "Skytable 0.8.2: BlueQL features, pipelines, SE ops, fixes | Skytable Blog", "source_text": "Skytable 0.8.2: BlueQL features, pipelines, SE ops, fixes | Skytable Blog\n\nLoading...\n\n##### Menu\n\n  * Home\n  * Docs\n  * Blog\n  * Downloads\n  * Roadmap\n\nInstall now GitHub\n\nInstall now GitHub\n\n  1. Home\n  2. Blog\n\n# Skytable 0.8.2: BlueQL features, pipelines, SE ops, fixes\n\nApril 23, 2024 By Sayan Nandan\n\nWe\u2019re extremely happy to announce the release of Skytable 0.8.2. This release\nincludes some new additions to BlueQL, improvements to storage engine\noperations and fixes a bunch of bugs. Let\u2019s take a look at what has changed.\n\n## New BlueQL features\n\n### Upsert\n\nWe added the UPSERT query that enables you to either replace a row if the row\nis present or insert a new one. This can be extremely useful in cases where\nyou want to run SET like K/V operations and the current value of the row isn\u2019t\nimportant. The syntax is largely the same as BlueQL\u2019s INSERT:\n\n    \n    \n    UPSERT INTO myspace.mymodel('hello', 'world') # parameters omitted\n\n### Query Shorthands\n\nWe\u2019ve also added support for query shorthands that can come in clutch if\nyou\u2019re trying to reduce network overhead or if you\u2019re debugging. These are the\nquery shorthands:\n\n  * INS: INSERT\n  * SEL: SELECT\n  * UPD: UPDATE\n  * DEL: DELETE\n  * UPS: UPSERT\n\n## Pipelines\n\nPipelining support has finally returned to Skytable. You can now send multiple\nqueries to the server at once and have the server execute them serially and\nreturn responses in the order queries were sent. Here\u2019s an example using the\nRust driver:\n\n    \n    \n    use skytable::{pipe, query, ConnectionAsync, Config}; let mut con = Config::new_default(\"root\", \"pass\").connect_async().await.unwrap(); let pipeline = pipe!( query!(\"create space db\"), query!(\"create model db.mdl(name: string, fav: float64)\"), query!(\"insert into db.mdl(?,?)\", \"sayan\", 3.14_f64) ); // use the results this somewhere let _ = con.execute_pipeline(&pipeline).await.unwrap();\n\n## Storage engine operations\n\nWe have made several improvements and fixed several bugs in the storage\nengine. The most important addition is the ability to explicitly trigger a\ncompaction, where the database files are optimized to smaller sizes (if\npossible). This can be invoked by running:\n\n    \n    \n    skyd compact\n\nThe server now also attempts to automatically compact the database files\nduring startup. Note that the server will not forcefully compact the database\n(unlike skyd compact which triggers a forceful compaction); instead, the\nserver will determine if a compaction is needed using internal heuristics.\n\nOverall, these utilities help you as a database administrator to ensure that\ndatabase files don\u2019t grow too large and also helps improve performance and\nmemory usage (due to smaller database files). Before any compaction is run,\nall database files are fully backed up in the backups/ directory so in the\nevent something goes wrong, you can always restore your files from the backup.\n\n## ARM64 releases\n\nAs announced earlier, from this release (and onwards) we are shipping full\nbundles of ARM64 binaries for macOS and Linux targets. The Linux target also\nincludes a Debian package which sets up systemd units, passwords and more.\n\n## Looking ahead\n\nWe strongly recommend you to upgrade to Skytable 0.8.2, especially because of\nthe SE compaction system that was added (even if you do not plan to use the\nnew BlueQL additions). Go ahead and download the latest release here. As\nalways, if you find any bugs please report them here.\n\nWe\u2019re currently hard at work on the clustering and replication system and we\nhope to ship them soon. See you at the next release!\n\nLast updated on: April 23, 2024\n\n2 min read\n\n###### Get our source code here\n\n###### Share this post:\n\nSkytable's open-source edition is distributed under the AGPL-3.0 License. This\nlicense however does not grant you the right to use our logo.\n\n###### Useful links Useful Links\n\n  * Home\n  * Blog\n  * Source code\n  * Features\n  * Docs\n  * Deployment\n\n###### Social Social\n\n  * Discord\n  * LinkedIn\n  * Twitter\n  * GitHub\n\n###### Contact Us\n\nDrop us an e-mail here\n\n\u00a9 Skytable, Inc. All rights reserved.\n\nTop\n\n", "frontpage": false}
