{"aid": "40283607", "title": "Better-Prometheus: A better Prometheus library for PHP applications", "url": "https://github.com/danog/better-prometheus", "domain": "github.com/danog", "votes": 1, "user": "danogentili", "posted_at": "2024-05-07 08:57:19", "comments": 0, "source_title": "GitHub - danog/better-prometheus: A better Prometheus library for PHP applications.", "source_text": "GitHub - danog/better-prometheus: A better Prometheus library for PHP\napplications.\n\nSkip to content\n\n## Navigation Menu\n\nSign in\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch syntax tips\n\nSign in\n\nSign up\n\nYou signed in with another tab or window. Reload to refresh your session. You\nsigned out in another tab or window. Reload to refresh your session. You\nswitched accounts on another tab or window. Reload to refresh your session.\nDismiss alert\n\ndanog / better-prometheus Public\n\n  * Sponsor\n  * Notifications\n  * Fork 0\n  * Star 4\n\nA better Prometheus library for PHP applications.\n\n### License\n\nApache-2.0 license\n\n4 stars 0 forks Branches Tags Activity\n\nStar\n\nNotifications\n\n# danog/better-prometheus\n\nThis commit does not belong to any branch on this repository, and may belong\nto a fork outside of the repository.\n\n1 Branch\n\n1 Tags\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\ndanogImprove docsMay 3, 202499f8d94 \u00b7 May 3, 2024May 3, 2024\n\n## History\n\n7 Commits  \n  \n### .github\n\n|\n\n### .github\n\n| Improve docs| May 3, 2024  \n  \n### docs\n\n|\n\n### docs\n\n| Improve docs| May 3, 2024  \n  \n### examples\n\n|\n\n### examples\n\n| Improve docs| May 3, 2024  \n  \n### lib\n\n|\n\n### lib\n\n| Finalize| May 3, 2024  \n  \n### .gitignore\n\n|\n\n### .gitignore\n\n| First commit| May 3, 2024  \n  \n### .php-cs-fixer.dist.php\n\n|\n\n### .php-cs-fixer.dist.php\n\n| First commit| May 3, 2024  \n  \n### LICENSE\n\n|\n\n### LICENSE\n\n| First commit| May 3, 2024  \n  \n### NOTICE\n\n|\n\n### NOTICE\n\n| First commit| May 3, 2024  \n  \n### README.md\n\n|\n\n### README.md\n\n| Improve docs| May 3, 2024  \n  \n### composer.json\n\n|\n\n### composer.json\n\n| First commit| May 3, 2024  \n  \n### psalm.xml\n\n|\n\n### psalm.xml\n\n| First commit| May 3, 2024  \n  \n## Repository files navigation\n\n# better-prometheus\n\nA better Prometheus library for PHP applications.\n\nOffers a modern, clean PHP 8.1 API, with support for default label values,\nbased on and compatible with the original promphp/prometheus_client_php\nlibrary.\n\n## Installation\n\n    \n    \n    composer require danog/better-prometheus\n\n## Usage\n\n    \n    \n    <?php require 'vendor/autoload.php'; use danog\\BetterPrometheus\\BetterCollectorRegistry; use Prometheus\\Storage\\InMemory; use Prometheus\\Storage\\Redis; $adapter = new InMemory; // Any other promphp adapter may also be used... // $adapter = new Redis(); $registry = new BetterCollectorRegistry($adapter); // Note the difference with promphp: the labels are keys => values, not just keys. $counter = $registry->getOrRegisterCounter( 'test', 'some_counter', 'it increases', // Note: these are default label key+values, they will be sent verbatim, no changes ['someLabel' => 'defaultValue'] ); // Specify some additional labels post-construction like this (both keys and values)... $counter->incBy(3, ['type' => 'blue']); // ...or add some more default labels to the counter, creating a new counter: $newCounter = $counter->addLabels(['someOtherLabel' => 'someOtherDefaultValue']); assert($newCounter !== $counter); // true $newCounter->incBy(3, ['type' => 'blue']); // Gauges can also be used $gauge = $registry->getOrRegisterGauge( 'test', 'some_gauge', 'it sets', ['someLabel' => 'defaultValue'] ); $gauge->set(2.5, ['type' => 'blue']); // As well as histograms $histogram = $registry->getOrRegisterHistogram( 'test', 'some_histogram', 'it observes', ['someLabel' => 'defaultValue'], // [0.1, 1, 2, 3.5, 4, 5, 6, 7, 8, 9] ); $histogram->observe(3.5, ['type' => 'blue']); // And suummaries $summary = $registry->getOrRegisterSummary( 'test', 'some_summary', 'it observes a sliding window', ['someLabel' => 'defaultValue'], // 84600, // [0.01, 0.05, 0.5, 0.95, 0.99] ); $summary->observe(5, ['type' => 'blue']);\n\n## API documentation\n\nSee here \u00bb for the full API documentation.\n\n## About\n\nA better Prometheus library for PHP applications.\n\n### Resources\n\nReadme\n\n### License\n\nApache-2.0 license\n\nActivity\n\n### Stars\n\n4 stars\n\n### Watchers\n\n2 watching\n\n### Forks\n\n0 forks\n\nReport repository\n\n## Releases 1\n\nFirst release! Latest\n\nMay 3, 2024\n\n## Sponsor this project\n\ndanog Daniil Gentili\n\nSponsor\n\nLearn more about GitHub Sponsors\n\n## Packages 0\n\nNo packages published\n\n## Languages\n\n  * PHP 100.0%\n\n## Footer\n\n\u00a9 2024 GitHub, Inc.\n\nYou can\u2019t perform that action at this time.\n\n", "frontpage": false}
